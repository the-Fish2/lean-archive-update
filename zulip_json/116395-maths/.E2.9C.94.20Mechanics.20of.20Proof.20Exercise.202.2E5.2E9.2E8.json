[
    {
        "content": "<p>Ahoy all. I was hoping someone could help unblock me with this exercise?</p>\n<p>I feel like the choice I made for <code>a</code> is appropriate but I'm having a lot of trouble figuring out what I should use to then justify the goal.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">{</span><span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">ℤ</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">a</span><span class=\"o\">,</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">^</span> <span class=\"mi\">3</span> <span class=\"bp\">≥</span> <span class=\"n\">n</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"mi\">7</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">use</span> <span class=\"n\">n</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">+</span> <span class=\"mi\">2</span>\n  <span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>The idea I had here was that the left hand side would always be positive while the right hand side can alternate between positive and negative, but, the left hand side's positive values will always be larger than those on the right side. But, I'm having a lot of trouble trying to come up with the justifications for this using stuff like <code>rel</code>, <code>extra</code>, <code>addarith</code> or stuff like <code>le_or_gt</code> on <code>n</code>...</p>\n<p>Is my selection for <code>a</code> (that is <code>n^2 + 2</code>) the problem? Is there a simpler choice I could make here? These last four exercises in chapter 2 have been taking up a lot of time. I suspect maybe my lack of experience with inequalities is probably to blame...</p>",
        "id": 434622455,
        "sender_full_name": "Jonatas Miguel",
        "timestamp": 1713736861
    },
    {
        "content": "<p>I would recommend writing out the block of inequalities that prove it on paper and then using a calc mode proof (while adding in extra lines to make the Lean smooth).  It won't be pretty or elegant, but it'll work. <br>\nExpanding the left and right sides will give you even powers on the left side and odds on the left, so you can use <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Order/Group/Int.html#Int.le_self_sq\">Int.le_self_sq</a> <code>z^2 ≥ z</code> to compare them.</p>\n<p>I brute forced a bad solution by spamming apply?<br>\nYou might be able to improve it using your <code>rel</code>, and <code>extra</code> stuff</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n<p>Spoiler</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<p>example {n : ℤ} : ∃ a, 2 * a ^ 3 ≥ n * a + 7 := by</p>\n<p>use n^2 + 2</p>\n<p>calc</p>\n<p>2 * (n ^ 2 + 2) ^ 3</p>\n<p>= (2 * n ^ 6 + 12 * n^4) + 24 * n^2       + 16 := by linarith</p>\n<p>_  ≥  2 * n ^ 6              + 6 * (4 * n^2) + 16</p>\n<p>:= Int.add_le_add_three (Int.le_add_of_nonneg_right</p>\n<p>(Int.mul_nonneg (by simp) (Even.pow_nonneg (by trivial) n)))</p>\n<p>(by linarith) (by simp)</p>\n<p>_  ≥ n ^ 6 + 4 * n^2 + 7</p>\n<p>:= Int.add_le_add_three (le_mul_of_one_le_left (Even.pow_nonneg (by trivial) n) (by trivial))</p>\n<p>(mul_le_mul (by trivial) (le_mul_of_one_le_left (sq_nonneg n) (by trivial)) (sq_nonneg n) (by trivial)) (by simp)</p>\n<p>_  = (n ^ 3)^2 + (2 * n)^2 + 7 := by linarith</p>\n<p>_  ≥ n ^ 3 + 2 * n + 7 := Int.add_le_add_three (Int.le_self_sq (n ^ 3)) (Int.le_self_sq (2 * n)) (by trivial)</p>\n<p>_  = n * (n ^ 2 + 2) + 7 := by linarith</p>\n</div></div>",
        "id": 434632068,
        "sender_full_name": "Sigma",
        "timestamp": 1713747256
    },
    {
        "content": "<p>How does <code>nlinarith</code> get on?</p>",
        "id": 434635455,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1713750417
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"495981\">@Jonatas Miguel</span> Your choice <code>n ^ 2 + 2</code> isn't the witness I had in mind, but I was able to make it work!  Idea: Express <code>2 * (n ^ 2 + 2) ^ 3 - (n * (n ^ 2 + 2) + 7)</code> as a sum of squares.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">{</span><span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">ℤ</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">a</span><span class=\"o\">,</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">^</span> <span class=\"mi\">3</span> <span class=\"bp\">≥</span> <span class=\"n\">n</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"mi\">7</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">use</span> <span class=\"n\">n</span><span class=\"bp\">^</span><span class=\"mi\">2</span> <span class=\"bp\">+</span> <span class=\"mi\">2</span>\n  <span class=\"k\">have</span> <span class=\"n\">H</span> <span class=\"o\">:=</span>\n  <span class=\"k\">calc</span> <span class=\"mi\">0</span> <span class=\"bp\">≤</span> <span class=\"o\">[</span><span class=\"n\">SUM</span> <span class=\"n\">OF</span> <span class=\"n\">SQUARES</span> <span class=\"n\">HERE</span><span class=\"o\">]</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">extra</span>\n    <span class=\"n\">_</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">^</span> <span class=\"mi\">2</span> <span class=\"bp\">+</span> <span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"bp\">^</span> <span class=\"mi\">3</span> <span class=\"bp\">-</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">^</span> <span class=\"mi\">2</span> <span class=\"bp\">+</span> <span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"mi\">7</span><span class=\"o\">))</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n  <span class=\"n\">cancel</span> <span class=\"mi\">2</span> <span class=\"n\">at</span> <span class=\"n\">H</span>\n  <span class=\"n\">addarith</span> <span class=\"o\">[</span><span class=\"n\">H</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 434636627,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1713751366
    },
    {
        "content": "<p>My reference solution to this problem is different: it uses a case split similar to <a href=\"https://hrmacbeth.github.io/math2001/02_Proofs_with_Structure.html#sq-ne-two\">2.3.2</a>, with a different witness in each case.</p>",
        "id": 434636751,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1713751453
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"260507\">@Heather Macbeth</span> thank you for the hints! </p>\n<p>So, I started looking into how to come up with the sum of squares representation and figured maybe I should try your other suggestion instead. It seems determining the sum of squares of that polynomial can be a bit of an involved process (especially for someone with my level of experience, lol).</p>\n<p>Ultimately, that last hint about the reference solution unblocked me, here's what I came up with based on that observation:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">{</span><span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">ℤ</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"bp\">∃</span> <span class=\"n\">a</span><span class=\"o\">,</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">^</span> <span class=\"mi\">3</span> <span class=\"bp\">≥</span> <span class=\"n\">n</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"mi\">7</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"k\">have</span> <span class=\"n\">H</span> <span class=\"o\">:=</span> <span class=\"n\">le_or_gt</span> <span class=\"n\">n</span> <span class=\"mi\">0</span>\n  <span class=\"n\">obtain</span> <span class=\"n\">l</span> <span class=\"bp\">|</span> <span class=\"n\">r</span> <span class=\"o\">:=</span> <span class=\"n\">H</span>\n  <span class=\"bp\">·</span> <span class=\"n\">use</span> <span class=\"mi\">2</span>\n    <span class=\"k\">have</span> <span class=\"n\">ln</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">≤</span> <span class=\"bp\">-</span><span class=\"n\">n</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">addarith</span> <span class=\"o\">[</span><span class=\"n\">l</span><span class=\"o\">]</span>\n    <span class=\"k\">have</span> <span class=\"n\">gl</span> <span class=\"o\">:=</span>\n      <span class=\"k\">calc</span>\n        <span class=\"mi\">0</span> <span class=\"bp\">≤</span> <span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"mi\">2</span><span class=\"bp\">^</span><span class=\"mi\">3</span> <span class=\"bp\">-</span> <span class=\"mi\">7</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">numbers</span>\n        <span class=\"n\">_</span> <span class=\"bp\">≤</span> <span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"mi\">2</span><span class=\"bp\">^</span><span class=\"mi\">3</span> <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"mi\">2</span> <span class=\"bp\">-</span> <span class=\"mi\">7</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">extra</span>\n    <span class=\"n\">addarith</span> <span class=\"o\">[</span><span class=\"n\">gl</span><span class=\"o\">]</span>\n  <span class=\"bp\">·</span> <span class=\"n\">use</span> <span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">n</span><span class=\"bp\">^</span><span class=\"mi\">2</span>\n    <span class=\"k\">have</span> <span class=\"n\">r1</span> <span class=\"o\">:</span> <span class=\"n\">n</span> <span class=\"bp\">≥</span> <span class=\"mi\">1</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">addarith</span> <span class=\"o\">[</span><span class=\"n\">r</span><span class=\"o\">]</span>\n    <span class=\"k\">have</span> <span class=\"n\">gr</span> <span class=\"o\">:=</span>\n      <span class=\"k\">calc</span>\n        <span class=\"mi\">0</span> <span class=\"bp\">≤</span> <span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">3</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"mi\">8</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">3</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"mi\">7</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">numbers</span>\n        <span class=\"n\">_</span> <span class=\"bp\">≤</span> <span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">3</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"mi\">8</span><span class=\"bp\">*</span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">3</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"bp\">-</span> <span class=\"mi\">7</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rel</span> <span class=\"o\">[</span><span class=\"n\">r1</span><span class=\"o\">]</span>\n        <span class=\"n\">_</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">n</span> <span class=\"bp\">^</span> <span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"bp\">^</span> <span class=\"mi\">3</span> <span class=\"bp\">-</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">n</span> <span class=\"bp\">^</span> <span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"mi\">7</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">ring</span>\n    <span class=\"n\">addarith</span> <span class=\"o\">[</span><span class=\"n\">gr</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 435896625,
        "sender_full_name": "Jonatas Miguel",
        "timestamp": 1714327866
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"495981\">Jonatas Miguel</span> has marked this topic as resolved.</p>",
        "id": 435896646,
        "sender_full_name": "Notification Bot",
        "timestamp": 1714327874
    },
    {
        "content": "<p>BTW, <span class=\"user-mention\" data-user-id=\"260507\">@Heather Macbeth</span> I still want to try to figure out the sum of squares solution at some point, but, I think it would take me a while to figure out how to do that and I just want to try to get as much progress on the MoP book as possible.</p>",
        "id": 435902823,
        "sender_full_name": "Jonatas Miguel",
        "timestamp": 1714332016
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"260507\">@Heather Macbeth</span> after meeting up yesterday with others that were available in NYC we were able to see where I was going wrong with my original approach. It turns out I was adding an unnecessary assumption when trying to determine the sum of squares representation. Effectively I was trying to solve it in a more difficult way than I needed to. Once I was shown that we could just proceed with some simpler steps, we were able to solve it. Here's what it looks like at the end:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">≥</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">2</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">H</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"k\">calc</span>\n<span class=\"w\">      </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"bp\">*</span><span class=\"n\">n</span><span class=\"bp\">^</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">23</span><span class=\"bp\">*</span><span class=\"n\">n</span><span class=\"bp\">^</span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">46</span><span class=\"bp\">*</span><span class=\"n\">n</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">13</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">extra</span>\n<span class=\"w\">      </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">  </span><span class=\"n\">cancel</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">H</span>\n<span class=\"w\">  </span><span class=\"n\">addarith</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">H</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>Essentially, I just needed to get rid of the odd exponents of the polynomial by figuring out sum of squares representations, from there I can keep the rest as is since it ends up being just products of positive numbers with even powers of n, or just a simply positive number.</p>",
        "id": 440916509,
        "sender_full_name": "Jonatas Miguel",
        "timestamp": 1716842082
    }
]