[
    {
        "content": "<p>The file <code>Mathlib.GroupTheory.Perm.Cycle.Basic</code> was too big and this PR splits it in several components:</p>\n<ul>\n<li><code>Mathlib.GroupTheory.Perm.Cycle.Basic</code> contains everything related to a permutation being a cycle (it remains quite big, 1128 lines)</li>\n<li><code>Mathlib.GroupTheory.Perm.Cycle.Factors</code> is about the cycles of a permutation and the decomposition of a permutation into disjoint cycles</li>\n<li><code>Mathlib.GroupTheory.Perm.Closure</code> contains generation results for the permutation groups</li>\n<li><code>Mathlib.GroupTheory.Perm.Finite</code> contains general results specific to permutation of finite types</li>\n</ul>\n<p>I moved some results to <code>Mathlib.GroupTheory.Perm.Support</code></p>\n<p>I also moved some results from <code>Mathlib.GroupTheory.Perm.Sign</code> to <code>Mathlib.GroupTheory.Perm.Finite</code></p>",
        "id": 423116570,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1708735776
    },
    {
        "content": "<p>I see you opened this PR because you got a linter error on <a href=\"https://github.com/leanprover-community/mathlib4/pull/9602\">#9602</a>. Let me reiterate my thoughts: <em>Please only split files you are confident to split</em></p>",
        "id": 423146252,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1708761332
    },
    {
        "content": "<p>I am spending an inordinate amount of time splitting files properly, and I think this number of lines linter is a bad idea because it puts the burden of splitting files on random contributors</p>",
        "id": 423146347,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1708761387
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> since you were involved in the linter becoming a thing</p>",
        "id": 423146360,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1708761404
    },
    {
        "content": "<p>I was completely confident in splitting this and the other file.</p>",
        "id": 423146973,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1708761728
    },
    {
        "content": "<p>The red flag for me here is that the imports of <code>GroupTheory.Perm.Cycle.Basic</code> have barely been reduced</p>",
        "id": 423147089,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1708761812
    },
    {
        "content": "<p>I fear you are trying to catch two rabbits with one stone,but since I was asked by <span class=\"user-mention\" data-user-id=\"130384\">@Riccardo Brasca</span> to do the split, I'll let you discuss this together.</p>",
        "id": 423150157,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1708763890
    },
    {
        "content": "<p>I don't think that reducing import is the only goal of splitting files (thought it is an important one). For example, it is quite difficult to find results in a 3000 lines file. I usually try to see if the splitting makes sense mathematically, making the library more organized.</p>",
        "id": 423152671,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1708765987
    },
    {
        "content": "<p>It doesn't have to be the only goal, but here <code>GroupTheory.Perm.Cycle.Basic</code> is a big dump of imports, so there's definitely something to be done</p>",
        "id": 423152905,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1708766194
    },
    {
        "content": "<blockquote>\n<p>For example, it is quite difficult to find results in a 3000 lines file.</p>\n</blockquote>\n<p>I have frequently found the reverse problem: one of my lemma finding strategies is opening the file containing the definition of interest or a theorem that connects two notions I care about, and browsing around to get a sense of the breadth of the API. This gets harder when some of the important lemmas are in the current file and other (similar, or so I thought) lemmas are hiding in a more advanced file which I have no immediate pathway to investigate.</p>",
        "id": 423156739,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1708769380
    },
    {
        "content": "<p>One aspect of the metamath web pages that really helps me navigate <em>forward</em> in the library is the \"This theorem is referenced by\" section. In theory you can accomplish this in the editor using the \"find all references\" request, but it's not really presented well for browsing purposes</p>",
        "id": 423157356,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1708769690
    },
    {
        "content": "<p>This is also true, but I my opinion it is because the Lean files do not talk enough about math. Or because one lacks an overall readable description of what is in mathlib. (Math in Lean is a good starting point.)</p>",
        "id": 423158794,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1708770887
    },
    {
        "content": "<p>It could be nice if the files had more markdown-like sections and subsections with abstracts and toc, which could been made visible/invisible on the website.</p>",
        "id": 423158913,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1708771003
    },
    {
        "content": "<p>For permutations, a difficulty is that the beginning of the theory is at the interaction of primitive stuff in Lean (around the Equiv types) and more classical constructions. This is the reason, I believe , for the necessary imports. Maybe it is what is <em>before</em> that should be rationalized.</p>",
        "id": 423159510,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1708771603
    },
    {
        "content": "<p>(The file on signature had general subtype constructions, which I moved to the Finite.lean file, I would have preferred to put it even earlier. Also, the file on support does a lot of things, and stuff that belongs here cannot be there because it creates circular imports)</p>",
        "id": 423159638,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1708771736
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130609\">Antoine Chambert-Loir</span> <a href=\"#narrow/stream/144837-PR-reviews/topic/.2310907.20split.20Mathlib.2EGroupTheory.2EPerm.2ECycle.2EBasic/near/423158913\">said</a>:</p>\n<blockquote>\n<p>It could be nice if the files had more markdown-like sections and subsections with abstracts and toc, which could been made visible/invisible on the website.</p>\n</blockquote>\n<p>PRs adding those are very much welcome.</p>",
        "id": 423188753,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1708794407
    }
]