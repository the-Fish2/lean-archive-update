[
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/12563\">#12563</a> removes all (but a minor) <code>erw</code>'s from <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=AlgebraicGeometry.affineLocally_iff_affineOpens_le#doc\">docs#AlgebraicGeometry.affineLocally_iff_affineOpens_le</a> </p>\n<p>Feel free to push if you have a clean up.</p>",
        "id": 436367065,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1714517997
    },
    {
        "content": "<p>I approve of removing erw, but is it that or the universes that cause the speed up?</p>",
        "id": 436453275,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1714541497
    },
    {
        "content": "<p><del>There are no universe changes there that I remember.</del> I guess I started there but it was mainly the <code>erw [\\&lt;- X.presheaf.map_comp]</code> that unfolded something bad (though the badness wasnâ€™t immediate to the eye)</p>",
        "id": 436474100,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1714555960
    },
    {
        "content": "<p>~7 seconds per according to <code>profiler</code></p>",
        "id": 436474532,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1714556220
    },
    {
        "content": "<p>I futzed around and now the contributions for each change are more explicit </p>\n<ul>\n<li>-170B for respecting transparency settings </li>\n<li>-30B for explicit universe level annotations (pending but a guess based on my machine)</li>\n</ul>",
        "id": 436494687,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1714568145
    },
    {
        "content": "<p>I also cleaned up the proof more</p>",
        "id": 436494756,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1714568166
    },
    {
        "content": "<p>The output of <code>simp?</code> could be <a href=\"https://github.com/leanprover-community/mathlib4/pull/12563/commits/520ed1169fe8b889ffcbd6ce8889dcd003b4d793\">significantly pruned</a></p>",
        "id": 436495540,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1714568558
    }
]