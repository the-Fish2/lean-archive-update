[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Diff\"><pre><span></span><code>0bc891bcf7   898 files changed, 3007 deletions(-)\n</code></pre></div>\n<p>All those empty lines have always bugged me a bit. I decided to delete them, but people might have an opinion.</p>",
        "id": 426882533,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1710587269
    },
    {
        "content": "<p>Empty lines were removed by executing the following script twice</p>\n<div class=\"codehilite\" data-code-language=\"Python\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"nn\">os</span>\n<span class=\"kn\">import</span> <span class=\"nn\">re</span>\n\n\n<span class=\"c1\"># Loop through each file in the repository</span>\n<span class=\"k\">for</span> <span class=\"n\">dir_path</span><span class=\"p\">,</span> <span class=\"n\">dirs</span><span class=\"p\">,</span> <span class=\"n\">files</span> <span class=\"ow\">in</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">walk</span><span class=\"p\">(</span><span class=\"s1\">'.'</span><span class=\"p\">):</span>\n  <span class=\"k\">for</span> <span class=\"n\">filename</span> <span class=\"ow\">in</span> <span class=\"n\">files</span><span class=\"p\">:</span>\n    <span class=\"k\">if</span> <span class=\"n\">filename</span><span class=\"o\">.</span><span class=\"n\">endswith</span><span class=\"p\">(</span><span class=\"s1\">'.lean'</span><span class=\"p\">):</span>\n      <span class=\"n\">file_path</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">dir_path</span><span class=\"p\">,</span> <span class=\"n\">filename</span><span class=\"p\">)</span>\n\n      <span class=\"c1\"># Open the file and read its contents</span>\n      <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">file_path</span><span class=\"p\">,</span> <span class=\"s1\">'r'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">file</span><span class=\"p\">:</span>\n        <span class=\"n\">content</span> <span class=\"o\">=</span> <span class=\"n\">file</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span>\n\n      <span class=\"c1\"># Use a regular expression to replace sequences of \"variable\" lines separated by empty lines</span>\n      <span class=\"c1\"># with sequences without empty lines</span>\n      <span class=\"n\">modified_content</span> <span class=\"o\">=</span> <span class=\"n\">re</span><span class=\"o\">.</span><span class=\"n\">sub</span><span class=\"p\">(</span><span class=\"sa\">r</span><span class=\"s1\">'(variable.*\\n)\\n(variable)'</span><span class=\"p\">,</span> <span class=\"sa\">r</span><span class=\"s1\">'\\1\\2'</span><span class=\"p\">,</span> <span class=\"n\">content</span><span class=\"p\">)</span>\n\n      <span class=\"c1\"># Write the modified content back to the file</span>\n      <span class=\"k\">with</span> <span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">file_path</span><span class=\"p\">,</span> <span class=\"s1\">'w'</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">file</span><span class=\"p\">:</span>\n        <span class=\"n\">file</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">modified_content</span><span class=\"p\">)</span>\n</code></pre></div>",
        "id": 426882590,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1710587301
    },
    {
        "content": "<p>What happened to variables lines in mathlib3 that were already separated by blank lines?</p>",
        "id": 426907468,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1710609466
    },
    {
        "content": "<p>Did mathport already make them indistinguishable, or can we preserve them (maybe they appear as triple line breaks or something)?</p>",
        "id": 426907527,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1710609498
    }
]