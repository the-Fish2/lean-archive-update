[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>buzzard@buster:~/lean-projects/FLT$ lake update -R -Kenv=dev mathlib\ninfo: doc-gen4: updating repository '././.lake/packages/doc-gen4' to revision 'c7f4ac84b973b6efd8f24ba2b006cad1b32c9c53'\nerror: ././.lake/packages/mathlib/lakefile.lean:86:2: error: unknown attribute [test_driver]\nerror: ././.lake/packages/mathlib/lakefile.lean: package configuration has errors\nbuzzard@buster:~/lean-projects/FLT$ lake update -R -Kenv=dev\ninfo: doc-gen4: updating repository '././.lake/packages/doc-gen4' to revision '1f51169609a3a7c448558c3d3eb353fb355c7025'\nerror: ././.lake/packages/mathlib/lakefile.lean:86:2: error: unknown attribute [test_driver]\nerror: ././.lake/packages/mathlib/lakefile.lean: package configuration has errors\nbuzzard@buster:~/lean-projects/FLT$\n</code></pre></div>\n<p>Can someone remind me how I'm supposed to do this? That command worked last time according to my notes. I'm sorry I have to keep asking, I have no understanding of lakefiles, I'm just hoping the system becomes stable and I can type the same thing week in week out.</p>",
        "id": 445527008,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1718783157
    },
    {
        "content": "<p>Same error if I try using VS Code upside-down A point and click solution.</p>",
        "id": 445527481,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1718783328
    },
    {
        "content": "<p>Copy the lean toolchain file from mathlib - unfortunately <code>lake update</code> doesn't always work across lean version changes, because you also need to update lake itself</p>",
        "id": 445528071,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1718783527
    },
    {
        "content": "<p>I hadn't internalised that I also had to do this for projects which depended on mathlib (other people have been bumping mathlib for me, i.e. you!)</p>",
        "id": 445540487,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1718787256
    },
    {
        "content": "<p>This is the script I use, for reference:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">L</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">raw</span><span class=\"bp\">.</span><span class=\"n\">githubusercontent</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">/</span><span class=\"n\">master</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">toolchain</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">toolchain</span>\n<span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">Kenv</span><span class=\"bp\">=</span><span class=\"n\">dev</span><span class=\"w\"> </span><span class=\"n\">update</span>\n</code></pre></div>",
        "id": 445543329,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1718788175
    },
    {
        "content": "<p>(that is, it doesn't <em>always</em> work - <code>lake update</code> tries to do this on its own)</p>",
        "id": 445547357,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1718789454
    },
    {
        "content": "<p>Not <code>lake -R -Kenv=dev update mathlib</code>?</p>",
        "id": 445549259,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1718790054
    },
    {
        "content": "<p>Either</p>",
        "id": 445550353,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1718790412
    }
]