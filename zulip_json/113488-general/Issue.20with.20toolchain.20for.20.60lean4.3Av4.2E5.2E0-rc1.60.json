[
    {
        "content": "<p>I've recently (for the past two days or so) been having issues with the toolchain for lean4:v4.5.0-rc1, which seems to fail to install on my laptop. For instance, today when opening a new copy of mathlib4 (via the download project option on VS code), I got the following error:</p>\n<p><code>Cannot determine Lean version: selected elan default toolchain not installed - please set a new default toolchain</code>. </p>\n<p>When running <code>elan show</code>, I get this output: </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">installed</span> <span class=\"n\">toolchains</span>\n<span class=\"c1\">--------------------</span>\n\n<span class=\"n\">nightly</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">3</span><span class=\"bp\">.</span><span class=\"mi\">50</span><span class=\"bp\">.</span><span class=\"mi\">3</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">3</span><span class=\"bp\">.</span><span class=\"mi\">51</span><span class=\"bp\">.</span><span class=\"mi\">1</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">nightly</span><span class=\"bp\">-</span><span class=\"mi\">2023</span><span class=\"bp\">-</span><span class=\"mi\">02</span><span class=\"bp\">-</span><span class=\"mi\">04</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">stable</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4.2.0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4.3.0</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4.3.0</span><span class=\"bp\">-</span><span class=\"n\">rc2</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4.4.0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span>\n<span class=\"n\">v4.5.0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span>\n<span class=\"mi\">4</span><span class=\"bp\">.</span><span class=\"mi\">5</span><span class=\"bp\">.</span><span class=\"mi\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span> <span class=\"o\">(</span><span class=\"n\">default</span><span class=\"o\">)</span>\n\n<span class=\"n\">active</span> <span class=\"n\">toolchain</span>\n<span class=\"c1\">----------------</span>\n\n<span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">v4.5.0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span> <span class=\"o\">(</span><span class=\"n\">overridden</span> <span class=\"kd\">by</span> <span class=\"bp\">'\\\\?\\</span><span class=\"n\">C</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">paull</span><span class=\"bp\">\\</span><span class=\"n\">Desktop</span><span class=\"bp\">\\</span><span class=\"n\">temp</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">toolchain'</span><span class=\"o\">)</span>\n<span class=\"o\">(</span><span class=\"n\">toolchain</span> <span class=\"n\">not</span> <span class=\"n\">installed</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>Would anyone know how to deal with this sort of issue?</p>",
        "id": 410982760,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1704274373
    },
    {
        "content": "<p>(note this has nothing to do with the cache outage)</p>",
        "id": 410982862,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1704274422
    },
    {
        "content": "<p>Running <code>elan default stable</code> should fix it. The problem is that the default toolchain is set to something invalid at the moment.</p>",
        "id": 410982934,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1704274444
    },
    {
        "content": "<p>What is your elan version, by the way? Maybe running <code>elan self update</code> is advisable, just in case</p>",
        "id": 410983000,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1704274478
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"325367\">Mauricio Collares</span> <a href=\"#narrow/stream/113488-general/topic/Issue.20with.20toolchain.20for.20.60lean4.3Av4.2E5.2E0-rc1.60/near/410983000\">said</a>:</p>\n<blockquote>\n<p>What is your elan version, by the way? Maybe running <code>elan self update</code> is advisable, just in case</p>\n</blockquote>\n<p>Seems like my version is <code>elan 3.0.0 (cdb40bff5 2023-09-08)</code></p>",
        "id": 410983113,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1704274534
    },
    {
        "content": "<p>Ah, sorry, my bad. I didn't realize you were opening a project. Did you or an antivirus delete part of your .elan folder? If so, you can completely delete it and it should download the required tool chains.</p>",
        "id": 410983135,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1704274542
    },
    {
        "content": "<p>No worries! I'll try to delete and see what happens!</p>",
        "id": 410983268,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1704274599
    },
    {
        "content": "<p>It's worth mentioning I had the exact same issue when working on the PFR project the other day</p>",
        "id": 410983311,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1704274625
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"325367\">@Mauricio Collares</span> It seems like deleting the <code>.elan</code> folder fixed my issue, thanks a lot for your help!</p>",
        "id": 410984615,
        "sender_full_name": "Paul Lezeau",
        "timestamp": 1704275169
    }
]