[
    {
        "content": "<p>Hi, I'm trying to build a trivial single .lean file executable using nix. I've copied the flake from <a href=\"https://github.com/leanprover/lean4/blob/master/nix/templates/pkg/flake.nix\">here</a> and tweaked the name.</p>\n<p>I also poked around and found <a href=\"https://lean4.cachix.org\">https://lean4.cachix.org</a>. I added it as a substituter to my nix.conf, as well as the associated public key. However, when I <code>nix build</code> I'm still getting <code>building lean-stage0</code> which I very much don't want to do on my laptop. </p>\n<p>I was hoping the cache would have a pre-built copy of lean4 available. Is that the case? if so, is there something I have to do to get it, maybe specify the correct nixpkgs input?</p>",
        "id": 445642572,
        "sender_full_name": "James Sully",
        "timestamp": 1718811726
    },
    {
        "content": "<p>Can you paste the relevant section of nix.conf?</p>",
        "id": 445644231,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1718812091
    },
    {
        "content": "<p>Or just double-check the instructions at <a href=\"https://github.com/leanprover/lean4/blob/371fc8868af55eef20b63b9132cea60eb316c117/doc/setup/nix.md\">https://github.com/leanprover/lean4/blob/371fc8868af55eef20b63b9132cea60eb316c117/doc/setup/nix.md</a></p>",
        "id": 445644659,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1718812198
    },
    {
        "content": "<p>Oh, sorry, I missed <a href=\"https://github.com/leanprover/lean4/pull/3402\">lean4#3402</a></p>",
        "id": 445644950,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1718812258
    },
    {
        "content": "<p>Ah, thank you, and bummer</p>",
        "id": 445647208,
        "sender_full_name": "James Sully",
        "timestamp": 1718812828
    }
]