[
    {
        "content": "<p>Hello, I'm writing some Beamer presentation using pandoc and wondered if there was any KDE syntax highlighting file (<a href=\"https://github.com/KDE/syntax-highlighting/tree/master/data/syntax\">https://github.com/KDE/syntax-highlighting/tree/master/data/syntax</a>) for Lean, apparently, not ; but I'm pretty sure that Pygments support Lean as a target, because <code>minted</code> support Lean.<br>\nDoes anyone how hard would it be to write one for Lean?</p>",
        "id": 197217353,
        "sender_full_name": "Ryan Lahfa",
        "timestamp": 1589239025
    },
    {
        "content": "<p>You could probably adapt one from <a href=\"https://github.com/leanprover/vscode-lean/blob/master/syntaxes/lean.json\">https://github.com/leanprover/vscode-lean/blob/master/syntaxes/lean.json</a> and/or <a href=\"https://github.com/leanprover/lean/blob/master/extras/latex/lstlean.tex\">https://github.com/leanprover/lean/blob/master/extras/latex/lstlean.tex</a></p>",
        "id": 197217500,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1589239122
    },
    {
        "content": "<p>Makes sense, I think the JSON looks easier to port, but it would require my full concentration to do this kind of stuff w/o errors</p>",
        "id": 197217840,
        "sender_full_name": "Ryan Lahfa",
        "timestamp": 1589239339
    },
    {
        "content": "<p>The master branch of pygments has a decent lexer for Lean. I'm hoping they'll cut a release soon so that we can get Zulip's syntax highlighting fixed and also start adding syntax highlighting to the docs and website.</p>",
        "id": 197218186,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1589239598
    },
    {
        "content": "<p>I just wrote a KDE syntax highlighting  file for Lean(4), which was ported from the existing <a href=\"https://github.com/leanprover/lean4/blob/master/doc/latex/lean4.py\">pygments highlighting file for Lean4</a> and <a href=\"https://github.com/leanprover/vscode-lean4/blob/master/vscode-lean4/syntaxes/lean4.json\">VSCode highlighting file for Lean4</a>.<br>\n<a href=\"https://gist.github.com/Hagb/df9044a81525aff0f6b44f4fae3270c0\">https://gist.github.com/Hagb/df9044a81525aff0f6b44f4fae3270c0</a><br>\n<a href=\"/user_uploads/3121/KdNtyuRS9SbEIg5XB5EbYIL3/highlight.png\">highlight.png</a>,  and hardcoded some frequently used tactics to highlight them without semantic highlighting.<br>\nIt can be used by <a href=\"https://kate-editor.org\">Kate</a>, <a href=\"https://github.com/jgm/pandoc/\">pandoc</a> and so on to highlight the Lean code. The following picture is captured from <a href=\"/user_uploads/3121/uguzUUgA4Gfx4xwindunxZmN/highlight.html\">the html file</a> generated with Breeze Light theme.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/KdNtyuRS9SbEIg5XB5EbYIL3/highlight.png\" title=\"highlight.png\"><img src=\"/user_uploads/3121/KdNtyuRS9SbEIg5XB5EbYIL3/highlight.png\"></a></div>",
        "id": 351833734,
        "sender_full_name": "Hagb (Junyu Guo)",
        "timestamp": 1682157522
    },
    {
        "content": "<p>Thanks! I'll try it with Kate.</p>",
        "id": 351852032,
        "sender_full_name": "Bulhwi Cha",
        "timestamp": 1682162565
    },
    {
        "content": "<p>Would it work for lean3 too?</p>",
        "id": 351852935,
        "sender_full_name": "Miguel Marco",
        "timestamp": 1682162819
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"461731\">Miguel Marco</span> <a href=\"#narrow/stream/113488-general/topic/KDE.20syntax.20highlighting.20definition.20for.20Lean.3F/near/351852935\">said</a>:</p>\n<blockquote>\n<p>Would it work for lean3 too?</p>\n</blockquote>\n<p>Maybe not totally working. But I think that the availability for Lean3 is close to the availability for Lean4. (Maybe I should improve it after referring to the existing highlight file for Lean3.)<br>\nI just found that <code>begin</code> was not highlighted. And after trying to highlight the <a href=\"https://github.com/leanprover-community/tutorials\">tutorials</a>, I found that there were still some frequently-used tactics missing.<br>\nNow the highlighting file is updated with <code>begin</code> keyword and more tactics. (In fact, I don't know whether it is a good idea to hardcode the tactics. I am trying to make the highlight look like VSCode's, where the highlighting for tactics is semantic but not hardcoded.)</p>",
        "id": 351856560,
        "sender_full_name": "Hagb (Junyu Guo)",
        "timestamp": 1682164012
    },
    {
        "content": "<p>Thanks, it might be very helpful!</p>\n<p>Related to this, I think another interesting thing to have is a way to run lean in jupyterlab.</p>",
        "id": 351871341,
        "sender_full_name": "Miguel Marco",
        "timestamp": 1682168493
    },
    {
        "content": "<p>Thanks for this! Just leaving as a note for others unsure how to use the <code>.xml</code> file with Lean, this page explains where to copy it: <a href=\"https://docs.kde.org/stable5/en/kate/katepart/highlight.html\">https://docs.kde.org/stable5/en/kate/katepart/highlight.html</a></p>",
        "id": 412989639,
        "sender_full_name": "Malvin Gattinger",
        "timestamp": 1705334982
    },
    {
        "content": "<p>In case it's helpful, the Pygments definitions were slightly improved by <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> while upstreaming them to Pygments. You can find that here now: <a href=\"https://github.com/pygments/pygments/blob/c094455b4aa518909b0a93fffd2b516421750923/pygments/lexers/lean.py#L135\">https://github.com/pygments/pygments/blob/c094455b4aa518909b0a93fffd2b516421750923/pygments/lexers/lean.py#L135</a></p>",
        "id": 412991006,
        "sender_full_name": "Julian Berman",
        "timestamp": 1705335437
    },
    {
        "content": "<p>In particular, the commit logs for that file show the changes applied on top of the old version in the Lean 4 repo</p>",
        "id": 412991395,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1705335572
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"331356\">Hagb (Junyu Guo)</span> <a href=\"#narrow/stream/113488-general/topic/KDE.20syntax.20highlighting.20definition.20for.20Lean.3F/near/351833734\">said</a>:</p>\n<blockquote>\n<p>I just wrote a KDE syntax highlighting  file for Lean(4), which was ported from the existing <a href=\"https://github.com/leanprover/lean4/blob/master/doc/latex/lean4.py\">pygments highlighting file for Lean4</a> and <a href=\"https://github.com/leanprover/vscode-lean4/blob/master/vscode-lean4/syntaxes/lean4.json\">VSCode highlighting file for Lean4</a>.<br>\n<a href=\"https://gist.github.com/Hagb/df9044a81525aff0f6b44f4fae3270c0\">https://gist.github.com/Hagb/df9044a81525aff0f6b44f4fae3270c0</a><br>\n<a href=\"/user_uploads/3121/KdNtyuRS9SbEIg5XB5EbYIL3/highlight.png\">highlight.png</a>,  and hardcoded some frequently used tactics to highlight them without semantic highlighting.<br>\nIt can be used by <a href=\"https://kate-editor.org\">Kate</a>, <a href=\"https://github.com/jgm/pandoc/\">pandoc</a> and so on to highlight the Lean code. The following picture is captured from <a href=\"/user_uploads/3121/uguzUUgA4Gfx4xwindunxZmN/highlight.html\">the html file</a> generated with Breeze Light theme.</p>\n</blockquote>\n<p>Is there a repository hosting this KDE syntax highlighting file for Lean 4 that can be used in pandoc?</p>",
        "id": 417446426,
        "sender_full_name": "Kevin Cheung",
        "timestamp": 1706016855
    },
    {
        "content": "<p>I just learned that a gist is also repository. Writing this into <code>test.md</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Markdown\"><pre><span></span><code>~~~lean\ndef test := sorry\n~~~\n</code></pre></div>\n<p>And then running this:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>git<span class=\"w\"> </span>clone<span class=\"w\"> </span>https://gist.github.com/df9044a81525aff0f6b44f4fae3270c0.git\npandoc<span class=\"w\"> </span>--standalone<span class=\"w\"> </span>--syntax-definition<span class=\"w\"> </span>df9044a81525aff0f6b44f4fae3270c0/lean.xml<span class=\"w\"> </span>test.md<span class=\"w\"> </span>-o<span class=\"w\"> </span>test.html\nfirefox<span class=\"w\"> </span>test.html\n</code></pre></div>\n<p>seems to work :-)</p>",
        "id": 417449109,
        "sender_full_name": "Malvin Gattinger",
        "timestamp": 1706017727
    },
    {
        "content": "<p>Works great! Thank you!</p>",
        "id": 417983017,
        "sender_full_name": "Kevin Cheung",
        "timestamp": 1706139961
    }
]