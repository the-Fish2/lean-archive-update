[
    {
        "content": "<p>This <a href=\"https://proofassistants.stackexchange.com/questions/3997/offline-install\">PA.SX question</a> might be interesting to folks.  They are wondering how to install and run Lean from a thumb drive (no internet).  I assume those who teach might have thought of this.  (If you have a complete answer, it would be good to post it there.)</p>",
        "id": 440711564,
        "sender_full_name": "Jason Rute",
        "timestamp": 1716727977
    },
    {
        "content": "<p>There is no official lean docker container is there?</p>",
        "id": 440714422,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1716731083
    },
    {
        "content": "<p>There is <code>.docker/gitpod/Dockerfile</code> in the Mathlib repository.</p>",
        "id": 440715769,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1716732424
    },
    {
        "content": "<p>Is it published on docker hub?</p>",
        "id": 440715877,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1716732534
    },
    {
        "content": "<p>No. Back in mathlib3 days it was, but it appeared that it was insufficiently useful to warrant the logistical overhead of keeping it up to date.</p>",
        "id": 440716241,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1716732935
    },
    {
        "content": "<p>I assume the trick here is installing elan on the flash drive, then the rest is easy (as long as you're not trying to work across multiple platforms)</p>",
        "id": 440716729,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716733422
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/113488-general/topic/Lean.20on.20a.20thumb.20drive/near/440716729\">said</a>:</p>\n<blockquote>\n<p>I assume the trick here is installing elan on the flash drive, then the rest is easy (as long as you're not trying to work across multiple platforms)</p>\n</blockquote>\n<p>At least with the PA.SX question they arenâ€™t using internet which is needed to use Elan.</p>",
        "id": 440719737,
        "sender_full_name": "Jason Rute",
        "timestamp": 1716736261
    },
    {
        "content": "<p>Elan doesn't need the internet once it (and the toolchain) is installed</p>",
        "id": 440725214,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716741789
    },
    {
        "content": "<p>\"(and the toolchain)\" is the important point, yeah :)</p>",
        "id": 440725588,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1716742090
    },
    {
        "content": "<p>True, though once you succeed in installing elan on the flash drive, the rest of the instructions are just \"do the rest of the normal process of installing a Lean project while you're online\" and the result is a fully-configured flash drive that works offline.</p>",
        "id": 440725764,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716742296
    },
    {
        "content": "<p>The main non-obvious instruction I can think of is what the user should put in their project's settings to point VSCode to the thumbdrive toolchain via relative path. Otherwise they may have to configure it every time they plug in the drive unless the mount point is deterministic.</p>",
        "id": 440726827,
        "sender_full_name": "llllvvuu",
        "timestamp": 1716743326
    },
    {
        "content": "<p>Has anyone tried packaging lean toolchain +mathlib + cache for a fixed version into an AppImage?</p>",
        "id": 440727784,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1716744473
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"607118\">llllvvuu</span> <a href=\"#narrow/stream/113488-general/topic/Lean.20on.20a.20thumb.20drive/near/440726827\">said</a>:</p>\n<blockquote>\n<p>The main non-obvious instruction I can think of is what the user should put in their project's settings to point VSCode to the thumbdrive toolchain via relative path. Otherwise they may have to configure it every time they plug in the drive unless the mount point is deterministic.</p>\n</blockquote>\n<p>Sourcing the <code>.elan/bin/env</code> from the flash drive should hopefully be enough to achieve this, which could be done as part of a script that launches vscode on the right directory.</p>",
        "id": 440728237,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716744991
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/stream/113488-general/topic/Lean.20on.20a.20thumb.20drive/near/440727784\">said</a>:</p>\n<blockquote>\n<p>Has anyone tried packaging lean toolchain +mathlib + cache for a fixed version into an AppImage?</p>\n</blockquote>\n<p>Yes, this has been done at various points, but unfortunately the second step (setting up a regular build, with a CI process that tests it works) has not happened to my knowledge, so these efforts have not persisted.</p>",
        "id": 440733448,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1716750783
    }
]