[
    {
        "content": "<p>Since a few hours ago, if you tag a PR with the <code>move-decls</code> label, a bot will post a \"reduced diff\" that tries to match declaration names that have been removed and added.  If it finds such a pair, it ignores it, reporting only names that correspond to declarations that are \"new\" or declarations that are \"lost\".</p>\n<p>This is mostly useful to help that no declaration is lost in refactors/splits.  If you use it and find some quirks, please report it, so that I can try to improve it!</p>",
        "id": 438346828,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1715602654
    },
    {
        "content": "<p>You can also run this locally by typing</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>./scripts/no_lost_declarations.sh<span class=\"w\"> </span>short\n</code></pre></div>",
        "id": 438347091,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1715602722
    },
    {
        "content": "<p>The underlying script is text-based, so expect it not to notice fairly obvious matches.  The hope is that the diff that is produced is simpler to check than actually going through what GitHub shows.</p>",
        "id": 438347514,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1715602839
    },
    {
        "content": "<p>Hi Damiano, I just tried this out on <a href=\"https://github.com/leanprover-community/mathlib4/pull/12939\">#12939</a> (a large-file-split PR) and the script seems to have failed with a weird error message – any idea what's going on there?</p>",
        "id": 438956270,
        "sender_full_name": "David Loeffler",
        "timestamp": 1715844095
    },
    {
        "content": "<p>Running the script locally works and says that there are no changes at all. So is it possible that the script posting the results to github doesn't correctly handle the situation when the set of changes is empty?</p>",
        "id": 438957197,
        "sender_full_name": "David Loeffler",
        "timestamp": 1715844450
    },
    {
        "content": "<p>I think that <a href=\"https://github.com/leanprover-community/mathlib4/pull/12932\">#12932</a> already addresses this, but is not merged...</p>",
        "id": 438962310,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1715846400
    },
    {
        "content": "<p>OK great, I'll try that out next time I have a refactoring PR.</p>",
        "id": 438964476,
        "sender_full_name": "David Loeffler",
        "timestamp": 1715847200
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> seems like the script didn't pick up new <code>protected lemma</code>s in <a href=\"https://github.com/leanprover-community/mathlib4/pull/13147\">#13147</a></p>",
        "id": 441435405,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1717067833
    },
    {
        "content": "<p>If </p>\n<hr>\n<p><code>+ eq_or_lt_of_le</code><br>\n<code>+ ge_of_eq</code><br>\n<code>+ le_of_eq</code><br>\n<code>+ le_or_lt</code><br>\n<code>+ le_rfl</code><br>\n<code>+ le_trans</code><br>\n<code>+ lt_asymm</code><br>\n<code>+ lt_iff_le_and_ne</code><br>\n<code>+ lt_last_iff_ne_last</code><br>\n<code>+ lt_of_le_of_lt</code><br>\n<code>+ lt_of_lt_of_le</code><br>\n<code>+ lt_or_eq_of_le</code><br>\n<code>+ lt_or_le</code><br>\n<code>+ lt_or_lt_of_ne</code><br>\n<code>+ lt_trans</code><br>\n<code>+ ne_last_of_lt</code><br>\n<code>+ ne_zero_of_lt</code></p>\n<hr>\n<p>looks correct, then <a href=\"https://github.com/leanprover-community/mathlib4/pull/13376\">#13376</a> is a PR fixing the issue!</p>",
        "id": 441436558,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1717068239
    },
    {
        "content": "<p>Yes, looks a lot more plausible. Thanks!</p>",
        "id": 441437930,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1717068687
    },
    {
        "content": "<p><img alt=\":merge:\" class=\"emoji\" src=\"https://zulip-avatars.s3.amazonaws.com/3121/emoji/images/18527.png\" title=\"merge\"></p>",
        "id": 441439210,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1717069167
    },
    {
        "content": "<p>By the way, thank you very much for reporting bugs in <code>move-decls</code>!</p>",
        "id": 441443295,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1717070879
    }
]