[
    {
        "content": "<p>Where can I find the definitions for all of lake's error codes.</p>",
        "id": 421725500,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1708025335
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 421748976,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1708034711
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"676310\">@Frederick Pu</span>, can you give a example of what you mean? It's not clear to me what you're looking for.</p>",
        "id": 421840132,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1708082678
    },
    {
        "content": "<p>The following occured when I was trying to setup the Lean 4 Game dev container.</p>\n<p><a href=\"/user_uploads/3121/Xy0ntfAzqUrIKy2-BZdIqte4/Screenshot-2024-02-16-094459.png\">Screenshot-2024-02-16-094459.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/Xy0ntfAzqUrIKy2-BZdIqte4/Screenshot-2024-02-16-094459.png\" title=\"Screenshot-2024-02-16-094459.png\"><img src=\"/user_uploads/3121/Xy0ntfAzqUrIKy2-BZdIqte4/Screenshot-2024-02-16-094459.png\"></a></div>",
        "id": 421872365,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1708094790
    },
    {
        "content": "<p>Then I think a better question is to ask someone like <span class=\"user-mention\" data-user-id=\"385895\">@Jon Eugster</span>  what to do next, because what's actually going on is that lake is being actively maintained and changed right now, and there are lot of moving parts with the gameserver, so the issue is getting them all to be in the right place at the right time, and right now this can only be done with professional help :-)</p>",
        "id": 421882654,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1708097805
    },
    {
        "content": "<p>You are getting a manifest error. This can be remedied by deleting the <code>lake-manifest.json</code> file and also the <code>./.lake</code> folder.</p>",
        "id": 421885394,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1708098580
    },
    {
        "content": "<p>Then run <code>lake build</code></p>",
        "id": 421885440,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1708098594
    },
    {
        "content": "<p>you might want to run <code>lake update</code> before you run <code>lake build</code>. But this could create problems of incompatible versions.</p>",
        "id": 421885660,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1708098662
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/113488-general/topic/Lake.20error.20codes/near/421882654\">said</a>:</p>\n<blockquote>\n<p>Then I think a better question is to ask someone like <span class=\"user-mention silent\" data-user-id=\"385895\">Jon Eugster</span>  what to do next, because what's actually going on is that lake is being actively maintained and changed right now, and there are lot of moving parts with the gameserver, so the issue is getting them all to be in the right place at the right time, and right now this can only be done with professional help :-)</p>\n</blockquote>\n<p>Yeah, I just talked to him and resolved the error.</p>",
        "id": 421886537,
        "sender_full_name": "Frederick Pu",
        "timestamp": 1708098925
    },
    {
        "content": "<p>Indeed, what <span class=\"user-mention\" data-user-id=\"466334\">@Shreyas Srinivas</span> says. If in doubt,</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">rm</span> <span class=\"bp\">-</span><span class=\"n\">rf</span> <span class=\"bp\">.</span><span class=\"n\">lake</span>\n<span class=\"n\">rm</span> <span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">manifest.json</span>\n<span class=\"n\">lake</span> <span class=\"n\">update</span> <span class=\"bp\">-</span><span class=\"n\">R</span>\n</code></pre></div>\n<p>is a good approach to deal with a bad state of lake. Opposed to projects like <code>mathlib</code>, I generally try to have any <code>lakefile.lean</code> always in a state such that <code>lake update -R</code> is a safe operation (i.e. have the versions of packages fixed in there). I'm not sure if <code>lake clean</code> would be a suitable command instead of <code>lake update -R</code>.</p>",
        "id": 421888542,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1708099301
    },
    {
        "content": "<p>Improvements are in the pipeline here. We're aware there are three things going on, all of which are being addressed:</p>\n<ul>\n<li>The change to field name (<code>leanOptions</code>) wasn't sufficiently backwards compatible (i.e. the final error message should have given you something actionable)</li>\n<li>lake -R is currently required to override \"sticky\" state that probably shouldn't exist</li>\n<li>for simple projects, Turing complete configuration files are overkill</li>\n</ul>",
        "id": 421946850,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1708121590
    },
    {
        "content": "<p>They are not only overkill, they also make it much harder to automatically fix issues like your first point.</p>",
        "id": 421947121,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1708121714
    },
    {
        "content": "<p>And they also make it much harder to write lakefiles from other other tools such as my leanblueprint tool which helps setting up a blueprint. Here I simply want a python script to add a requirement to the lakefile. This would be trivial to do reliably to a toml or yaml or ini file.</p>",
        "id": 421947333,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1708121787
    },
    {
        "content": "<p>And it was pretty ironic to work on packaging this python tool in this context. I don’t do python packaging often enough to remember it. So every time I need to read again all those webpage explaining why Python moved away from <code>setup.py</code> which is the equivalent of <code>lakefile.lean</code> and towards <code>pyproject.toml</code> which is a toml file.</p>",
        "id": 421947591,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1708121910
    },
    {
        "content": "<p>I don't see how removing Turing completeness solves your issue. This is a case of not having a suitably high level python API for dealing with a suitable subset of the lake DSL that suffices for simple projects</p>",
        "id": 421952163,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1708124579
    },
    {
        "content": "<p>It is easy to change toml files through python because you have this high level API.</p>",
        "id": 421952403,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1708124722
    }
]