[
    {
        "content": "<p>Anybody here maintains <code>doc-gen4</code>? Small suggestions:</p>\n<ol>\n<li>CSS for <code>h1, h2</code>, etc. should not be fixed to <code>17px</code>. This erases the visual hierarchy we're used to in docs3.</li>\n<li>CSS for <code>code</code>, etc. should not be fixed to <code>16px</code>. Instead, change it to <code>90%</code>.</li>\n</ol>\n<p>I'm open to more fine tuning, but just removing lines 24 and 680 in <a href=\"https://github.com/leanprover/doc-gen4/blob/main/static/style.css\">style.css</a> will be an instant improvement.</p>",
        "id": 411452744,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1704500063
    },
    {
        "content": "<p>Im the maintainer, feel free to shoot a PR with however many CSS improvements you'd like, I barely survive in the frontend with my skills :D.</p>",
        "id": 411452978,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1704500180
    },
    {
        "content": "<p>Will do!</p>",
        "id": 411453047,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1704500224
    },
    {
        "content": "<p>I opened <a href=\"https://github.com/leanprover/doc-gen4/pull/173\">this PR</a>. I ended up making a number of stylistic changes and fixing a couple typos in the CSS.</p>\n<p>How do I build and test it on my machine quickly without having to generate the entire mathlib4 docs?</p>",
        "id": 411465960,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1704507886
    },
    {
        "content": "<p>Before/after<br>\n<a href=\"/user_uploads/3121/VQKdj-7vvDiWikvdb2QaMEW1/Screenshot-2024-01-05-at-18.44.57.png\">Screenshot-2024-01-05-at-18.44.57.png</a><br>\n<a href=\"/user_uploads/3121/bMM6K9G4Ql3cJc8aX24CklIb/Screenshot-2024-01-05-at-18.42.13.png\">Screenshot-2024-01-05-at-18.42.13.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/VQKdj-7vvDiWikvdb2QaMEW1/Screenshot-2024-01-05-at-18.44.57.png\" title=\"Screenshot-2024-01-05-at-18.44.57.png\"><img src=\"/user_uploads/3121/VQKdj-7vvDiWikvdb2QaMEW1/Screenshot-2024-01-05-at-18.44.57.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/bMM6K9G4Ql3cJc8aX24CklIb/Screenshot-2024-01-05-at-18.42.13.png\" title=\"Screenshot-2024-01-05-at-18.42.13.png\"><img src=\"/user_uploads/3121/bMM6K9G4Ql3cJc8aX24CklIb/Screenshot-2024-01-05-at-18.42.13.png\"></a></div>",
        "id": 411467489,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1704508966
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"416472\">Winston Yin (尹維晨)</span> <a href=\"#narrow/stream/113488-general/topic/doc-gen4.20suggestions/near/411465960\">said</a>:</p>\n<blockquote>\n<p>I opened <a href=\"https://github.com/leanprover/doc-gen4/pull/173\">this PR</a>. I ended up making a number of stylistic changes and fixing a couple typos in the CSS.</p>\n<p>How do I build and test it on my machine quickly without having to generate the entire mathlib4 docs?</p>\n</blockquote>\n<p>I usually checkout std4 and point it at my local doc-gen</p>",
        "id": 411491274,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1704532996
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"416472\">Winston Yin (尹維晨)</span> <a href=\"#narrow/stream/113488-general/topic/doc-gen4.20suggestions/near/411467489\">said</a>:</p>\n<blockquote>\n<p>Before/after<br>\n<a href=\"/user_uploads/3121/VQKdj-7vvDiWikvdb2QaMEW1/Screenshot-2024-01-05-at-18.44.57.png\">Screenshot-2024-01-05-at-18.44.57.png</a><br>\n<a href=\"/user_uploads/3121/bMM6K9G4Ql3cJc8aX24CklIb/Screenshot-2024-01-05-at-18.42.13.png\">Screenshot-2024-01-05-at-18.42.13.png</a></p>\n</blockquote>\n<p>BTW, this shows a LaTeX problem of <code>doc-gen4</code>: the spurious commas at the ends of the displayed equations are really tiny spaces \"\\,\". This is a regression vs. what we had with mathlib3, compare <a href=\"https://leanprover-community.github.io/mathlib_docs/number_theory/diophantine_approximation.html\">the old version</a> of the page.</p>",
        "id": 411496873,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1704537807
    },
    {
        "content": "<p>Do people really intentionally add punctuation to centered equations? I always treated that as typos.</p>",
        "id": 411496959,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1704537869
    },
    {
        "content": "<p>I do, and it is the recommended style of some journals (but others recommend the opposite...).<br>\nEDIT: I misread what Yaël wrote.  I was talking about the tiny space before the punctuation, not the punctuation as such. I very much agree with what Kevin says below.</p>",
        "id": 411497016,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1704537921
    },
    {
        "content": "<p>I also much prefer a comma in a displayed equation to a comma beginning the next line of text, which I think looks awful.</p>",
        "id": 411500219,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1704540472
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479359\">Michael Stoll</span> <a href=\"#narrow/stream/113488-general/topic/doc-gen4.20suggestions/near/411496873\">said</a>:</p>\n<blockquote>\n<p>BTW, this shows a LaTeX problem of <code>doc-gen4</code>: the spurious commas at the ends of the displayed equations are really tiny spaces \"\\,\". This is a regression vs. what we had with mathlib3, compare <a href=\"https://leanprover-community.github.io/mathlib_docs/number_theory/diophantine_approximation.html\">the old version</a> of the page.</p>\n</blockquote>\n<p>My guess is that this is caused by our markdown parser consuming <code>\\</code>s inside <code>$</code> (as it doesn't know about <code>$</code> at all), meaning by the time Latex sees it, the <code>,</code> is gone.</p>",
        "id": 411503544,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1704543242
    },
    {
        "content": "<p>We switched parser because the old one was python and that was hard to call from Lean</p>",
        "id": 411503601,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1704543262
    },
    {
        "content": "<p>Oh I don't flush the comma to the next line of text. I just omit it'</p>",
        "id": 411503602,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1704543263
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/113488-general/topic/doc-gen4.20suggestions/near/411500219\">said</a>:</p>\n<blockquote>\n<p>I also much prefer a comma in a displayed equation to a comma beginning the next line of text, which I think looks awful.</p>\n</blockquote>\n<p>Where does the comma go if you replace an equation with a lean code sample?<br>\nShould it be</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">:</span> <span class=\"mi\">1</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span> <span class=\"c1\">-- ,</span>\n</code></pre></div>\n<p>which looks silly?</p>",
        "id": 411503653,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1704543322
    },
    {
        "content": "<p>Or</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">:</span> <span class=\"mi\">1</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span>\n</code></pre></div>\n<p>, which has an orphaned comma?</p>",
        "id": 411503684,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1704543362
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/113488-general/topic/doc-gen4.20suggestions/near/411503653\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/113488-general/topic/doc-gen4.20suggestions/near/411500219\">said</a>:</p>\n<blockquote>\n<p>I also much prefer a comma in a displayed equation to a comma beginning the next line of text, which I think looks awful.</p>\n</blockquote>\n<p>Where does the comma go if you replace an equation with a lean code sample?<br>\nShould it be</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">:</span> <span class=\"mi\">1</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span> <span class=\"c1\">-- ,</span>\n</code></pre></div>\n<p>which looks silly?</p>\n</blockquote>\n<p>Perhaps it is convenient here to regard this as LaTeX <code>example</code> environment, so it should be a standalone paragraph---a new sentence after that <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span>.</p>",
        "id": 411503835,
        "sender_full_name": "Pedro Sánchez Terraf",
        "timestamp": 1704543515
    },
    {
        "content": "<p>A feature request: Would it be possible to render <code>instance</code>s and <code>def</code>s  in different colors?</p>",
        "id": 411506177,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1704545984
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/113488-general/topic/doc-gen4.20suggestions/near/411500219\">said</a>:</p>\n<blockquote>\n<p>I also much prefer a comma in a displayed equation to a comma beginning the next line of text, which I think looks awful.</p>\n</blockquote>\n<p>I think neither is best though, imo</p>",
        "id": 411526708,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1704565262
    },
    {
        "content": "<p>That violates readability. A sentence containing mathematics should just be a sentence, albeit with symbols to condense many words. If you remove punctuation then you lose meaning.</p>",
        "id": 411531840,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1704569759
    },
    {
        "content": "<p>Well, not if you rephrase the sentence for punctuation not to fall at the end of a formula.</p>",
        "id": 411532213,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1704569914
    },
    {
        "content": "<p>I remember when I first noticed punctuation at the end of an equation. I went to excitedly tell a friend, and he just replied with \"now open any book you have\", and indeed they were there all along.</p>",
        "id": 411604254,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1704637736
    },
    {
        "content": "<p>I recommend this book for everyone who cares about these fine issues of math presentation:<br>\n<a href=\"https://link.springer.com/book/10.1007/978-3-8348-9599-8\">https://link.springer.com/book/10.1007/978-3-8348-9599-8</a></p>",
        "id": 411607340,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1704640461
    },
    {
        "content": "<p>Klar! Das werde ich lesen.</p>",
        "id": 411608357,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1704641235
    },
    {
        "content": "<p>I assume no english translation exists?</p>",
        "id": 411618094,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1704649185
    }
]