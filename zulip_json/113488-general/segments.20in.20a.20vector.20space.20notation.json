[
    {
        "content": "<p><code>Mathlib.Analysis.Convex.Segment</code> introduces notation:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">@[</span><span class=\"n\">inherit_doc</span><span class=\"kd\">]</span> <span class=\"n\">scoped</span><span class=\"o\">[</span><span class=\"n\">Convex</span><span class=\"o\">]</span> <span class=\"kd\">notation</span> <span class=\"o\">(</span><span class=\"n\">priority</span> <span class=\"o\">:=</span> <span class=\"n\">high</span><span class=\"o\">)</span> <span class=\"s2\">\"[\"</span> <span class=\"n\">x</span> <span class=\"s2\">\"-[\"</span> <span class=\"bp\">ùïú</span> <span class=\"s2\">\"]\"</span> <span class=\"n\">y</span> <span class=\"s2\">\"]\"</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">segment</span> <span class=\"bp\">ùïú</span> <span class=\"n\">x</span> <span class=\"n\">y</span>\n</code></pre></div>\n<p>Can I propose that we don't ever add notations that interfere with <code>List</code> notation, and in particular that someone replaces this notation with something else (or removes it: I think this would be much clearer with no notation)?</p>",
        "id": 426042078,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1710209860
    },
    {
        "content": "<p>See <a href=\"#narrow/stream/113488-general/topic/Help.20with.20.60nightly-testing.60/near/426041257\">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Help.20with.20.60nightly-testing.60/near/426041257</a> for an example of the resulting pain. :-)</p>",
        "id": 426042106,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1710209880
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Scott Morrison</span> <a href=\"#narrow/stream/113488-general/topic/Help.20with.20.60nightly-testing.60/near/426041381\">said</a>:</p>\n<blockquote>\n<p>The notation here seems insane. Is it really <code>[X -[k] Y]</code>?</p>\n</blockquote>\n<p>Uh, yeah, that's an affine segment</p>",
        "id": 426077124,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1710232986
    },
    {
        "content": "<p>What's so bad with that notation?</p>",
        "id": 426077264,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1710233043
    },
    {
        "content": "<p>I introduced that notation precisely because it was the closest to segment notation that <em>didn't</em> interfere with list notation. Did that change recently?</p>",
        "id": 426077742,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1710233231
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Scott Morrison</span> Does this mean that notation for linear maps is also bad? Because that attaches <code>[R]</code> to an arrow, to indicate that the map is <code>R</code>-linear.</p>",
        "id": 426079017,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1710233757
    },
    {
        "content": "<p>I don't feel as strongly about it as it sounds  like Scott does, but it's weird that we have a notation for it but not Icc</p>",
        "id": 426079350,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1710233858
    },
    {
        "content": "<p>(presumably we rejected any ideas for such a notation using the same reasoning behind Scott's distaste of the affine segment notation)</p>",
        "id": 426079867,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1710234017
    },
    {
        "content": "<p>We do have a notation for <code>Icc</code> actually. It's <code>[x, y]</code> for <code>Icc x y</code>. But it's local/localised I believe.</p>",
        "id": 426079874,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1710234019
    },
    {
        "content": "<p>5 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"113488\" href=\"/#narrow/stream/113488-general/topic/Help.20with.20.02klzzwxh.3A0000.03\">#general &gt; Help with <code>nightly-testing</code></a> by <span class=\"user-mention silent\" data-user-id=\"387244\">Ya√´l Dillies</span>.</p>",
        "id": 426079956,
        "sender_full_name": "Notification Bot",
        "timestamp": 1710234057
    },
    {
        "content": "<p>Potential notation for Ixx that semi-conflicts with list notation: <a href=\"https://proofwiki.org/wiki/Definition:Real_Interval/Notation/Wirth\">https://proofwiki.org/wiki/Definition:Real_Interval/Notation/Wirth</a></p>\n<ul>\n<li><code>(a .. b) := Ioo a b</code></li>\n<li><code>(a .. b] := Ioc a b</code></li>\n<li><code>[a .. b) := Ico a b</code></li>\n<li><code>[a .. b] := Icc a b</code></li>\n</ul>\n<p>And the unbounded versions can easily be added by using <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">‚àû</mi></mrow><annotation encoding=\"application/x-tex\">\\infty</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord\">‚àû</span></span></span></span> (as notation, not the term) for one of <code>a</code> or <code>b</code>.</p>",
        "id": 426081767,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1710234609
    },
    {
        "content": "<p>Maybe this can also be adapted for segments?</p>",
        "id": 426081804,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1710234625
    },
    {
        "content": "<p>But if I understand <span class=\"user-mention\" data-user-id=\"110087\">@Scott Morrison</span> then anything involving <code>[]</code> is off limits. It would be good to know a general guideline.</p>",
        "id": 426081910,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1710234663
    },
    {
        "content": "<p>Something like this?</p>\n<ul>\n<li><code>[a ..[ùïú] b] := segment ùïú a b</code></li>\n<li><code>(a ..[ùïú] b) := openSegment ùïú a b</code></li>\n</ul>",
        "id": 426081946,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1710234676
    },
    {
        "content": "<p>I think <code>(a .. b]</code> is likely off limits too because of IDEs using dumb bracket matching</p>",
        "id": 426086006,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1710236279
    },
    {
        "content": "<p>Unless we ask people to always write <code>(a .. /-)[-/ b]</code></p>",
        "id": 426086123,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1710236315
    },
    {
        "content": "<p>I mean, I don't want to insist it is not allowed. Maybe the recent failure on nightly-testing (that required adding a type ascription) was actually unrelated to the notation?</p>",
        "id": 426093807,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1710239075
    },
    {
        "content": "<p>I don't really understand how <code>[X -[k] Y]</code> is meant to be an improvement over <code>segment k X Y</code>. To me, it feels strictly worse. (Not immediately obvious what it means, doesn't show me the key word, and potentially has weird interactions with List.)</p>",
        "id": 426094008,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1710239163
    },
    {
        "content": "<p>To be honest the really crazy part is reserving <code>[</code> and <code>]</code> for lists in a proof assistant. It should be a scoped notations that needs to be opened when programming or proving stuff about lists.</p>",
        "id": 426128517,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1710251216
    },
    {
        "content": "<p>Is it even reserved? My impression was that there wasn't actually a clash with list in the first place, only potential for one</p>",
        "id": 426128660,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1710251262
    },
    {
        "content": "<p>Patrick said the thing I wrote, thought about, and deleted, but I do believe it. My only concern about removing list notation is that I'm then not entirely sure whether I'll be able to <code>rw</code> anything. But lists do not come up in most of the mathematics I do, other than secretly powering things like finite sets behind the scenes.</p>",
        "id": 426199131,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1710272130
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Scott Morrison</span> <a href=\"#narrow/stream/113488-general/topic/segments.20in.20a.20vector.20space.20notation/near/426042106\">said</a>:</p>\n<blockquote>\n<p>See <a href=\"#narrow/stream/113488-general/topic/Help.20with.20.60nightly-testing.60/near/426041257\">https://leanprover.zulipchat.com/#narrow/stream/113488-general/topic/Help.20with.20.60nightly-testing.60/near/426041257</a> for an example of the resulting pain. :-)</p>\n</blockquote>\n<p>I looked at this, and the pain is nothing to do with the notation. So I don't think there are any technical issues with the notation sharing <code>[]</code>s with <code>List</code>; the issues exists only in the minds of the humans who mentally reserve <code>[]</code> for lists / non-lists.</p>",
        "id": 426203305,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1710273855
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Scott Morrison</span> <a href=\"#narrow/stream/113488-general/topic/segments.20in.20a.20vector.20space.20notation/near/426094008\">said</a>:</p>\n<blockquote>\n<p>I don't really understand how <code>[X -[k] Y]</code> is meant to be an improvement over <code>segment k X Y</code>. To me, it feels strictly worse. (Not immediately obvious what it means, doesn't show me the key word, and potentially has weird interactions with List.)</p>\n</blockquote>\n<p>Leaving aside the \"potential weird interactions with List\" point, as I agree that's incorrect, how do others feel about my remaining claim that <code>[X -[k] Y]</code> is strictly worse than <code>segment k X Y</code>?</p>",
        "id": 426220010,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1710280953
    }
]