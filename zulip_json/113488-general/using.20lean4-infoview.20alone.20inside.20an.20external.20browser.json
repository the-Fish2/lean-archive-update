[
    {
        "content": "<p>Hi in the repo <a href=\"https://github.com/leanprover/vscode-lean4/tree/master/lean4-infoview\">vscode-lean4 the directory lean4-infoview</a> says that it's possible hosting the infoview in an external browser although it's not tested outside vscode. Could there be a startup demo for how to do this? maybe something like a project starter. I am not familar with react development and the doc says invoking <code>loadRenderInfoview</code> from a react project requires some extra effort. Thanks in advance! <span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span></p>",
        "id": 446923595,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1719330825
    },
    {
        "content": "<p>we're currently trying to update and cleanup <a href=\"https://github.com/leanprover-community/lean4web\">lean4web</a> which can then essentially function as such an example, but the current code suffers from exactly this \"some extra effort\" mentioned...</p>",
        "id": 446935418,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1719333335
    },
    {
        "content": "<p>Ah I see. Thanks! The problem seems coming from that widgets requiring dynamically loaded. Maybe I should just use it statically as a normal package first</p>",
        "id": 446938819,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1719334141
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 447719097,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1719568194
    },
    {
        "content": "<p>Hi I got a first step via invoking <code>renderInfoview</code> and it results in displaying <code>Waiting for Lean server to start...</code> in Chrome as said in <a href=\"https://github.com/leanprover/vscode-lean4/blob/master/lean4-infoview/src/infoview/main.tsx#L69\">the source</a> I think now I should implement the <code>EditorApi</code> and <code>InfoviewApi</code> But I am not sure the implement for the infoview updating automatically, is it some websocket request or some loop XHR request?</p>",
        "id": 447721119,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1719568566
    },
    {
        "content": "<p>btw <a href=\"https://github.com/leanprover/vscode-lean4/blob/master/lean4-infoview/package.json#L12\">https://github.com/leanprover/vscode-lean4/blob/master/lean4-infoview/package.json#L12</a> seems exporting <code>\".\": \"./dist/index.development.js\",</code> should it be <code>dist/index.production.min.js</code>? I have to change it like this for importing <code>renderInforview</code></p>",
        "id": 447722695,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1719568836
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"560873\">Shanghe Chen</span> <a href=\"#narrow/stream/113488-general/topic/using.20lean4-infoview.20alone.20inside.20an.20external.20browser/near/447721119\">said</a>:</p>\n<blockquote>\n<p>Hi I got a first step via invoking <code>renderInfoview</code> and it results in displaying <code>Waiting for Lean server to start...</code> in Chrome as said in <a href=\"https://github.com/leanprover/vscode-lean4/blob/master/lean4-infoview/src/infoview/main.tsx#L69\">the source</a> I think now I should implement the <code>EditorApi</code> and <code>InfoviewApi</code> But I am not sure the implement for the infoview updating automatically, is it some websocket request or some loop XHR request?</p>\n</blockquote>\n<p>Maybe this will answer your question: you can think of the infoview as a functional reactive program that will display new contents whenever you invoke one of the event methods in <code>InfoviewApi</code>. So the updating automatically part just amounts to you calling, say, <code>changedCursorLocation</code>, whenever the cursor in your editor has moved.</p>",
        "id": 447722835,
        "sender_full_name": "Wojciech Nawrocki",
        "timestamp": 1719568863
    },
    {
        "content": "<p>And to get rid of the \"Waiting for Lean server to start..\" message, you call <code>serverRestarted</code> iirc.</p>",
        "id": 447723003,
        "sender_full_name": "Wojciech Nawrocki",
        "timestamp": 1719568896
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"128280\">Wojciech Nawrocki</span> <a href=\"#narrow/stream/113488-general/topic/using.20lean4-infoview.20alone.20inside.20an.20external.20browser/near/447722835\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"560873\">Shanghe Chen</span> <a href=\"#narrow/stream/113488-general/topic/using.20lean4-infoview.20alone.20inside.20an.20external.20browser/near/447721119\">said</a>:</p>\n<blockquote>\n<p>Hi I got a first step via invoking <code>renderInfoview</code> and it results in displaying <code>Waiting for Lean server to start...</code> in Chrome as said in <a href=\"https://github.com/leanprover/vscode-lean4/blob/master/lean4-infoview/src/infoview/main.tsx#L69\">the source</a> I think now I should implement the <code>EditorApi</code> and <code>InfoviewApi</code> But I am not sure the implement for the infoview updating automatically, is it some websocket request or some loop XHR request?</p>\n</blockquote>\n<p>Maybe this will answer your question: you can think of the infoview as a functional reactive program that will display new contents whenever you invoke one of the event methods in <code>InfoviewApi</code>. So the updating automatically part just amounts to you calling, say, <code>changedCursorLocation</code>, whenever the cursor in your editor has moved.</p>\n</blockquote>\n<p>Ah thanks! I may get it now. So my editor is Intellij Idea and connecting to the Lean lsp server. I am also trying to start a web program with the frontend being the infoview in Chrome. Yeah I will see if setting up some websocket connection possible and forward it to the <code>InfoviewApi</code></p>",
        "id": 447724525,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1719569285
    }
]