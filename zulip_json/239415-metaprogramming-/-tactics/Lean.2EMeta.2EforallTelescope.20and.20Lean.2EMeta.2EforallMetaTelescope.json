[
    {
        "content": "<p>I want to do some analysis for each of the hypotheses of a theorem.  I'd like to use information about the binders, in particular filtering down to non-implicit hypotheses.  However, the options are</p>\n<ol>\n<li><a href=\"https://leanprover-community.github.io/mathlib4_docs/Lean/Meta/Basic.html#Lean.Meta.forallTelescope\"><code>Lean.Meta.forallTelescope</code></a>: Does the work of cleaning up introduced mvars, but doesn't provide binder information.</li>\n<li><a href=\"https://leanprover-community.github.io/mathlib4_docs/Lean/Meta/Basic.html#Lean.Meta.lambdaMetaTelescope\"><code>Lean.Meta.forallMetaTelescope</code></a>: Returns binders, but doesn't do mvar cleanup.</li>\n</ol>\n<p>Presumably I should use (2) but do the cleanup myself.  How do I do that?  Is there a reason the API is nonuniform in this way?</p>",
        "id": 422578180,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1708508496
    },
    {
        "content": "<p>Use (1). The <code>Expr</code>s in the <code>Array</code> are guaranteed to be <code>FVarId</code>s (this should be cleaned up), so you can <code>getDecl</code> their <code>LocalDecl</code>s and obtain the <code>BinderInfo</code> from there.</p>",
        "id": 422582189,
        "sender_full_name": "Jannis Limperg",
        "timestamp": 1708509808
    },
    {
        "content": "<p>Ah, thank you!</p>",
        "id": 422582754,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1708509967
    }
]