[
    {
        "content": "<p>I'm hitting a deterministic timeout at <code>isDefEq</code>  in the language server while trying to handle a large-ish pattern-match on <code>Nat</code> (about 300 cases). </p>\n<ol>\n<li>Each clause is trivial, going directly to a constructor, something like <code>| 243 =&gt; .em_riscv</code>.</li>\n<li>bumping maxHeartbeats to 400000 breaks through the timeout, although the language server needs to chew on it for a while.</li>\n</ol>\n<p>Is this a known issue? Worth reporting on Github? This is on 4.8.0-nightly-2024-03-08.</p>",
        "id": 433557881,
        "sender_full_name": "Graham Leach-Krouse",
        "timestamp": 1713283462
    },
    {
        "content": "<p>I suspected that is a larger pattern match on Nat than anyone has tried before. I think if you're game to minimize it to produce a simple repro, it would be good to report.</p>",
        "id": 433639041,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1713322425
    },
    {
        "content": "<p>See also <a href=\"#narrow/stream/270676-lean4/topic/Pattern.20matching.20on.20Fin.20isn't.20exhaustive.20for.20large.20matches/near/428048389\">https://leanprover.zulipchat.com/#narrow/stream/270676-lean4/topic/Pattern.20matching.20on.20Fin.20isn't.20exhaustive.20for.20large.20matches/near/428048389</a></p>",
        "id": 433665571,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1713333146
    },
    {
        "content": "<p>Thanks! Reported: <a href=\"https://github.com/leanprover/lean4/issues/3935\">https://github.com/leanprover/lean4/issues/3935</a></p>",
        "id": 433762304,
        "sender_full_name": "Graham Leach-Krouse",
        "timestamp": 1713361856
    }
]