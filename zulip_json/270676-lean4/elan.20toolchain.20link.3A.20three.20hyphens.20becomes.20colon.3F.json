[
    {
        "content": "<p>I've observed some curious behaviour:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">$</span> <span class=\"n\">elan</span> <span class=\"n\">toolchain</span> <span class=\"n\">link</span> <span class=\"n\">xxx</span><span class=\"c1\">---yyy stage2/</span>\n<span class=\"bp\">$</span> <span class=\"n\">elan</span> <span class=\"n\">toolchain</span> <span class=\"n\">list</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">invalid</span> <span class=\"n\">toolchain</span> <span class=\"n\">name</span><span class=\"o\">:</span> <span class=\"bp\">'</span><span class=\"n\">run</span><span class=\"bp\">-</span><span class=\"mi\">2024</span><span class=\"bp\">-</span><span class=\"mi\">03</span><span class=\"bp\">-</span><span class=\"mi\">30</span><span class=\"o\">:</span><span class=\"mi\">15</span><span class=\"bp\">-</span><span class=\"mi\">19</span><span class=\"o\">:</span><span class=\"n\">tcg40'</span>\n</code></pre></div>\n<p>My list of toolchains seem to be in order, including the <code>xxx---yyy</code> toolchain:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">ls</span> <span class=\"bp\">-</span><span class=\"n\">al</span> <span class=\"bp\">$</span><span class=\"n\">HOME</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span>\n<span class=\"n\">total</span> <span class=\"mi\">0</span>\n<span class=\"n\">drwxr</span><span class=\"bp\">-</span><span class=\"n\">xr</span><span class=\"bp\">-</span><span class=\"n\">x</span>  <span class=\"mi\">13</span> <span class=\"n\">sid</span>  <span class=\"n\">staff</span>  <span class=\"mi\">416</span> <span class=\"mi\">31</span> <span class=\"n\">Mar</span> <span class=\"mi\">06</span><span class=\"o\">:</span><span class=\"mi\">09</span> <span class=\"bp\">.</span>\n<span class=\"n\">drwxr</span><span class=\"bp\">-</span><span class=\"n\">xr</span><span class=\"bp\">-</span><span class=\"n\">x</span>   <span class=\"mi\">8</span> <span class=\"n\">sid</span>  <span class=\"n\">staff</span>  <span class=\"mi\">256</span> <span class=\"mi\">13</span> <span class=\"n\">Mar</span> <span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"mi\">53</span> <span class=\"bp\">..</span>\n<span class=\"n\">lrwxr</span><span class=\"bp\">-</span><span class=\"n\">xr</span><span class=\"bp\">-</span><span class=\"n\">x</span>   <span class=\"mi\">1</span> <span class=\"n\">sid</span>  <span class=\"n\">staff</span>   <span class=\"mi\">51</span> <span class=\"mi\">22</span> <span class=\"n\">Mar</span> <span class=\"mi\">15</span><span class=\"o\">:</span><span class=\"mi\">29</span> <span class=\"n\">lean4</span> <span class=\"bp\">-&gt;</span> <span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">sid</span><span class=\"bp\">/</span><span class=\"mi\">24</span><span class=\"bp\">/</span><span class=\"n\">refcount</span><span class=\"bp\">/.</span><span class=\"n\">lean4</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">current</span><span class=\"bp\">/</span><span class=\"n\">stage1</span><span class=\"bp\">/</span>\n<span class=\"n\">lrwxr</span><span class=\"bp\">-</span><span class=\"n\">xr</span><span class=\"bp\">-</span><span class=\"n\">x</span>   <span class=\"mi\">1</span> <span class=\"n\">sid</span>  <span class=\"n\">staff</span>   <span class=\"mi\">50</span> <span class=\"mi\">22</span> <span class=\"n\">Mar</span> <span class=\"mi\">15</span><span class=\"o\">:</span><span class=\"mi\">30</span> <span class=\"n\">lean4</span><span class=\"bp\">-</span><span class=\"n\">stage0</span> <span class=\"bp\">-&gt;</span> <span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">sid</span><span class=\"bp\">/</span><span class=\"mi\">24</span><span class=\"bp\">/</span><span class=\"n\">refcount</span><span class=\"bp\">/.</span><span class=\"n\">lean4</span><span class=\"bp\">/</span><span class=\"n\">build</span><span class=\"bp\">/</span><span class=\"n\">current</span><span class=\"bp\">/</span><span class=\"n\">stage0</span>\n<span class=\"bp\">...</span>\n<span class=\"n\">lrwxr</span><span class=\"bp\">-</span><span class=\"n\">xr</span><span class=\"bp\">-</span><span class=\"n\">x</span>   <span class=\"mi\">1</span> <span class=\"n\">sid</span>  <span class=\"n\">staff</span>   <span class=\"mi\">48</span> <span class=\"mi\">31</span> <span class=\"n\">Mar</span> <span class=\"mi\">06</span><span class=\"o\">:</span><span class=\"mi\">09</span> <span class=\"n\">xxx</span><span class=\"c1\">---yyy -&gt; /Users/sid/24/refcount/clean/build/reuse/stage2/</span>\n</code></pre></div>\n<p>I'm totally unsure what's causing this behaviour. Is this some kind of known (expected) behaviour, or a bug?</p>",
        "id": 430447189,
        "sender_full_name": "Siddharth Bhat",
        "timestamp": 1711862002
    },
    {
        "content": "<p>This sounds like a unintentional side effect of the fact that <code>:</code> in a toolchain name is encoded as <code>---</code> in the directory name of standard Elan toolchains (e.g., <code>leanprover/lean4:v4.0.0</code> is stored in the directory <code>leanprover--lean4---v4.0.0</code>).</p>",
        "id": 430447961,
        "sender_full_name": "Mac Malone",
        "timestamp": 1711863007
    }
]