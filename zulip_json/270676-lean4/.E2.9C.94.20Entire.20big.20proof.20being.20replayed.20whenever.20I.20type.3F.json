[
    {
        "content": "<p>I am experimenting with some expensive proof automation in Lean and running into the following behaviour – when  I am working in a sub-goal not solved by the automation, whenever I type, the whole proof gets replayed:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">theorem</span> <span class=\"n\">proof_automated</span> <span class=\"o\">:</span>\n  <span class=\"o\">[</span><span class=\"n\">big</span> <span class=\"n\">conjunction</span> <span class=\"o\">]</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">generate_many_goals</span> <span class=\"bp\">&lt;;&gt;</span> <span class=\"n\">try</span> <span class=\"n\">solve_goal</span> <span class=\"c1\">-- expensive automation (&gt; 1 minute)</span>\n  <span class=\"c1\">-- some goals fail to be solved by the automation</span>\n  <span class=\"o\">{</span>\n    <span class=\"n\">solve_goal</span>\n    <span class=\"c1\">-- whenever I type here to try to figure out what failed</span>\n    <span class=\"c1\">-- the whole proof is replayed; is this expected?</span>\n  <span class=\"o\">}</span>\n</code></pre></div>\n<p>Is this expected behaviour?</p>\n<p>I would expect the proof terms for the goals that _are_ solved by the automation would be cached whilst I'm editing the proof, but that doesn't seem to be happening.</p>",
        "id": 437957152,
        "sender_full_name": "George Pîrlea",
        "timestamp": 1715335395
    },
    {
        "content": "<p>Yes, this is expected behavior, and there is a current project working to improve the situation: <a href=\"https://github.com/leanprover/lean4/pull/3940\">lean4#3940</a></p>",
        "id": 437957712,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1715335674
    },
    {
        "content": "<p>I see. That's encouraging . Thank you <span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span>.</p>",
        "id": 437958178,
        "sender_full_name": "George Pîrlea",
        "timestamp": 1715335879
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"542918\">George Pîrlea</span> has marked this topic as resolved.</p>",
        "id": 437958245,
        "sender_full_name": "Notification Bot",
        "timestamp": 1715335913
    }
]