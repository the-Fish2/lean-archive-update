[
    {
        "content": "<p>I was installing Lean via <code>lake build</code> in an unstable network environment, somehow the process is aborted, then the installation could not resume:</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>%<span class=\"w\"> </span>lake<span class=\"w\"> </span>build\nerror:<span class=\"w\"> </span>toolchain<span class=\"w\"> </span><span class=\"s1\">'leanprover/lean4:v4.6.0-rc1'</span><span class=\"w\"> </span>is<span class=\"w\"> </span>not<span class=\"w\"> </span>installed\n%<span class=\"w\"> </span>elan<span class=\"w\"> </span>toolchain<span class=\"w\"> </span>list\nleanprover/lean4:nightly\nleanprover/lean4:stable\nleanprover/lean4:v4.6.tmp\nleanprover/lean4:v4.7.0\nleanprover/lean4:v4.8.0-rc1<span class=\"w\"> </span><span class=\"o\">(</span>default<span class=\"o\">)</span>\nleanprover/lean4:v4.8.0-rc\n%<span class=\"w\"> </span>elan<span class=\"w\"> </span>toolchain<span class=\"w\"> </span>uninstall<span class=\"w\"> </span>leanprover/lean4:v4.6.tmp\ninfo:<span class=\"w\"> </span>uninstalling<span class=\"w\"> </span>toolchain<span class=\"w\"> </span><span class=\"s1\">'leanprover/lean4:v4.6.tmp'</span>\nerror:<span class=\"w\"> </span>could<span class=\"w\"> </span>not<span class=\"w\"> </span>remove<span class=\"w\"> </span><span class=\"s1\">'update hash'</span><span class=\"w\"> </span>file:<span class=\"w\"> </span><span class=\"s1\">'/Users/utensil/.elan/update-hashes/leanprover--lean4---v4.6.tmp'</span>\n</code></pre></div>\n<p>I could fix this by manually removing some directories but this stuck could happen to others, so I report it here. Either installation should be able to resume in this situation, or uninstallation should work. </p>\n<p>Gently tagging <span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span> as I'm not sure if it's a lake issue or an elan one.</p>",
        "id": 440765196,
        "sender_full_name": "Utensil Song",
        "timestamp": 1716779593
    },
    {
        "content": "<p>What's under <code>/Users/utensil/.elan/update-hashes/</code> is <code>leanprover--lean4---v4.6.0-rc1</code>, after removing it and the 4.6.tmp toolchain directory, the installation can resume again.</p>",
        "id": 440765508,
        "sender_full_name": "Utensil Song",
        "timestamp": 1716779892
    }
]