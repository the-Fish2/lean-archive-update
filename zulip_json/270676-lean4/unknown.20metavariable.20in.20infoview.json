[
    {
        "content": "<p>In this example when the cursor is on <code>α</code> or the mouse hovers over it, it throws an error about an unknown metavariable:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">def</span> <span class=\"n\">oops</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"n\">α</span><span class=\"o\">,</span> <span class=\"n\">List</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">List</span> <span class=\"n\">β</span> <span class=\"o\">:=</span> <span class=\"n\">i</span> <span class=\"n\">β</span>\n</code></pre></div>",
        "id": 438114083,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1715438862
    },
    {
        "content": "<p>Are you seeing this error in the infoview (like in this thread's title)? I can't reproduce that, but I do see \"α : failed to pretty print expression (use 'set_option pp.rawOnError true' for raw representation)\" when hovering over α in the source.</p>",
        "id": 438114596,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1715439423
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover/lean4/issues/4078\">https://github.com/leanprover/lean4/issues/4078</a> sounds like a variant of this one</p>",
        "id": 438114612,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1715439448
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/stream/270676-lean4/topic/unknown.20metavariable.20in.20infoview/near/438114596\">said</a>:</p>\n<blockquote>\n<p>Are you seeing this error in the infoview (like in this thread's title)? I can't reproduce that, but I do see \"α : failed to pretty print expression (use 'set_option pp.rawOnError true' for raw representation)\" when hovering over α in the source.</p>\n</blockquote>\n<p>see what I wrote in the issue about the dual error</p>",
        "id": 438114619,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1715439461
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"479299\">@Jovan Gerbscheid</span> could you comment your example on that issue? Its a much cleaner minimization than the one I provided so it will hopefully make it easier to debug things</p>",
        "id": 438114671,
        "sender_full_name": "Henrik Böving",
        "timestamp": 1715439509
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/stream/270676-lean4/topic/unknown.20metavariable.20in.20infoview/near/438114596\">said</a>:</p>\n<blockquote>\n<p>Are you seeing this error in the infoview (like in this thread's title)? I can't reproduce that, but I do see \"α : failed to pretty print expression (use 'set_option pp.rawOnError true' for raw representation)\" when hovering over α in the source.</p>\n</blockquote>\n<p>Yes, as described in the issue, there is an error in the infoview when the cursor is on the relevant expression, and the error you see when hovering.</p>",
        "id": 438115021,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1715439892
    },
    {
        "content": "<p>I idly had a look and may have fixed it, without knowing too much about what I am doing here. I hope I didn't duplicate any work here.</p>",
        "id": 438117190,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1715442321
    },
    {
        "content": "<blockquote>\n<p>when the cursor is on the relevant expression</p>\n</blockquote>\n<p>I see, I didn't observe this Infoview error because I put my mouse cursor on the relevant expression, but I didn't move the editor's text cursor there.</p>",
        "id": 438117477,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1715442619
    },
    {
        "content": "<p>This should now be fixed in <a href=\"https://github.com/leanprover/lean4/pull/4192\">lean4#4192</a></p>",
        "id": 439898172,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1716323140
    }
]