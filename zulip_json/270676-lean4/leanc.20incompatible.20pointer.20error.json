[
    {
        "content": "<p>I'm using nightly-2024-01-09.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">def</span> <span class=\"n\">foo</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"n\">m</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">False</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span> <span class=\"o\">:=</span>\n  <span class=\"k\">if</span> <span class=\"n\">n</span> <span class=\"bp\">&lt;</span> <span class=\"n\">m</span> <span class=\"k\">then</span>\n    <span class=\"n\">h.elim</span>\n  <span class=\"k\">else</span>\n    <span class=\"n\">n</span> <span class=\"bp\">-</span> <span class=\"n\">m</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">main</span> <span class=\"o\">:</span> <span class=\"n\">IO</span> <span class=\"n\">Unit</span> <span class=\"o\">:=</span>\n  <span class=\"n\">IO.println</span> <span class=\"n\">s</span><span class=\"bp\">!</span><span class=\"s2\">\"Hello! {foo 3 2 sorry}\"</span>\n</code></pre></div>\n<p>Produces an error when compiled:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>error: &gt; /[...]/.elan/toolchains/leanprover--lean4---nightly-2024-01-09/bin/leanc -c -o ./.lake/build/ir/Main.c.o ./.lake/build/ir/Main.c -O3 -DNDEBUG\nerror: stderr:\n./.lake/build/ir/Main.c:55:23: error: incompatible pointer to integer conversion passing 'lean_object *' to parameter of type 'uint8_t' (aka 'unsigned char') [-Wint-conversion]\nx_3 = l_foo(x_1, x_2, lean_box(0));\n                      ^~~~~~~~~~~\n./.lake/build/ir/Main.c:29:76: note: passing argument to parameter 'x_3' here\nLEAN_EXPORT lean_object* l_foo(lean_object* x_1, lean_object* x_2, uint8_t x_3) {\n                                                                           ^\n1 error generated.\nerror: external command `/[...]/.elan/toolchains/leanprover--lean4---nightly-2024-01-09/bin/leanc` exited with code 1\n</code></pre></div>",
        "id": 411929249,
        "sender_full_name": "Trebor Huang",
        "timestamp": 1704804827
    }
]