[
    {
        "content": "<p>The current <code>No goals</code> message is confusing for beginners. They see a <code>No goals</code> message, and miss that there are errors in other places, and think they have finished a proof, even though there are still errors. I have seen this with multiple beginners, and have even missed an error myself.</p>\n<p>Example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">:</span> <span class=\"n\">True</span> <span class=\"bp\">∧</span> <span class=\"n\">True</span> <span class=\"bp\">∧</span> <span class=\"n\">True</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">refine</span> <span class=\"o\">⟨</span><span class=\"bp\">?</span><span class=\"n\">_</span><span class=\"o\">,</span> <span class=\"bp\">?</span><span class=\"n\">_</span><span class=\"o\">,</span> <span class=\"bp\">?</span><span class=\"n\">_</span><span class=\"o\">⟩</span>\n  <span class=\"bp\">·</span> <span class=\"k\">have</span> <span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">True</span> <span class=\"o\">:=</span> <span class=\"n\">trivial</span>\n  <span class=\"bp\">·</span> <span class=\"n\">trivial</span>\n\n<span class=\"c1\">--  ^ -- if you put your cursor here, you get a \"No goals\" message, and only three characters in the entire file have squiggly underlines, which are easy to miss.</span>\n</code></pre></div>\n<p>Note: there are various workarounds you can look at. The <code>All messages</code> tab in the Infoview, using the VSCode <code>ErrorLens</code> extension, ending your proof with the <code>done</code> tactic (which only allows you to see the outermost goal, not intermediates, unless you use <code>done</code> there, too).</p>\n<p><strong>Proposal</strong> In my ideal world: </p>\n<ul>\n<li>the <code>No goals</code> message also displays the location of all errors in the type or value of your current declaration (mostly importantly the unsolved goal errors, but also other errors).</li>\n<li>These locations are clickable which will move your cursor to them</li>\n<li>When jumping to a <code>unsolved goal</code> error, it should go to the <em>end</em> of the sequence of tactics for that goal, adding a newline + correct indentation if there is no newline in that position yet</li>\n<li>If there are no other errors in that declaration, it will show a nicer message that you have finished the proof / declaration.</li>\n</ul>\n<p>If you agree, please upvote <a href=\"https://github.com/leanprover/lean4/pull/4190\">lean4#4190</a>.</p>",
        "id": 438984552,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1715854334
    }
]