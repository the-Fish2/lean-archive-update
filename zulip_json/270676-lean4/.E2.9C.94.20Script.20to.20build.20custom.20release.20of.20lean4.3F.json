[
    {
        "content": "<p>Hi, is there a script somewhere in the lean4 repository to create all of the zip/tar files that you would find under a release of Lean 4? I'm trying to get github CI to work with a repo that uses a custom lean4 toolchain. I assume that the best way to do this is to add the release files under my fork of Lean 4, and point to this release in the <code>lean-toolchain</code> file.</p>",
        "id": 425894082,
        "sender_full_name": "Rish Vaishnav",
        "timestamp": 1710158664
    },
    {
        "content": "<p>I think if CI is turned on in your fork, you should automatically get a release for any tag you push.</p>",
        "id": 426066141,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1710227661
    },
    {
        "content": "<p>Hmm, I just tried this and it doesn't look like it made a release, it just published <a href=\"https://github.com/rish987/lean4/releases/tag/lean2dk-v1\">an archive of the source code of my tag.</a> Is there something else that I need to do?</p>",
        "id": 426168043,
        "sender_full_name": "Rish Vaishnav",
        "timestamp": 1710261334
    },
    {
        "content": "<p>It looks like you have failing tests which will prevent a build on certain OSs. </p>\n<p>If you look under the actions tab you can see the log file. </p>\n<p>The <code>Nix CI</code> workflow ran but the <code>CI</code> didn’t but should have to my understanding</p>",
        "id": 426168761,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1710261517
    },
    {
        "content": "<p>Your <code>ci.yml</code> is very old compared to the current version upstream</p>",
        "id": 426169251,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1710261670
    },
    {
        "content": "<p>Huh, I've been working off of <code>v4.7.0-rc2</code> where <code>ci.yml</code> is just <a href=\"https://github.com/rish987/lean4/blob/lean2dk-v1/.github/workflows/ci.yml\">a couple weeks old</a>, perhaps you were looking at my main branch (which I haven't updated in a very long time). The error I got was <code>could not execute external process 'curl'</code> while running <code>leanlaketest_init</code>, not sure if anyone knows what to make of that. But, I think it should be okay for me to just skip/delete these tests on my fork for now, just so that I can get the release to generate...</p>",
        "id": 426180223,
        "sender_full_name": "Rish Vaishnav",
        "timestamp": 1710265113
    },
    {
        "content": "<p>Alright, after removing the problematic test I had <a href=\"https://github.com/rish987/lean4/actions/runs/8253399155\">a successful CI run</a>, but I still don't see a release...</p>",
        "id": 426187326,
        "sender_full_name": "Rish Vaishnav",
        "timestamp": 1710267504
    },
    {
        "content": "<p>Right, the <code>ci.yml</code> isn’t firing as mentioned above. Check the permissions for actions in your repo. That is a common blocker.</p>",
        "id": 426187608,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1710267608
    },
    {
        "content": "<p>Oh! Sorry, I glossed over that point, yes it looks like that was disabled due to inactivity.</p>",
        "id": 426187818,
        "sender_full_name": "Rish Vaishnav",
        "timestamp": 1710267705
    },
    {
        "content": "<p>Alright, after re-enabling <code>ci.yml</code>, I've got a release now! Thanks a lot.</p>",
        "id": 426324623,
        "sender_full_name": "Rish Vaishnav",
        "timestamp": 1710332711
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"373814\">Rish Vaishnav</span> has marked this topic as resolved.</p>",
        "id": 426324644,
        "sender_full_name": "Notification Bot",
        "timestamp": 1710332717
    }
]