[
    {
        "content": "<p>I always define the following runCmd function in my lakefile. It would be tedious to write this every time, but could it be written in short with only the built-ins provided?</p>\n<p>see <a href=\"https://github.com/Seasawher/lean-book/blob/main/lakefile.lean\">https://github.com/Seasawher/lean-book/blob/main/lakefile.lean</a></p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">def</span> <span class=\"n\">runCmd</span> <span class=\"o\">(</span><span class=\"n\">cmd</span> <span class=\"o\">:</span> <span class=\"n\">String</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">args</span> <span class=\"o\">:</span> <span class=\"n\">Array</span> <span class=\"n\">String</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">ScriptM</span> <span class=\"n\">Bool</span> <span class=\"o\">:=</span> <span class=\"k\">do</span>\n  <span class=\"k\">let</span> <span class=\"n\">out</span> <span class=\"bp\">‚Üê</span> <span class=\"n\">IO.Process.output</span> <span class=\"o\">{</span>\n    <span class=\"n\">cmd</span> <span class=\"o\">:=</span> <span class=\"n\">cmd</span>\n    <span class=\"n\">args</span> <span class=\"o\">:=</span> <span class=\"n\">args</span>\n  <span class=\"o\">}</span>\n  <span class=\"k\">let</span> <span class=\"n\">hasError</span> <span class=\"o\">:=</span> <span class=\"n\">out.exitCode</span> <span class=\"bp\">!=</span> <span class=\"mi\">0</span>\n  <span class=\"k\">if</span> <span class=\"n\">hasError</span> <span class=\"k\">then</span>\n    <span class=\"n\">IO.eprint</span> <span class=\"n\">out.stderr</span>\n  <span class=\"n\">return</span> <span class=\"n\">hasError</span>\n</code></pre></div>",
        "id": 436998528,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1714805693
    },
    {
        "content": "<p>runCmd is useful for registering scripts in a lakefile, and I am borrowing it from yatima. (As I remember it).</p>",
        "id": 436998639,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1714805796
    },
    {
        "content": "<p>see <a href=\"https://github.com/lurk-lab/yatima\">https://github.com/lurk-lab/yatima</a></p>",
        "id": 436998664,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1714805833
    },
    {
        "content": "<p>It would be nice if there was an easy way to write bash in the lake file script.</p>",
        "id": 436998703,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1714805883
    },
    {
        "content": "<p>Thank you for reading!</p>",
        "id": 436998731,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1714805888
    }
]