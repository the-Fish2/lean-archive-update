[
    {
        "content": "<p>Hello, guys,  I'm new in Lean4,  I tried to start with GlimpseOfLean in VSCode, but failed with:</p>\n<p>unknown package 'GlimpseOfLean'<br>\nYou might need to open '/home/lc/gh/GlimpseOfLean' as a workspace in your editor</p>\n<p>I have installed Lean 4.7.0  and  elan 3.1.1 ,   and the VSCode extension named \"lean4\" ,  Any help?</p>",
        "id": 445155715,
        "sender_full_name": "LC",
        "timestamp": 1718636848
    },
    {
        "content": "<p>Hello! Could you please post the output of the extension's \"Troubleshooting: Show Setup Information\" command (in the \"∀\" menu)?</p>",
        "id": 445159287,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1718637687
    },
    {
        "content": "<p>Just to be clear, elan's job is to install the correct version of Lean for you. You should not install it any other way.</p>",
        "id": 445159727,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1718637772
    },
    {
        "content": "<p><strong>Operating system</strong>: Linux (release: 6.9.3)<br>\n<strong>CPU architecture</strong>: x64<br>\n<strong>CPU model</strong>: 16 x AMD Ryzen 9 7950X 16-Core Processor<br>\n<strong>Available RAM</strong>: 30.80 GB</p>\n<p><strong>Curl installed</strong>: true<br>\n<strong>Git installed</strong>: true<br>\n<strong>Elan</strong>: Reasonably up-to-date (version: 3.1.1)<br>\n<strong>Lean</strong>: Reasonably up-to-date (version: 4.7.0)<br>\n<strong>Project</strong>: Valid Lean project (path: /home/lc/gh/GlimpseOfLean)</p>\n<hr>\n<p><strong>Elan toolchains</strong>: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Error</span><span class=\"o\">(</span><span class=\"n\">Download</span><span class=\"o\">(</span><span class=\"n\">Msg</span><span class=\"o\">(</span><span class=\"s2\">\"error during download\"</span><span class=\"o\">)),</span><span class=\"w\"> </span><span class=\"n\">State</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">next_error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Some</span><span class=\"o\">(</span><span class=\"n\">Error</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">description</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Timeout was reached\"</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">28</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">extra</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Some</span><span class=\"o\">(</span><span class=\"s2\">\"Failed to connect to github.com port 443 after 30002 ms: Timeout was reached\"</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">}),</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">InternalBacktrace</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">None</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">})</span>\n\n<span class=\"o\">(</span><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">could</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">download</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">/</span><span class=\"n\">releases</span><span class=\"bp\">/</span><span class=\"n\">expanded_assets</span><span class=\"bp\">/</span><span class=\"n\">v4</span><span class=\"bp\">.</span><span class=\"m\">8</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc2'</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"bp\">'/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">lc</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">tmp</span><span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"bp\">_</span><span class=\"n\">bkpc9nggebg_bs_file'</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">during</span><span class=\"w\"> </span><span class=\"n\">download</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 445160060,
        "sender_full_name": "LC",
        "timestamp": 1718637831
    },
    {
        "content": "<p>That indicates you installed Lean in some other way than elan, which you should not do</p>",
        "id": 445160588,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1718637949
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110024\">Sebastian Ullrich</span> <a href=\"#narrow/stream/270676-lean4/topic/VSCode.20error.3A.20.20unknown.20package.20'GlimpseOfLean'/near/445159727\">发言道</a>：</p>\n<blockquote>\n<p>Just to be clear, elan's job is to install the correct version of Lean for you. You should not install it any other way.</p>\n</blockquote>\n<p>Thanks for this information.  since I'm using NixOS, I prefer install lean4 using the nix way instead of by elan,  since the binary downloaded by elan might not working on NixOS  (that's very sad for me)</p>",
        "id": 445160633,
        "sender_full_name": "LC",
        "timestamp": 1718637961
    },
    {
        "content": "<p>You took elan from nixpkgs as well, right? It wouldn't be in there if it was that useless on NixOS. Just try it.</p>",
        "id": 445160897,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1718638019
    },
    {
        "content": "<p>Thank you,  so should I uninstall lean4 from nixpkgs and just keep elan, and let elan download lean4 for me?</p>",
        "id": 445161380,
        "sender_full_name": "LC",
        "timestamp": 1718638155
    },
    {
        "content": "<p>Yes, exactly!</p>",
        "id": 445161420,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1718638173
    },
    {
        "content": "<p>Unfortunately that will not fix the network error that elan reported above, it may be because of certain firewalls</p>",
        "id": 445161651,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1718638227
    },
    {
        "content": "<p>Thank you,  I will trying to fix the network issue... </p>\n<p>but I don't understand why the lean4 I have install doesn't work ?</p>",
        "id": 445162040,
        "sender_full_name": "LC",
        "timestamp": 1718638327
    },
    {
        "content": "<p>I'm not quite sure why it failed in that way but it is the wrong version for the current GlimpseOfLean master</p>",
        "id": 445162389,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1718638424
    },
    {
        "content": "<p>Maybe it has checked the lean version and find it not match, so fallback to elan download?</p>",
        "id": 445162843,
        "sender_full_name": "LC",
        "timestamp": 1718638543
    },
    {
        "content": "<p>I find there is a file named \"lean-toolchain\" and have content like \"leanprover/lean4:v4.8.0-rc2\",   so I tried to edit the file into \"leanprover/lean4:v4.7.0\",    and now it use lean4 from nixpkgs .</p>\n<p>But there is still issue:</p>\n<p>error: no such file or directory (error code: 2)<br>\n  file: ./lakefile.lean<br>\nwarning: package configuration has errors, falling back to plain <code>lean --server</code></p>\n<p>seems lakefile.toml is not recognized by the VSCode extension.</p>",
        "id": 445164545,
        "sender_full_name": "LC",
        "timestamp": 1718638985
    },
    {
        "content": "<p>I think lakefile.toml was not yet supported in v4.7.0</p>",
        "id": 445164782,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1718639043
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"307953\">Ruben Van de Velde</span> <a href=\"#narrow/stream/270676-lean4/topic/VSCode.20error.3A.20.20unknown.20package.20'GlimpseOfLean'/near/445164782\">发言道</a>：</p>\n<blockquote>\n<p>I think lakefile.toml was not yet supported in v4.7.0</p>\n</blockquote>\n<p>Thanks,  I confirmed that from <a href=\"https://github.com/leanprover/lean4/blob/master/RELEASES.md#lake\">lean4/RELEASES.md</a></p>\n<p>that must be the reason.</p>",
        "id": 445165526,
        "sender_full_name": "LC",
        "timestamp": 1718639269
    },
    {
        "content": "<p>In general, Lean is quite unstable. So if you use any version other than the exact one specified in <code>GlimpseOfLean</code>'s <code>lean-toolchain</code>, errors are expected.</p>",
        "id": 445165557,
        "sender_full_name": "Jannis Limperg",
        "timestamp": 1718639278
    },
    {
        "content": "<p>This information is very helpful.  Thanks for all your help very much <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span></p>",
        "id": 445166171,
        "sender_full_name": "LC",
        "timestamp": 1718639441
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"729212\">LC</span> has marked this topic as resolved.</p>",
        "id": 445184217,
        "sender_full_name": "Notification Bot",
        "timestamp": 1718644564
    }
]