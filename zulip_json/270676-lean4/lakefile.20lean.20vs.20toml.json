[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"315577\">@Mac Malone</span> could you clarify whether having both a <code>lakefile.lean</code> and a <code>lakefile.toml</code> in the same project makes any sense, and what lake is meant to do in the case?  I am asking because I want to decide what to do in that case for other tools (in my case <code>leanblueprint</code>).</p>",
        "id": 446621010,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1719237362
    },
    {
        "content": "<p>At the moment, it is not expected that user projects will have both a <code>lakefile.lean</code> and a <code>lakefile.toml</code>. Currently, if both exist, Lake perfers the <code>lakefile.lean</code>. However, there are plans down the road to evolve this behavior to instead merge the contents of the two,. Thus. it is probable that future projects will make use of both. I don't expect this to happen for a least a few months, though.</p>",
        "id": 446622112,
        "sender_full_name": "Mac Malone",
        "timestamp": 1719237652
    },
    {
        "content": "<p>Can new projects be initialised with lakefile.toml by default?</p>",
        "id": 446625264,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1719238320
    },
    {
        "content": "<p>Ok thanks, I'll try to support having both without warning users that something is weird.</p>",
        "id": 446629483,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1719239159
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span> I think a warning is fine. Lake itself currently produces a warning noting the existence of both and indicating it will use <code>lakefile.lean</code>.</p>",
        "id": 446690040,
        "sender_full_name": "Mac Malone",
        "timestamp": 1719254770
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"466334\">Shreyas Srinivas</span> <a href=\"#narrow/stream/270676-lean4/topic/lakefile.20lean.20vs.20toml/near/446625264\">said</a>:</p>\n<blockquote>\n<p>Can new projects be initialised with lakefile.toml by default?</p>\n</blockquote>\n<p>Are you asking whether you can genearte <code>lakefile.toml</code> from <code>lake new</code>? If so, yes, via <code>lake new &lt;proj&gt; .toml</code>. If you are asking whether <code>lakefile.toml</code> will be made the default, that is <a href=\"https://github.com/leanprover/lean4/pull/4106\">lean4#4106</a>. It probably won't happen until the merger I mentioned or, alternatively, once mathlib is ported to TOMl.</p>",
        "id": 446690415,
        "sender_full_name": "Mac Malone",
        "timestamp": 1719254911
    },
    {
        "content": "<p>I meant the latter but the former is a good solution for the months ahead</p>",
        "id": 446691652,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1719255397
    }
]