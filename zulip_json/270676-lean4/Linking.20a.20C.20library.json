[
    {
        "content": "<p>I'm trying to link a C library called <code>libuv</code> in my application using this code to build:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">@[default_target]</span>\n<span class=\"n\">lean_exe</span> <span class=\"bp\">«</span><span class=\"n\">melp</span><span class=\"bp\">»</span> <span class=\"o\">{</span>\n  <span class=\"n\">root</span> <span class=\"o\">:=</span> <span class=\"bp\">`</span><span class=\"n\">Main</span><span class=\"o\">,</span>\n  <span class=\"n\">moreLinkArgs</span> <span class=\"o\">:=</span> <span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"s2\">\"-luv\"</span><span class=\"o\">]</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">target</span> <span class=\"n\">ffi.o</span> <span class=\"n\">pkg</span> <span class=\"o\">:</span> <span class=\"n\">FilePath</span> <span class=\"o\">:=</span> <span class=\"k\">do</span>\n  <span class=\"k\">let</span> <span class=\"n\">oFile</span> <span class=\"o\">:=</span> <span class=\"n\">pkg.buildDir</span> <span class=\"bp\">/</span> <span class=\"s2\">\"native\"</span> <span class=\"bp\">/</span> <span class=\"s2\">\"ffi.o\"</span>\n  <span class=\"k\">let</span> <span class=\"n\">srcJob</span> <span class=\"bp\">←</span> <span class=\"n\">inputFile</span> <span class=\"bp\">&lt;|</span> <span class=\"n\">pkg.dir</span> <span class=\"bp\">/</span> <span class=\"s2\">\"native\"</span> <span class=\"bp\">/</span> <span class=\"s2\">\"ffi.c\"</span>\n  <span class=\"k\">let</span> <span class=\"n\">flags</span> <span class=\"o\">:=</span> <span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"s2\">\"-I\"</span><span class=\"o\">,</span> <span class=\"o\">(</span><span class=\"bp\">←</span> <span class=\"n\">getLeanIncludeDir</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">toString</span><span class=\"o\">]</span>\n  <span class=\"n\">buildO</span> <span class=\"s2\">\"ffi.c\"</span> <span class=\"n\">oFile</span> <span class=\"n\">srcJob</span> <span class=\"n\">flags</span> <span class=\"s2\">\"clang\"</span>\n\n<span class=\"n\">extern_lib</span> <span class=\"n\">libleanffi</span> <span class=\"n\">pkg</span> <span class=\"o\">:=</span> <span class=\"k\">do</span>\n  <span class=\"k\">let</span> <span class=\"n\">name</span> <span class=\"o\">:=</span> <span class=\"n\">nameToStaticLib</span> <span class=\"s2\">\"leanffi\"</span>\n  <span class=\"k\">let</span> <span class=\"n\">ffiO</span> <span class=\"bp\">←</span> <span class=\"n\">fetch</span> <span class=\"bp\">&lt;|</span> <span class=\"n\">pkg.target</span> <span class=\"bp\">``</span><span class=\"n\">ffi.o</span>\n  <span class=\"n\">buildStaticLib</span> <span class=\"o\">(</span><span class=\"n\">pkg.nativeLibDir</span> <span class=\"bp\">/</span> <span class=\"n\">name</span><span class=\"o\">)</span> <span class=\"bp\">#</span><span class=\"o\">[</span><span class=\"n\">ffiO</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>And i'm getting a bunch of these errors:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: pthread_rwlock_trywrlock@GLIBC_2.34</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">usr</span><span class=\"bp\">/</span><span class=\"n\">lib64</span><span class=\"bp\">/</span><span class=\"n\">gcc</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">pc</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"mi\">13</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"bp\">/../../../../</span><span class=\"n\">lib64</span><span class=\"bp\">/</span><span class=\"n\">libuv.so</span>\n</code></pre></div>\n<p>I tried to add <code>-lpthread</code> but it does not works :\\ how should I proceed?</p>",
        "id": 386281313,
        "sender_full_name": "Sofia Rodrigues",
        "timestamp": 1692580769
    },
    {
        "content": "<p>It seems the library requires a newer version of glibc than Lean targets. When you interface with system libs, it is safer to compile under <code>LEAN_CC=cc</code> in order to use the system C compiler.</p>",
        "id": 386316151,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1692600952
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"481858\">@Felipe GS</span> Did you resolve your issue?  I am starting bindings to <code>libuv</code> and was curious about what you are working on.</p>",
        "id": 396659729,
        "sender_full_name": "Joe Hendrix",
        "timestamp": 1697297623
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110994\">Joe Hendrix</span> <a href=\"#narrow/stream/270676-lean4/topic/Linking.20a.20C.20library/near/396659729\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"481858\">Felipe GS</span> Did you resolve your issue?  I am starting bindings to <code>libuv</code> and was curious about what you are working on.</p>\n</blockquote>\n<p>According to <a href=\"https://blog.codeminer42.com/overcoming-challenges-and-crafting-in-the-uncharted-territory-of-lean4/\">this post</a>, <a href=\"https://github.com/meoowers/melp\">melp</a> settled on <a href=\"https://github.com/xubaiw/lean4-socket\">lean4-socket</a>, so libuv still has no Lean 4 binding yet I guess. Looking forward to your work!</p>",
        "id": 396665881,
        "sender_full_name": "Utensil Song",
        "timestamp": 1697303404
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110994\">Joe Hendrix</span> <a href=\"#narrow/stream/270676-lean4/topic/Linking.20a.20C.20library/near/396659729\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"481858\">Sofia Rodrigues</span>  Did you resolve your issue?  I am starting bindings to <code>libuv</code> and was curious about what you are working on.</p>\n</blockquote>\n<p>It's an old message so I guess the issue is solved by now lol</p>",
        "id": 413125938,
        "sender_full_name": "Sofia Rodrigues",
        "timestamp": 1705401504
    },
    {
        "content": "<p>Hi, I am trying to wrap sqlite <a href=\"https://github.com/drcicero/sqlite.lean\">https://github.com/drcicero/sqlite.lean</a> </p>\n<p>However, when building i get a lot of errors of style undefined reference due to --no-allow-shlib-undefined</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">$</span> <span class=\"n\">lake</span> <span class=\"n\">clean</span><span class=\"bp\">;</span> <span class=\"n\">lake</span> <span class=\"n\">exe</span> <span class=\"n\">test</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Compiling</span> <span class=\"n\">leansqlite3.c</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Creating</span> <span class=\"n\">libleansqlite3.a</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Linking</span> <span class=\"n\">libleansqlite3.so</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Sqlite</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Compiling</span> <span class=\"n\">Sqlite</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Test</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">./././</span><span class=\"n\">Test.lean</span><span class=\"o\">:</span><span class=\"mi\">14</span><span class=\"o\">:</span><span class=\"mi\">46</span><span class=\"o\">:</span> <span class=\"n\">warning</span><span class=\"o\">:</span> <span class=\"n\">unused</span> <span class=\"kd\">variable</span> <span class=\"bp\">`</span><span class=\"n\">nmtp</span><span class=\"bp\">`</span> <span class=\"o\">[</span><span class=\"n\">linter.unusedVariables</span><span class=\"o\">]</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Compiling</span> <span class=\"n\">Test</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Linking</span> <span class=\"n\">test</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">dr</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---4.6.0/bin/leanc -o ./.lake/build/bin/test ./.lake/build/ir/Test.c.o ./.lake/build/ir/Sqlite.c.o ./.lake/build/lib/libleansqlite3.a -lsqlite3</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: pthread_join@GLIBC_2.34</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: dlerror@GLIBC_2.34</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: pthread_mutexattr_destroy@GLIBC_2.34</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: exp@GLIBC_2.29</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: pthread_create@GLIBC_2.34</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: log@GLIBC_2.29</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: stat64@GLIBC_2.33</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: pthread_mutexattr_init@GLIBC_2.34</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: fstat64@GLIBC_2.33</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: dlopen@GLIBC_2.34</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: fcntl64@GLIBC_2.28</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: lstat64@GLIBC_2.33</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: pthread_mutexattr_settype@GLIBC_2.34</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: dlsym@GLIBC_2.34</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: pthread_mutex_trylock@GLIBC_2.34</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: pow@GLIBC_2.29</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n\n<span class=\"n\">ld.lld</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">undefined</span> <span class=\"n\">reference</span> <span class=\"n\">due</span> <span class=\"n\">to</span> <span class=\"c1\">--no-allow-shlib-undefined: dlclose@GLIBC_2.34</span>\n<span class=\"bp\">&gt;&gt;&gt;</span> <span class=\"n\">referenced</span> <span class=\"kd\">by</span> <span class=\"bp\">/</span><span class=\"n\">lib</span><span class=\"bp\">/</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">linux</span><span class=\"bp\">-</span><span class=\"n\">gnu</span><span class=\"bp\">/</span><span class=\"n\">libsqlite3.so</span>\n<span class=\"n\">clang</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">linker</span> <span class=\"n\">command</span> <span class=\"n\">failed</span> <span class=\"k\">with</span> <span class=\"n\">exit</span> <span class=\"n\">code</span> <span class=\"mi\">1</span> <span class=\"o\">(</span><span class=\"n\">use</span> <span class=\"bp\">-</span><span class=\"n\">v</span> <span class=\"n\">to</span> <span class=\"n\">see</span> <span class=\"n\">invocation</span><span class=\"o\">)</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">dr</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---4.6.0/bin/leanc` exited with code 1</span>\n</code></pre></div>\n<p>I found another library <a href=\"https://github.com/arthurpaulino/LeanMySQL/blob/master/lakefile.lean\">https://github.com/arthurpaulino/LeanMySQL/blob/master/lakefile.lean</a> which simply adds <code>\"-L/usr/lib/x86_64-linux-gnu/\"</code> to the moreLinkArgs. If I do that it works for me and I can run some simple queries:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">$</span> <span class=\"n\">lake</span> <span class=\"n\">clean</span><span class=\"bp\">;</span> <span class=\"n\">lake</span> <span class=\"n\">exe</span> <span class=\"n\">test</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Compiling</span> <span class=\"n\">leansqlite3.c</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Creating</span> <span class=\"n\">libleansqlite3.a</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Linking</span> <span class=\"n\">libleansqlite3.so</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Sqlite</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Compiling</span> <span class=\"n\">Sqlite</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Test</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">./././</span><span class=\"n\">Test.lean</span><span class=\"o\">:</span><span class=\"mi\">14</span><span class=\"o\">:</span><span class=\"mi\">46</span><span class=\"o\">:</span> <span class=\"n\">warning</span><span class=\"o\">:</span> <span class=\"n\">unused</span> <span class=\"kd\">variable</span> <span class=\"bp\">`</span><span class=\"n\">nmtp</span><span class=\"bp\">`</span> <span class=\"o\">[</span><span class=\"n\">linter.unusedVariables</span><span class=\"o\">]</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Compiling</span> <span class=\"n\">Test</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Linking</span> <span class=\"n\">test</span>\n<span class=\"mi\">3</span><span class=\"bp\">.</span><span class=\"mi\">37</span><span class=\"bp\">.</span><span class=\"mi\">2</span>\n<span class=\"bp\">&gt;</span> <span class=\"n\">SELECT</span> <span class=\"n\">SQLITE_VERSION</span><span class=\"o\">()</span>\n  <span class=\"o\">[(</span><span class=\"n\">SQLITE_VERSION</span><span class=\"o\">(),</span> <span class=\"mi\">3</span><span class=\"o\">)]</span>\n  <span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"bp\">.</span><span class=\"mi\">37</span><span class=\"bp\">.</span><span class=\"mi\">2</span><span class=\"o\">]</span>\n  <span class=\"n\">DONE</span> <span class=\"mi\">101</span>\n<span class=\"bp\">&gt;</span> <span class=\"n\">DROP</span> <span class=\"n\">TABLE</span> <span class=\"n\">IF</span> <span class=\"n\">EXISTS</span> <span class=\"n\">Cars</span>\n  <span class=\"o\">[]</span>\n  <span class=\"n\">DONE</span> <span class=\"mi\">101</span>\n<span class=\"bp\">&gt;</span> <span class=\"n\">CREATE</span> <span class=\"n\">TABLE</span> <span class=\"n\">Cars</span><span class=\"o\">(</span><span class=\"n\">Id</span> <span class=\"n\">INT</span><span class=\"o\">,</span> <span class=\"n\">Name</span> <span class=\"n\">TEXT</span><span class=\"o\">,</span> <span class=\"n\">Price</span> <span class=\"n\">INT</span><span class=\"o\">)</span>\n  <span class=\"o\">[]</span>\n  <span class=\"n\">DONE</span> <span class=\"mi\">101</span>\n<span class=\"bp\">&gt;</span> <span class=\"n\">INSERT</span> <span class=\"n\">INTO</span> <span class=\"n\">Cars</span> <span class=\"n\">VALUES</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">'</span><span class=\"n\">Audi'</span><span class=\"o\">,</span> <span class=\"mi\">52642</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">'</span><span class=\"n\">Mercedes'</span><span class=\"o\">,</span> <span class=\"mi\">57127</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">'</span><span class=\"n\">Skoda'</span><span class=\"o\">,</span> <span class=\"mi\">9000</span><span class=\"o\">)</span>\n  <span class=\"o\">[]</span>\n  <span class=\"n\">DONE</span> <span class=\"mi\">101</span>\n<span class=\"bp\">&gt;</span> <span class=\"n\">INSERT</span> <span class=\"n\">INTO</span> <span class=\"n\">Cars</span> <span class=\"n\">VALUES</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">'</span><span class=\"n\">Volvo'</span><span class=\"o\">,</span> <span class=\"mi\">29000</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">'</span><span class=\"n\">Bentley'</span><span class=\"o\">,</span> <span class=\"mi\">350000</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"bp\">'</span><span class=\"n\">Citroen'</span><span class=\"o\">,</span> <span class=\"mi\">21000</span><span class=\"o\">)</span>\n  <span class=\"o\">[]</span>\n  <span class=\"n\">DONE</span> <span class=\"mi\">101</span>\n<span class=\"bp\">&gt;</span> <span class=\"n\">INSERT</span> <span class=\"n\">INTO</span> <span class=\"n\">Cars</span> <span class=\"n\">VALUES</span> <span class=\"o\">(</span><span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"bp\">'</span><span class=\"n\">Hummer'</span><span class=\"o\">,</span> <span class=\"mi\">41400</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">8</span><span class=\"o\">,</span> <span class=\"bp\">'</span><span class=\"n\">Volkswagen'</span><span class=\"o\">,</span> <span class=\"mi\">21600</span><span class=\"o\">)</span>\n  <span class=\"o\">[]</span>\n  <span class=\"n\">DONE</span> <span class=\"mi\">101</span>\n<span class=\"bp\">&gt;</span> <span class=\"n\">SELECT</span> <span class=\"bp\">*</span> <span class=\"n\">FROM</span> <span class=\"n\">sqlite_master</span>\n  <span class=\"o\">[(</span><span class=\"n\">type</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"n\">name</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"n\">tbl_name</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"n\">rootpage</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"n\">sql</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">)]</span>\n  <span class=\"o\">[</span><span class=\"n\">table</span><span class=\"o\">,</span> <span class=\"n\">Cars</span><span class=\"o\">,</span> <span class=\"n\">Cars</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"n\">CREATE</span> <span class=\"n\">TABLE</span> <span class=\"n\">Cars</span><span class=\"o\">(</span><span class=\"n\">Id</span> <span class=\"n\">INT</span><span class=\"o\">,</span> <span class=\"n\">Name</span> <span class=\"n\">TEXT</span><span class=\"o\">,</span> <span class=\"n\">Price</span> <span class=\"n\">INT</span><span class=\"o\">)]</span>\n  <span class=\"n\">DONE</span> <span class=\"mi\">101</span>\n<span class=\"bp\">&gt;</span> <span class=\"n\">SELECT</span> <span class=\"bp\">*</span> <span class=\"n\">FROM</span> <span class=\"n\">Cars</span>\n  <span class=\"o\">[(</span><span class=\"n\">Id</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"n\">Name</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"n\">Price</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span>\n  <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"n\">Audi</span><span class=\"o\">,</span> <span class=\"mi\">52642</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"n\">Mercedes</span><span class=\"o\">,</span> <span class=\"mi\">57127</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"n\">Skoda</span><span class=\"o\">,</span> <span class=\"mi\">9000</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"n\">Volvo</span><span class=\"o\">,</span> <span class=\"mi\">29000</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"n\">Bentley</span><span class=\"o\">,</span> <span class=\"mi\">350000</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"n\">Citroen</span><span class=\"o\">,</span> <span class=\"mi\">21000</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"n\">Hummer</span><span class=\"o\">,</span> <span class=\"mi\">41400</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"mi\">8</span><span class=\"o\">,</span> <span class=\"n\">Volkswagen</span><span class=\"o\">,</span> <span class=\"mi\">21600</span><span class=\"o\">]</span>\n  <span class=\"n\">DONE</span> <span class=\"mi\">101</span>\n<span class=\"bp\">&gt;</span> <span class=\"n\">SELECT</span> <span class=\"bp\">*</span> <span class=\"n\">FROM</span> <span class=\"n\">Cars</span> <span class=\"n\">WHERE</span> <span class=\"n\">Price</span> <span class=\"bp\">&gt;</span> <span class=\"mi\">29000</span>\n  <span class=\"o\">[(</span><span class=\"n\">Id</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"n\">Name</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"n\">Price</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span>\n  <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"n\">Audi</span><span class=\"o\">,</span> <span class=\"mi\">52642</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"n\">Mercedes</span><span class=\"o\">,</span> <span class=\"mi\">57127</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"n\">Bentley</span><span class=\"o\">,</span> <span class=\"mi\">350000</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"n\">Hummer</span><span class=\"o\">,</span> <span class=\"mi\">41400</span><span class=\"o\">]</span>\n  <span class=\"n\">DONE</span> <span class=\"mi\">101</span>\n<span class=\"bp\">&gt;</span> <span class=\"n\">SELECT</span> <span class=\"n\">Name</span> <span class=\"n\">FROM</span> <span class=\"n\">Cars</span> <span class=\"n\">WHERE</span> <span class=\"n\">Price</span> <span class=\"bp\">&gt;</span> <span class=\"mi\">29000</span>\n  <span class=\"o\">[(</span><span class=\"n\">Name</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">)]</span>\n  <span class=\"o\">[</span><span class=\"n\">Audi</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"n\">Mercedes</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"n\">Bentley</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"n\">Hummer</span><span class=\"o\">]</span>\n  <span class=\"n\">DONE</span> <span class=\"mi\">101</span>\n</code></pre></div>\n<p>However, I suppose that would make the library platform-dependent, which is unsatisfying? I'm wondering whether there is a better way.</p>\n<p>A similar error was posted twice in the past, and <span class=\"user-mention\" data-user-id=\"110024\">@Sebastian Ullrich</span> responded with:</p>\n<blockquote>\n<p>It seems the library requires a newer version of glibc than Lean targets. When you interface with system libs, it is safer to compile under LEAN_CC=cc in order to use the system C compiler.</p>\n</blockquote>\n<p>However, that doesn't work for me either:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">$</span> <span class=\"n\">lake</span> <span class=\"n\">clean</span><span class=\"bp\">;</span> <span class=\"n\">LEAN_CC</span><span class=\"bp\">=</span><span class=\"n\">cc</span> <span class=\"n\">lake</span> <span class=\"n\">exe</span> <span class=\"n\">test</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Compiling</span> <span class=\"n\">leansqlite3.c</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Creating</span> <span class=\"n\">libleansqlite3.a</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Linking</span> <span class=\"n\">libleansqlite3.so</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Sqlite</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Compiling</span> <span class=\"n\">Sqlite</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Building</span> <span class=\"n\">Test</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">./././</span><span class=\"n\">Test.lean</span><span class=\"o\">:</span><span class=\"mi\">14</span><span class=\"o\">:</span><span class=\"mi\">46</span><span class=\"o\">:</span> <span class=\"n\">warning</span><span class=\"o\">:</span> <span class=\"n\">unused</span> <span class=\"kd\">variable</span> <span class=\"bp\">`</span><span class=\"n\">nmtp</span><span class=\"bp\">`</span> <span class=\"o\">[</span><span class=\"n\">linter.unusedVariables</span><span class=\"o\">]</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Compiling</span> <span class=\"n\">Test</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"bp\">/</span><span class=\"mi\">4</span><span class=\"o\">]</span> <span class=\"n\">Linking</span> <span class=\"n\">test</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">dr</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---4.6.0/bin/leanc -o ./.lake/build/bin/test ./.lake/build/ir/Test.c.o ./.lake/build/ir/Sqlite.c.o ./.lake/build/lib/libleansqlite3.a -L/usr/lib/x86_64-linux-gnu/ -lsqlite3</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"bp\">/</span><span class=\"n\">usr</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">ld</span><span class=\"o\">:</span> <span class=\"n\">cannot</span> <span class=\"n\">find</span> <span class=\"bp\">-</span><span class=\"n\">lc</span><span class=\"bp\">++</span><span class=\"o\">:</span> <span class=\"n\">No</span> <span class=\"n\">such</span> <span class=\"n\">file</span> <span class=\"n\">or</span> <span class=\"n\">directory</span>\n<span class=\"bp\">/</span><span class=\"n\">usr</span><span class=\"bp\">/</span><span class=\"n\">bin</span><span class=\"bp\">/</span><span class=\"n\">ld</span><span class=\"o\">:</span> <span class=\"n\">cannot</span> <span class=\"n\">find</span> <span class=\"bp\">-</span><span class=\"n\">lc</span><span class=\"bp\">++</span><span class=\"n\">abi</span><span class=\"o\">:</span> <span class=\"n\">No</span> <span class=\"n\">such</span> <span class=\"n\">file</span> <span class=\"n\">or</span> <span class=\"n\">directory</span>\n<span class=\"n\">collect2</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">ld</span> <span class=\"n\">returned</span> <span class=\"mi\">1</span> <span class=\"n\">exit</span> <span class=\"n\">status</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">dr</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---4.6.0/bin/leanc` exited with code 1</span>\n</code></pre></div>\n<p>Any ideas?</p>",
        "id": 429369692,
        "sender_full_name": "David Richter",
        "timestamp": 1711368018
    }
]