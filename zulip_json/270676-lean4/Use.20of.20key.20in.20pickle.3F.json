[
    {
        "content": "<p>What does the <code>key</code> argument in a call to <code>pickle</code> (need to) do? What \"cares\" if it's distinct from another key, so to speak?</p>\n<p><code>key</code> is just the <code>mod : Name</code> argument of <code>saveModuleData</code>, but I'm not sure why this is important if we're not importing it as a module. (Or are we, under the hood, somehow?)</p>",
        "id": 442641755,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1717539299
    },
    {
        "content": "<p>If you load two <code>pickle</code>s with the same key in the same session, they will hash to the same preferred location in memory, so one of them will have to be relocated, resulting in a significantly (~100x) slower load time because plain <code>mmap</code> doesn't work</p>",
        "id": 442645248,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1717540949
    },
    {
        "content": "<p>Oh, ok! Is the session considered ended when we free the compacted region?</p>",
        "id": 442645353,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1717541035
    },
    {
        "content": "<p>E.g. is <code>let s ← withUnpickle \"/my/Key/Is/Foo\" f; let s' ← withUnpickle \"/my/Key/Is/Also/Foo\" g</code> problematic or not?</p>",
        "id": 442645592,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1717541164
    },
    {
        "content": "<p>it should be ok</p>",
        "id": 442645637,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1717541195
    },
    {
        "content": "<p>but you should profile it to be sure</p>",
        "id": 442645652,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1717541208
    },
    {
        "content": "<p>it's really obvious when this happens</p>",
        "id": 442645680,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1717541220
    },
    {
        "content": "<p>Ok, thanks! (I'll record it here for posterity when I do profile it)</p>",
        "id": 442645855,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1717541323
    }
]