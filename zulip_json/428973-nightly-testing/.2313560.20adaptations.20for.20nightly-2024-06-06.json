[
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/13560\">#13560</a> contains the adaptations required to bring <code>bump/v4.9.0</code> up to <code>nightly-2024-06-06</code>, which is becoming <code>v4.9.0-rc1</code> as we speak.</p>",
        "id": 443039714,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1717675002
    },
    {
        "content": "<p>It is stacked on top of <a href=\"https://github.com/leanprover-community/mathlib4/pull/13550\">#13550</a>, which still needs review.</p>",
        "id": 443039837,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1717675025
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> I left a review a moment (=30min) ago</p>",
        "id": 443039978,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1717675075
    },
    {
        "content": "<p>The diff is at <a href=\"https://github.com/leanprover-community/mathlib4/compare/bump/nightly-2024-06-05...bump/nightly-2024-06-06\">https://github.com/leanprover-community/mathlib4/compare/bump/nightly-2024-06-05...bump/nightly-2024-06-06</a></p>",
        "id": 443040051,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1717675087
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/428973-nightly-testing/topic/.2313560.20adaptations.20for.20nightly-2024-06-06/near/443039978\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> I left a review a moment (=30min) ago</p>\n</blockquote>\n<p>Replied, thanks!</p>",
        "id": 443040438,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1717675215
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> Concerning those <code>assoc</code>s: does this mean that simp will now rw in both directions, and:</p>\n<ol>\n<li>it actually needs to rw in both directions in these specific cases, one of the two directions does not suffice</li>\n<li>it doesn't get into a loop</li>\n<li>it successfully figures out in which places it should rw to the left and to the right</li>\n</ol>\n<p>Is (3) brittle? Should we have an intermediate step in these proofs?</p>",
        "id": 443040899,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1717675353
    },
    {
        "content": "<p>No, nothing so dramatic.</p>",
        "id": 443041239,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1717675459
    },
    {
        "content": "<p>If you want to rewrite by the reverse direction of a lemma, you must use <code>\\l my_lemma</code>. If you do so, Lean will not include the forward direction in the simp set. If, however you write <code>simp [\\l my_lemma, my_lemma]</code>, simp will still include the forward direction (i.e. the same as the old behaviour for <code>simp [\\l my_lemma]</code>, and loop or not exactly as before.</p>",
        "id": 443041410,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1717675523
    },
    {
        "content": "<p>But apparently in these proofs it really does need both the forwards and the backwards direction. That somehow seems brittle to me.</p>",
        "id": 443041593,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1717675576
    },
    {
        "content": "<p>Should we regard this as a code smell, to be cleaned up later?</p>",
        "id": 443041660,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1717675597
    },
    {
        "content": "<p>Yes -- but it's not new brittleness, it's brittleness that has been there all along, only less apparently.</p>",
        "id": 443041683,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1717675610
    },
    {
        "content": "<p>If it's terminal, <span aria-label=\"woman shrugging\" class=\"emoji emoji-1f937-200d-2640\" role=\"img\" title=\"woman shrugging\">:woman_shrugging:</span></p>",
        "id": 443041734,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1717675628
    },
    {
        "content": "<p>Ok, I'm happy to merge this, but I do think we should clean this up later and not encourage this pattern in new proofs.</p>",
        "id": 443041974,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1717675712
    },
    {
        "content": "<p>I kicked <a href=\"https://github.com/leanprover-community/mathlib4/pull/13560\">#13560</a> on the queue (cc <span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span>)</p>",
        "id": 443055884,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1717679772
    }
]