[
    {
        "content": "<p>Is there a theorem like <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/MeasureTheory/Integral/Bochner.html#MeasureTheory.integral_smul\">MeasureTheory.integral_smul</a> but for set integrals? I just want to pull out the constant <code>b</code> in the following: </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.Analysis.SpecialFunctions.Gaussian</span>\n<span class=\"kn\">open</span> <span class=\"n\">scoped</span> <span class=\"n\">ENNReal</span> <span class=\"n\">NNReal</span> <span class=\"n\">Real</span>\n\n\n<span class=\"kn\">open</span> <span class=\"n\">MeasureTheory</span> <span class=\"n\">Set</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">test</span> <span class=\"o\">{</span><span class=\"n\">a</span> <span class=\"n\">r</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">ha</span> <span class=\"o\">:</span> <span class=\"n\">a</span> <span class=\"bp\">&gt;</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hb</span> <span class=\"o\">:</span> <span class=\"n\">b</span> <span class=\"bp\">&gt;</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"bp\">∫</span> <span class=\"o\">(</span><span class=\"n\">t</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"k\">in</span> <span class=\"n\">Ioi</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">b</span> <span class=\"bp\">•</span> <span class=\"n\">t</span> <span class=\"bp\">^</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"n\">rexp</span> <span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"bp\">=</span>  <span class=\"n\">b</span> <span class=\"bp\">•</span> <span class=\"o\">(</span><span class=\"bp\">∫</span> <span class=\"o\">(</span><span class=\"n\">t</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"k\">in</span> <span class=\"n\">Ioi</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">t</span> <span class=\"bp\">^</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"n\">rexp</span> <span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">t</span><span class=\"o\">))</span>\n    <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 410830832,
        "sender_full_name": "Josha Dekker",
        "timestamp": 1704194074
    },
    {
        "content": "<p><code>MeasureTheory.integral_smul</code> will work</p>",
        "id": 410830904,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1704194112
    },
    {
        "content": "<p>A set integral is such notation under <code>integral</code>, so all lemmas that apply to <code>integral</code> will work on it (except that some might turn your set integral into something which is not of the form of a set integral).</p>",
        "id": 410831052,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1704194171
    },
    {
        "content": "<p>Yes, that is what I thought as well, so I tried it, but it says that it can't unify the two; perhaps I'm doing something wrong, let me check</p>",
        "id": 410831331,
        "sender_full_name": "Josha Dekker",
        "timestamp": 1704194312
    },
    {
        "content": "<p>You should rewrite <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=smul_mul_assoc#doc\">docs#smul_mul_assoc</a> inside the integrand for it to apply.</p>",
        "id": 410831420,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1704194371
    },
    {
        "content": "<p>To expand on the answer of Yaël: the issue is that you don't have <code>b • (t ^ (a - 1) * rexp (-t))</code> under the integral, you have <code>(b • t ^ (a - 1)) * rexp (-t)</code>.</p>",
        "id": 410831545,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1704194438
    },
    {
        "content": "<p>Thanks, that explains it!</p>",
        "id": 410831668,
        "sender_full_name": "Josha Dekker",
        "timestamp": 1704194509
    }
]