[
    {
        "content": "<p>Hello!</p>\n<p>Is there a clean way to apply tactics as one normally would when dealing with a PSigma equality? My question is captured by the following MWE:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">open</span> <span class=\"n\">Nat</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">natId</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span> <span class=\"o\">:=</span> <span class=\"n\">x</span>\n\n<span class=\"kd\">example</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"bp\">Σ'</span> <span class=\"o\">(</span><span class=\"n\">natId</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span> <span class=\"bp\">→</span> <span class=\"n\">Nat</span><span class=\"o\">),</span> <span class=\"n\">natId</span> <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">natId</span> <span class=\"n\">x</span><span class=\"o\">))</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"c1\">-- creates unwanted synthetic hole</span>\n  <span class=\"n\">apply</span> <span class=\"n\">PSigma.mk</span>\n  <span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>More generally, what is the proper way to go about proving PSigma equalities when the first term of the dependent pair could just as well have been in the context rather than in the goal? <code>apply PSigma.mk</code> creates unwanted synthetic holes, unfortunately, what I would like is something which provides access to <code>natId</code> but doesn't prevent tactic application due to the dependent pair</p>\n<p>Thanks!</p>",
        "id": 432411641,
        "sender_full_name": "Arnav Sabharwal",
        "timestamp": 1712727781
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 432414396,
        "sender_full_name": "Arnav Sabharwal",
        "timestamp": 1712728836
    },
    {
        "content": "<p>you might have more luck using <code>Subtype</code> instead of <code>PSigma</code>, as I believe there's more API around the former</p>",
        "id": 432608072,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1712794565
    },
    {
        "content": "<p>though I'm also not sure I understand your question... what's the desired tactic state?</p>",
        "id": 432608533,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1712794941
    }
]