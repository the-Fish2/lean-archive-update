[
    {
        "content": "<p>I’ve seen <span class=\"user-mention\" data-user-id=\"110038\">@Kevin Buzzard</span> mention at least twice now that <span class=\"user-mention\" data-user-id=\"260507\">@Heather Macbeth</span> has formalised Riemannian manifolds in Lean. Where can I read more about that? Is it in mathlib? This is exciting!</p>",
        "id": 418252814,
        "sender_full_name": "Winston Yin (尹維晨)",
        "timestamp": 1706266769
    },
    {
        "content": "<p>It was in Banff and as far as I know it's not in mathlib. It was a proof of concept.</p>",
        "id": 418253174,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1706266901
    },
    {
        "content": "<p>The <a href=\"https://www.birs.ca/files//workshops/Juniper/23w5124/report23w5124.pdf\">final report</a> from the Banff meeting points to a <a href=\"https://github.com/leanprover-community/mathlib/tree/hrmacbeth-riemannian2\">branch</a> containing the definition.</p>",
        "id": 418367014,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1706312986
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"260507\">@Heather Macbeth</span> What is missing to make this mathlib-ready, besides the obvious things (porting to Lean 4, filling in the sorries, clean-up and relocating lemmas)? For instance,</p>\n<ul>\n<li>should the cotangent bundle be defined differently (say, as the dual bundle of the tangent bundle, or as the hom bundle of the trivial bundle)?</li>\n<li>should the \"bicotangent space\" be generalised to product bundles?</li>\n<li>anything deeper than I'm overlooking?</li>\n</ul>",
        "id": 418367131,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1706313076
    },
    {
        "content": "<p>I would be interested in having Riemannian metrics (even a bare definition might suffice) --- for many reasons, including defining the Lebesgue measure on a manifold. I may have time to help. But I don't know what the current status is...</p>",
        "id": 418367210,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1706313129
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"634338\">@Michael Rothgang</span> <span class=\"user-mention\" data-user-id=\"416472\">@Winston Yin (尹維晨)</span> Indeed that is the branch.  At the same time, at that workshop in Banff, <span class=\"user-mention\" data-user-id=\"412682\">@Moritz Doll</span>  and <span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span>  and I were working on adjusting the hom-bundle definition, see <a href=\"https://github.com/leanprover-community/mathlib/pull/19107\">!3#19107</a>.  Then <span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span> made another refactor (<a href=\"https://github.com/leanprover-community/mathlib/pull/19221\">!3#19221</a>). So some of the workarounds in that branch (e.g. the explicit type synonyms for the \"cotangent\" and \"bicotangent\" bundles, and all that bulky code putting trivial instances on various bundles) should hopefully not be needed now.  (I haven't checked.)</p>",
        "id": 418553547,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1706493196
    },
    {
        "content": "<p>A good first test of the definition would be to prove (using partitions of unity) that every manifold admits a Riemannian metric.  This requires a refactor of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SmoothPartitionOfUnity#doc\">docs#SmoothPartitionOfUnity</a> (generalizing from functions to sections of a vector bundle) but otherwise shouldn't be hard.</p>",
        "id": 418553754,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1706493388
    },
    {
        "content": "<p>I don't understand what you mean about <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SmoothPartitionOfUnity#doc\">docs#SmoothPartitionOfUnity</a>. Those are general enough. What needs to be generalized are lemmas like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=exists_smooth_forall_mem_convex_of_local#doc\">docs#exists_smooth_forall_mem_convex_of_local</a> and its friends from the sphere eversion project.</p>",
        "id": 418673081,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1706545236
    },
    {
        "content": "<p>I think that this is exactly what Heather meant.</p>",
        "id": 418673307,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1706545314
    },
    {
        "content": "<p>Yes, sorry, I looked too hastily at the file and linked the wrong lemma.  The lemmas that would need to be generalized are those which are currently written for bundled smooth functions (<code>ContMDiffMap</code>), you'd want them for bundled smooth sections of a vector bundle (<code>ContMDiffSection</code>) instead.</p>",
        "id": 418760650,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1706584904
    }
]