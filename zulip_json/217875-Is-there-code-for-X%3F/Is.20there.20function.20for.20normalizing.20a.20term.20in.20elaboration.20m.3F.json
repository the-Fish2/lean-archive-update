[
    {
        "content": "<p>Hello, I am trying to find a function for normalizing a term in elaboration monad. Or evaluation function for expressions. I had tried some search and read the implementation for command eval, but I have not find something can be used in elab m.</p>",
        "id": 436521161,
        "sender_full_name": "Alissa Tung",
        "timestamp": 1714576958
    },
    {
        "content": "<p>I had tried something like</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">elab</span> <span class=\"s2\">\"debug!\"</span> <span class=\"n\">x</span><span class=\"o\">:</span><span class=\"n\">term</span> <span class=\"o\">:</span> <span class=\"n\">term</span> <span class=\"bp\">=&gt;</span> <span class=\"k\">do</span>\n  <span class=\"n\">logInfo</span> <span class=\"n\">x</span>\n  <span class=\"k\">let</span> <span class=\"n\">xs</span> <span class=\"bp\">&lt;-</span> <span class=\"n\">elabTermAndSynthesize</span> <span class=\"n\">x</span> <span class=\"bp\">.</span><span class=\"n\">none</span>\n  <span class=\"n\">logInfo</span> <span class=\"n\">xs</span>\n  <span class=\"n\">logInfo</span> <span class=\"o\">(</span><span class=\"bp\">&lt;-</span> <span class=\"n\">eval</span><span class=\"bp\">%</span> <span class=\"n\">xs</span><span class=\"o\">)</span>\n  <span class=\"n\">return</span> <span class=\"n\">xs</span>\n</code></pre></div>\n<p>but seems is not correct</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"o\">(</span><span class=\"n\">kernel</span><span class=\"o\">)</span> <span class=\"n\">declaration</span> <span class=\"n\">has</span> <span class=\"n\">free</span> <span class=\"kd\">variables</span> <span class=\"bp\">'</span><span class=\"n\">_tmp._</span><span class=\"bp\">@.</span><span class=\"n\">Main._hyg.144'</span>\n</code></pre></div>",
        "id": 436537976,
        "sender_full_name": "Alissa Tung",
        "timestamp": 1714582966
    },
    {
        "content": "<p>What do you mean by \"normalize\"?</p>",
        "id": 436677165,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1714651193
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/217875-Is-there-code-for-X.3F/topic/Is.20there.20function.20for.20normalizing.20a.20term.20in.20elaboration.20m.3F/near/436677165\">said</a>:</p>\n<blockquote>\n<p>What do you mean by \"normalize\"?</p>\n</blockquote>\n<p>Sorry I am not familiar with the terms, the two terms I used here are</p>\n<ul>\n<li>\n<p>normalize: syntax -&gt; syntax, which is elaborates the syntax to expression, run the reduction or calculations, read back to syntax</p>\n</li>\n<li>\n<p>evaluate: expression -&gt; expression, simplify the expression, for example, calculate function applications</p>\n</li>\n</ul>",
        "id": 436677897,
        "sender_full_name": "Alissa Tung",
        "timestamp": 1714651437
    }
]