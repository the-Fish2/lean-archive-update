[
    {
        "content": "<p>I did not find that given a group <code>G</code> acting on a non-empty type <code>α</code>, the action is transitive if and only if the quotient by the action has exactly one element, i.e.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib</span>\n\n<span class=\"kd\">variable</span> <span class=\"o\">(</span><span class=\"n\">G</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">Group</span> <span class=\"n\">G</span><span class=\"o\">]</span> <span class=\"o\">(</span><span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span> <span class=\"o\">[</span><span class=\"n\">MulAction</span> <span class=\"n\">G</span> <span class=\"n\">α</span><span class=\"o\">]</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">MulAction.pretransitive_iff_subsingleton_quotient</span> <span class=\"o\">:</span>\n    <span class=\"n\">MulAction.IsPretransitive</span> <span class=\"n\">G</span> <span class=\"n\">α</span> <span class=\"bp\">↔</span> <span class=\"n\">Subsingleton</span> <span class=\"o\">(</span><span class=\"n\">MulAction.orbitRel.Quotient</span> <span class=\"n\">G</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">constructor</span>\n  <span class=\"bp\">·</span> <span class=\"n\">intro</span> <span class=\"n\">_</span>\n    <span class=\"n\">refine</span> <span class=\"o\">⟨</span><span class=\"k\">fun</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"bp\">↦</span> <span class=\"n\">Quot.inductionOn</span> <span class=\"n\">a</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">x</span> <span class=\"bp\">↦</span> <span class=\"bp\">?</span><span class=\"n\">_</span><span class=\"o\">)⟩</span>\n    <span class=\"n\">exact</span> <span class=\"n\">Quot.inductionOn</span> <span class=\"n\">b</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">y</span> <span class=\"bp\">↦</span> <span class=\"n\">Quot.sound</span> <span class=\"bp\">&lt;|</span> <span class=\"n\">MulAction.exists_smul_eq</span> <span class=\"n\">G</span> <span class=\"n\">y</span> <span class=\"n\">x</span><span class=\"o\">)</span>\n  <span class=\"bp\">·</span> <span class=\"n\">intro</span> <span class=\"n\">_</span>\n    <span class=\"n\">refine</span> <span class=\"o\">⟨</span><span class=\"k\">fun</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"bp\">↦</span> <span class=\"bp\">?</span><span class=\"n\">_</span><span class=\"o\">⟩</span>\n    <span class=\"k\">have</span> <span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">Quotient.mk</span> <span class=\"o\">(</span><span class=\"n\">MulAction.orbitRel</span> <span class=\"n\">G</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"bp\">⟦</span><span class=\"n\">a</span><span class=\"bp\">⟧</span> <span class=\"o\">:=</span> <span class=\"n\">Subsingleton.elim</span> <span class=\"n\">_</span> <span class=\"n\">_</span>\n    <span class=\"n\">exact</span> <span class=\"n\">Quotient.eq_rel.mp</span> <span class=\"n\">h</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">MulAction.pretransitive_iff_unique_quotient_of_nonempty</span> <span class=\"o\">[</span><span class=\"n\">Nonempty</span> <span class=\"n\">α</span><span class=\"o\">]</span> <span class=\"o\">:</span>\n    <span class=\"n\">MulAction.IsPretransitive</span> <span class=\"n\">G</span> <span class=\"n\">α</span> <span class=\"bp\">↔</span> <span class=\"n\">Nonempty</span> <span class=\"o\">(</span><span class=\"n\">Unique</span> <span class=\"bp\">&lt;|</span> <span class=\"n\">MulAction.orbitRel.Quotient</span> <span class=\"n\">G</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">unique_iff_subsingleton_and_nonempty</span><span class=\"o\">,</span> <span class=\"n\">MulAction.pretransitive_iff_subsingleton_quotient</span><span class=\"o\">]</span>\n  <span class=\"n\">simp</span> <span class=\"n\">only</span> <span class=\"o\">[</span><span class=\"n\">iff_self_and</span><span class=\"o\">]</span>\n  <span class=\"n\">exact</span> <span class=\"k\">fun</span> <span class=\"n\">_</span> <span class=\"bp\">↦</span> <span class=\"o\">(</span><span class=\"n\">nonempty_quotient_iff</span> <span class=\"n\">_</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">mpr</span> <span class=\"n\">inferInstance</span>\n</code></pre></div>\n<p>Did I miss something? If not, should this be somewhere? If yes, where? <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Mathlib.GroupTheory.GroupAction.Basic#doc\">docs#Mathlib.GroupTheory.GroupAction.Basic</a> is already quite long.</p>",
        "id": 419511126,
        "sender_full_name": "Christian Merten",
        "timestamp": 1706898376
    },
    {
        "content": "<p>Is the action of G on the empty set transitive? This is just a matter of definitions, but 1 is not prime and the empty set is not connected, I was wondering if it was one of those situations. If it's not (and if there's a notion of being pretransitive like we have preprime and preconnected) then you don't need the nonempty assumption :-)</p>",
        "id": 419515872,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1706900160
    },
    {
        "content": "<p>Yes, there is <code>IsPretransitive</code> and no, I would say the action of <code>G</code> on the empty set is not transitive. That's why there are two versions: The first one is: the action is <em>pre</em>transitive iff the quotient is a subsingleton and the second one is: the action is transitive iff the quotient is a singleton.</p>",
        "id": 419516458,
        "sender_full_name": "Christian Merten",
        "timestamp": 1706900388
    },
    {
        "content": "<p>I guess I could make the <code>Nonempty</code> assumption part of the left hand side of the equivalence in the second lemma, but I have the impression that this makes applications more annoying.</p>",
        "id": 419516794,
        "sender_full_name": "Christian Merten",
        "timestamp": 1706900516
    },
    {
        "content": "<p>(there is no <code>Transitive</code> typeclass)</p>",
        "id": 419517038,
        "sender_full_name": "Christian Merten",
        "timestamp": 1706900605
    },
    {
        "content": "<p>Oh nice! I didn't actually look at the code at all, I was just commenting on the text you wrote :-) Now I see that indeed there is a concept of pretransitive :-)</p>",
        "id": 419517117,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1706900633
    }
]