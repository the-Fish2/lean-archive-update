[
    {
        "content": "<p>Is there a theorem in Mathlib for this?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">Nat</span>\n<span class=\"kn\">open</span> <span class=\"n\">BigOperators</span>\n<span class=\"kn\">open</span> <span class=\"n\">Finset</span>\n\n<span class=\"kd\">example</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"n\">m</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hn</span> <span class=\"o\">:</span> <span class=\"mi\">1</span> <span class=\"bp\">&lt;</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hm</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">m</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"bp\">∑</span> <span class=\"n\">i</span> <span class=\"k\">in</span> <span class=\"n\">range</span> <span class=\"n\">m</span><span class=\"o\">,</span> <span class=\"n\">n</span> <span class=\"bp\">^</span> <span class=\"n\">i</span> <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"mi\">1</span> <span class=\"bp\">-</span> <span class=\"o\">((</span><span class=\"n\">n</span><span class=\"bp\">^</span><span class=\"n\">m</span><span class=\"o\">):</span><span class=\"n\">ℤ</span><span class=\"o\">))</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"mi\">1</span> <span class=\"bp\">-</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 421262142,
        "sender_full_name": "Colin Jones ⚛️",
        "timestamp": 1707836738
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=geom_sum_Ico#doc\">docs#geom_sum_Ico</a> and similar.</p>",
        "id": 421262842,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1707836910
    },
    {
        "content": "<p>I'm trying the theorem called <code>geom_sum_eq</code> but it keeps giving me an error about metavariables and DivisionRing</p>",
        "id": 421266510,
        "sender_full_name": "Colin Jones ⚛️",
        "timestamp": 1707837957
    },
    {
        "content": "<p>Okay, that's because you're using a lemma that works only when division is sensible. Look at the section below that in the docs for results about natural numbers:<br>\n<a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/GeomSum.html#Geometric-sum-with-%E2%84%95-division\">https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/GeomSum.html#Geometric-sum-with-%E2%84%95-division</a></p>",
        "id": 421266967,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1707838082
    },
    {
        "content": "<p>My code doesn't recognize that theorem for some reason.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Algebra.GeomSum</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">Nat</span>\n<span class=\"kn\">open</span> <span class=\"n\">BigOperators</span>\n<span class=\"kn\">open</span> <span class=\"n\">Finset</span>\n\n<span class=\"kd\">example</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"n\">m</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hn</span> <span class=\"o\">:</span> <span class=\"mi\">1</span> <span class=\"bp\">&lt;</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hm</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">m</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n  <span class=\"bp\">∑</span> <span class=\"n\">i</span> <span class=\"k\">in</span> <span class=\"n\">range</span> <span class=\"n\">m</span><span class=\"o\">,</span> <span class=\"n\">n</span> <span class=\"bp\">^</span> <span class=\"n\">i</span> <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">n</span><span class=\"bp\">^</span><span class=\"n\">m</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span><span class=\"o\">)</span>\n  <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">refine</span> <span class=\"n\">Nat.geomSum_eq</span>\n</code></pre></div>\n<p>It's the only theorem I've had this issue with. I've tried restartings VS code, updating the Mathlib dependency, rewriting the import. Could anyone help?</p>",
        "id": 421271881,
        "sender_full_name": "Colin Jones ⚛️",
        "timestamp": 1707839419
    },
    {
        "content": "<p>What's the error?</p>",
        "id": 421272352,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1707839526
    },
    {
        "content": "<p>This works in my browser:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Algebra.GeomSum</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">Nat</span>\n<span class=\"kn\">open</span> <span class=\"n\">BigOperators</span>\n<span class=\"kn\">open</span> <span class=\"n\">Finset</span>\n\n<span class=\"kd\">example</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"n\">m</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hn</span> <span class=\"o\">:</span> <span class=\"mi\">1</span> <span class=\"bp\">&lt;</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hm</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">m</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"bp\">∑</span> <span class=\"n\">i</span> <span class=\"k\">in</span> <span class=\"n\">range</span> <span class=\"n\">m</span><span class=\"o\">,</span> <span class=\"n\">n</span> <span class=\"bp\">^</span> <span class=\"n\">i</span> <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">n</span><span class=\"bp\">^</span><span class=\"n\">m</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">refine</span> <span class=\"n\">Nat.geomSum_eq</span> <span class=\"bp\">?</span><span class=\"n\">_</span> <span class=\"n\">_</span>\n  <span class=\"n\">omega</span>\n</code></pre></div>",
        "id": 421272523,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1707839567
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/wAtH_CGGUS8aRLxYW5lBJaFT/image.png\">image.png</a><br>\nMy machine doesn't recognize this theorem for some reason. I see it in the documentation. Other theorems on mathlib4/Mathlib/Algebra/GeomSum.lean work. It's only <code>Nat.geomSum_eq</code> and <code>Nat.geomSum_lt</code> that are unknown to my computer.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/wAtH_CGGUS8aRLxYW5lBJaFT/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/wAtH_CGGUS8aRLxYW5lBJaFT/image.png\"></a></div>",
        "id": 421274135,
        "sender_full_name": "Colin Jones ⚛️",
        "timestamp": 1707839952
    },
    {
        "content": "<p>Can confirm that it works in my browser too:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.Algebra.GeomSum</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">Nat</span>\n<span class=\"kn\">open</span> <span class=\"n\">BigOperators</span>\n<span class=\"kn\">open</span> <span class=\"n\">Finset</span>\n\n<span class=\"kd\">example</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"n\">m</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hn</span> <span class=\"o\">:</span> <span class=\"mi\">1</span> <span class=\"bp\">&lt;</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hm</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">m</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"bp\">∑</span> <span class=\"n\">i</span> <span class=\"k\">in</span> <span class=\"n\">range</span> <span class=\"n\">m</span><span class=\"o\">,</span> <span class=\"n\">n</span> <span class=\"bp\">^</span> <span class=\"n\">i</span> <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">n</span><span class=\"bp\">^</span><span class=\"n\">m</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">refine</span> <span class=\"n\">Nat.geomSum_eq</span> <span class=\"bp\">?</span><span class=\"n\">_</span> <span class=\"n\">_</span>\n  <span class=\"n\">linarith</span>\n</code></pre></div>\n<p>It's just my VS code that is glitchy though I don't know how to fix it.</p>",
        "id": 421277737,
        "sender_full_name": "Colin Jones ⚛️",
        "timestamp": 1707840843
    },
    {
        "content": "<p>Nevermind I got it to work. I started a new Lean project which seemed to fix the issue. The proof is the same. Thank you!</p>",
        "id": 421281781,
        "sender_full_name": "Colin Jones ⚛️",
        "timestamp": 1707842001
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"628490\">Colin Jones ⚛️</span> has marked this topic as resolved.</p>",
        "id": 421281798,
        "sender_full_name": "Notification Bot",
        "timestamp": 1707842008
    }
]