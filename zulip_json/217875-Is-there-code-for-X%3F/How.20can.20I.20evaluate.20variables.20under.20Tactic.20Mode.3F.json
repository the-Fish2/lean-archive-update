[
    {
        "content": "<p>Hi guys. I know evaluate variables is usually easy. But when I'm trying to evaluate the value in tactic mode. Lean complains unknown identifier. What should I do? Below is the code</p>\n<p>theorem Dummy : 1=1 := by<br>\n  let a := 1 + 1<br>\n  #eval a</p>",
        "id": 426195657,
        "sender_full_name": "yichi zhou",
        "timestamp": 1710270641
    },
    {
        "content": "<p>What do you mean by \"evaluate variables is normally easy\"? I'm pretty sure it's normally impossible!</p>",
        "id": 426208135,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1710275819
    },
    {
        "content": "<p>It's certainly easier if you're not in tactic mode!</p>",
        "id": 426223822,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1710282886
    },
    {
        "content": "<p>It seems like it should be possible to make an <code>#eval e</code> tactic that</p>\n<ol>\n<li>sees which fvars that <code>e</code> depends on</li>\n<li>throw an error if any of these fvars isn't a local <code>let</code> definition</li>\n<li>create <code>e'</code> from <code>e</code> using <code>mkLetFVars</code></li>\n<li>run the normal <code>#eval</code> algorithm on this <code>e'</code> and report the result</li>\n</ol>",
        "id": 426246334,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1710296266
    },
    {
        "content": "<p>Hi, Kyle. Thank you very much for your suggestion! I'm trying to follow your suggestion. But it turned out to be not easy for me, as I'm a new hand at lean and some APIs are not introduced in the book of meta programming. Could you please tell me how can I learn to use these APIs?</p>",
        "id": 426256977,
        "sender_full_name": "yichi zhou",
        "timestamp": 1710303424
    }
]