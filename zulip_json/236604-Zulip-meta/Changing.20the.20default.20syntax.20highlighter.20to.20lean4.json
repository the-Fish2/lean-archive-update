[
    {
        "content": "<p>Can an admin change the default syntax highlighter (at the bottom of <a href=\"#organization/organization-settings\">https://leanprover.zulipchat.com/#organization/organization-settings</a>) to <code>lean4</code>?</p>",
        "id": 440068935,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716376630
    },
    {
        "content": "<p>(and also the playground link at <a href=\"#organization/playground-settings\">https://leanprover.zulipchat.com/#organization/playground-settings</a>, leaving the lean3 editor on <code>lean3</code> but changing the lean4 one to <code>lean4</code>)</p>",
        "id": 440069101,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716376699
    },
    {
        "content": "<p>Test:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"c1\">-- lean3</span>\n<span class=\"kd\">abbreviation</span><span class=\"w\"> </span><span class=\"n\">is_lean3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"n\">abbrev</span><span class=\"w\"> </span><span class=\"n\">is_lean4</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- lean4</span>\n<span class=\"n\">abbreviation</span><span class=\"w\"> </span><span class=\"n\">is_lean3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">is_lean4</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"c1\">-- lean</span>\n<span class=\"kd\">abbreviation</span><span class=\"w\"> </span><span class=\"n\">is_lean3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"n\">abbrev</span><span class=\"w\"> </span><span class=\"n\">is_lean4</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- default</span>\n<span class=\"n\">abbreviation</span><span class=\"w\"> </span><span class=\"n\">is_lean3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">is_lean4</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>(this won't update when you change the settings, but you can quote it and the quoted version will)</p>",
        "id": 440069421,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716376842
    },
    {
        "content": "<p>It looks like the default language for code blocks is already set to <code>lean4</code>.</p>",
        "id": 440069557,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1716376918
    },
    {
        "content": "<p>done</p>\n<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/236604-Zulip-meta/topic/Changing.20the.20default.20syntax.20highlighter.20to.20lean4/near/440069421\">said</a>:</p>\n<blockquote>\n<p>Test:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"c1\">-- lean3</span>\n<span class=\"n\">abbeviation</span><span class=\"w\"> </span><span class=\"n\">is_lean3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"n\">abbrev</span><span class=\"w\"> </span><span class=\"n\">is_lean4</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- lean4</span>\n<span class=\"n\">abbeviation</span><span class=\"w\"> </span><span class=\"n\">is_lean3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">is_lean4</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"c1\">-- lean</span>\n<span class=\"n\">abbeviation</span><span class=\"w\"> </span><span class=\"n\">is_lean3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"n\">abbrev</span><span class=\"w\"> </span><span class=\"n\">is_lean4</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- default</span>\n<span class=\"n\">abbeviation</span><span class=\"w\"> </span><span class=\"n\">is_lean3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">is_lean4</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>(this won't update when you change the settings, but you can quote it and the quoted version will)</p>\n</blockquote>",
        "id": 440069608,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1716376926
    },
    {
        "content": "<p>...so why did the Lean 3 highlighting change :)</p>",
        "id": 440069676,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1716376957
    },
    {
        "content": "<p>And the Lean 3 playground didn't seem to trigger before or after? I guess it's not really important anymore</p>",
        "id": 440069826,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1716377026
    },
    {
        "content": "<p>It didn't, I made a typo and fixed it while you were quoting</p>",
        "id": 440069923,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716377049
    },
    {
        "content": "<p>What I don't get is why the lean3 playground links don't work</p>",
        "id": 440069924,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716377049
    },
    {
        "content": "<p>Maybe it needs \"lean\" instead of \"lean3\" as the language name</p>",
        "id": 440069925,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716377049
    },
    {
        "content": "<p>(our messages are crossing because I am on lousy internet)</p>",
        "id": 440070181,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716377144
    },
    {
        "content": "<p>Can we try changing this to \"lean\" and see if that makes the playground work? It's occasionally useful to compare to lean3 behavior, so if it's an easy fix I think we should make it work with Zulip.</p>\n<p><a href=\"/user_uploads/3121/IDZgw07yqHFKa5dAgZmLEWrO/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/IDZgw07yqHFKa5dAgZmLEWrO/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/IDZgw07yqHFKa5dAgZmLEWrO/image.png\"></a></div>",
        "id": 440070371,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716377216
    },
    {
        "content": "<p>Okay, done. I'll let you test. :-)</p>",
        "id": 440071037,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1716377496
    },
    {
        "content": "<p>Yep, it works!</p>",
        "id": 440071340,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716377629
    },
    {
        "content": "<p>(on the previous messages above)</p>",
        "id": 440071349,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716377635
    },
    {
        "content": "<p>I wonder what this does to old messages...</p>",
        "id": 440071379,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716377643
    },
    {
        "content": "<p>Answer: old messages now link to the lean3 playground, which isn't what we want. Maybe the answer here is to list both playgrounds for <code>Lean</code>, and list only the lean4 playground for lean4. Old messages will present the user with a choice, but I think that's fine - especially as many really old messages really are lean3!</p>",
        "id": 440071539,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716377708
    },
    {
        "content": "<p>If you edit the old message, it will of course switch to the new highlighting and new playground link</p>",
        "id": 440071605,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716377742
    },
    {
        "content": "<p>Like so?</p>",
        "id": 440072875,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1716378214
    },
    {
        "content": "<p>Yep, looks good: thanks!</p>",
        "id": 440073039,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1716378263
    }
]