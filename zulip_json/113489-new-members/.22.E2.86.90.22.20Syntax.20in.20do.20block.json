[
    {
        "content": "<p>I occasionally see this syntax with <code>←</code> in do notation:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">def</span> <span class=\"n\">foo</span> <span class=\"o\">[</span><span class=\"n\">Monad</span> <span class=\"n\">M</span><span class=\"o\">]</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">A</span> <span class=\"bp\">→</span> <span class=\"n\">M</span> <span class=\"n\">B</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">A</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">M</span> <span class=\"n\">B</span> <span class=\"o\">:=</span> <span class=\"k\">do</span>\n    <span class=\"n\">return</span> <span class=\"o\">(</span><span class=\"bp\">←</span> <span class=\"n\">f</span> <span class=\"n\">x</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>I think I know roughly what it does, but I've never seen it anywhere else (e.g. Haskell). Can someone explain exactly how this is desugared, or point me to its documentation?</p>",
        "id": 425754555,
        "sender_full_name": "Timothy Mou",
        "timestamp": 1710058246
    },
    {
        "content": "<p>I think this is inspired by Idris’ “bang notation”: <a href=\"https://idris2.readthedocs.io/en/latest/tutorial/interfaces.html#notation\">https://idris2.readthedocs.io/en/latest/tutorial/interfaces.html#notation</a></p>",
        "id": 425755768,
        "sender_full_name": "Chris Wong",
        "timestamp": 1710059511
    },
    {
        "content": "<p>There is a section in the manual here. I’m not sure if there is a formal spec.<br>\n<a href=\"https://lean-lang.org/lean4/doc/do.html#nested-actions\">https://lean-lang.org/lean4/doc/do.html#nested-actions</a></p>",
        "id": 425755825,
        "sender_full_name": "Chris Wong",
        "timestamp": 1710059547
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"463489\">@Timothy Mou</span> if you are interested about how Lean’s do notation is more powerful than the one in Haskell for instance then <a href=\"https://lean-lang.org/papers/do.pdf\">this paper</a> is a fantastic read.</p>",
        "id": 425937292,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1710171542
    }
]