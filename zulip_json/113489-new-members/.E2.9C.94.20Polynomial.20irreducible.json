[
    {
        "content": "<p>I want to show that a polynomial is irreducible, I thought of using the rational roots theorem or the fact that <span class=\"tex-error\">$$ X^3-2 = (X - \\sqrt {3})(X - \\ceta_3\\sqrt {3})(X - \\ceta_3^2\\sqrt {3}) $$</span> and <span class=\"tex-error\">$$\\{ \\sqrt {3}\\} \\nin \\mathbb{Q}$$</span>. What would be a good way to start?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">FiniteDimensional</span> <span class=\"n\">Polynomial</span>\n<span class=\"kn\">open</span> <span class=\"n\">scoped</span> <span class=\"n\">Classical</span> <span class=\"n\">Polynomial</span>\n\n<span class=\"kd\">noncomputable</span> <span class=\"kd\">def</span> <span class=\"n\">P</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">Polynomial</span> <span class=\"n\">ℚ</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">monomial</span> <span class=\"mi\">3</span> <span class=\"mi\">1</span> <span class=\"bp\">-</span> <span class=\"mi\">2</span> <span class=\"c1\">-- x^3 - 2</span>\n<span class=\"kd\">noncomputable</span> <span class=\"kd\">def</span> <span class=\"n\">P'</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">Polynomial</span> <span class=\"n\">ℚ</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">X</span> <span class=\"bp\">^</span> <span class=\"mi\">3</span> <span class=\"bp\">-</span> <span class=\"mi\">2</span> <span class=\"c1\">-- x^3 - 2</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">P_eqq</span> <span class=\"o\">:</span> <span class=\"n\">P</span> <span class=\"bp\">=</span> <span class=\"n\">P'</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">simp</span><span class=\"o\">[</span><span class=\"n\">P</span><span class=\"o\">,</span> <span class=\"n\">P'</span><span class=\"o\">]</span><span class=\"bp\">;</span> <span class=\"n\">symm</span><span class=\"bp\">;</span> <span class=\"n\">apply</span> <span class=\"n\">Polynomial.X_pow_eq_monomial</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">P_irreducible</span> <span class=\"o\">:</span> <span class=\"n\">Irreducible</span> <span class=\"n\">P</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"c1\">--! Use den_dvd_of_is_root as Rational root theorem</span>\n  <span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 412394714,
        "sender_full_name": "Ludwig Monnerjahn",
        "timestamp": 1704995945
    },
    {
        "content": "<p>We had some potentially useful results in <a href=\"https://github.com/lean-forward/class-group-and-mordell-equation/blob/main/src/number_theory/assorted_lemmas.lean#L254\">https://github.com/lean-forward/class-group-and-mordell-equation/blob/main/src/number_theory/assorted_lemmas.lean#L254</a> unfortunately its lean 3 but may well be automatically portable (which we should do sometime anyway, unless you already tried <span class=\"user-mention\" data-user-id=\"238446\">@Anne Baanen</span>)</p>",
        "id": 412397226,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1704997012
    },
    {
        "content": "<p>Do we know that a degree 3 polynomial is irreducible if and only if it has no roots?</p>",
        "id": 412399004,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1704997824
    },
    {
        "content": "<p>Thanks for the link, it would probably do the trick, but I could find out how to port the fill. Can anyone tell me how to port the thorem or port it for me?</p>",
        "id": 412404986,
        "sender_full_name": "Ludwig Monnerjahn",
        "timestamp": 1705000388
    },
    {
        "content": "<blockquote>\n<p>Do we know that a degree 3 polynomial is irreducible if and only if it has no roots?</p>\n</blockquote>\n<p>Not quite, but <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Polynomial.Monic.irreducible_iff_natDegree%27#doc\">docs#Polynomial.Monic.irreducible_iff_natDegree'</a> says you only need to look at factors of degree &lt;=1.<br>\nYou can also do it in Z[X] using <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Polynomial.Monic.irreducible_iff_irreducible_map_fraction_map#doc\">docs#Polynomial.Monic.irreducible_iff_irreducible_map_fraction_map</a>.</p>",
        "id": 412406506,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1705000968
    },
    {
        "content": "<p>Thanks how would I use  <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Polynomial.Monic.irreducible_iff_natDegree%27#doc\">docs#Polynomial.Monic.irreducible_iff_natDegree'</a>?</p>",
        "id": 412438600,
        "sender_full_name": "Ludwig Monnerjahn",
        "timestamp": 1705015411
    },
    {
        "content": "<p><code>rw</code>?</p>",
        "id": 412438857,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1705015558
    },
    {
        "content": "<p>I used <code>rw</code>, but I have no Idee hove to prove</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"n\">g</span> <span class=\"o\">:</span> <span class=\"n\">ℚ</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">]),</span> <span class=\"n\">Monic</span> <span class=\"n\">f</span> <span class=\"bp\">→</span> <span class=\"n\">Monic</span> <span class=\"n\">g</span> <span class=\"bp\">→</span> <span class=\"n\">f</span> <span class=\"bp\">*</span> <span class=\"n\">g</span> <span class=\"bp\">=</span> <span class=\"n\">P</span> <span class=\"bp\">→</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">natDegree</span> <span class=\"n\">g</span> <span class=\"bp\">→</span> <span class=\"n\">natDegree</span> <span class=\"n\">P</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">&lt;</span> <span class=\"n\">natDegree</span> <span class=\"n\">g</span>\n</code></pre></div>",
        "id": 412439533,
        "sender_full_name": "Ludwig Monnerjahn",
        "timestamp": 1705015933
    },
    {
        "content": "<p>The <code>case mpr</code></p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">FiniteDimensional</span> <span class=\"n\">Polynomial</span>\n<span class=\"kn\">open</span> <span class=\"n\">scoped</span> <span class=\"n\">Classical</span> <span class=\"n\">Polynomial</span>\n\n<span class=\"kd\">noncomputable</span> <span class=\"kd\">def</span> <span class=\"n\">P</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">Polynomial</span> <span class=\"n\">ℚ</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">monomial</span> <span class=\"mi\">3</span> <span class=\"mi\">1</span> <span class=\"bp\">-</span> <span class=\"mi\">2</span> <span class=\"c1\">-- x^3 - 2</span>\n<span class=\"kd\">noncomputable</span> <span class=\"kd\">def</span> <span class=\"n\">P'</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">Polynomial</span> <span class=\"n\">ℚ</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">X</span> <span class=\"bp\">^</span> <span class=\"mi\">3</span> <span class=\"bp\">-</span> <span class=\"mi\">2</span> <span class=\"c1\">-- x^3 - 2</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">P_eqq</span> <span class=\"o\">:</span> <span class=\"n\">P</span> <span class=\"bp\">=</span> <span class=\"n\">P'</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">simp</span><span class=\"o\">[</span><span class=\"n\">P</span><span class=\"o\">,</span> <span class=\"n\">P'</span><span class=\"o\">]</span><span class=\"bp\">;</span> <span class=\"n\">symm</span><span class=\"bp\">;</span> <span class=\"n\">apply</span> <span class=\"n\">Polynomial.X_pow_eq_monomial</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">P_irreducible</span> <span class=\"o\">:</span> <span class=\"n\">Irreducible</span> <span class=\"n\">P</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">Polynomial.Monic.irreducible_iff_natDegree'</span><span class=\"o\">]</span>\n  <span class=\"bp\">.</span> <span class=\"n\">simp</span>\n    <span class=\"n\">constructor</span>\n    <span class=\"n\">case</span> <span class=\"n\">left</span> <span class=\"bp\">=&gt;</span> <span class=\"gr\">sorry</span>\n    <span class=\"n\">case</span> <span class=\"n\">right</span> <span class=\"bp\">=&gt;</span> <span class=\"c1\">--This case</span>\n      <span class=\"gr\">sorry</span>\n  <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">P_eqq</span><span class=\"o\">]</span><span class=\"bp\">;</span> <span class=\"n\">rw</span><span class=\"o\">[</span><span class=\"n\">Polynomial.Monic.def</span><span class=\"o\">]</span><span class=\"bp\">;</span> <span class=\"n\">apply</span> <span class=\"n\">monic_X_pow_sub_C</span><span class=\"bp\">;</span> <span class=\"n\">simp</span>\n</code></pre></div>",
        "id": 412439872,
        "sender_full_name": "Ludwig Monnerjahn",
        "timestamp": 1705016177
    },
    {
        "content": "<p>Are you saying you don't know the maths proof, or you don't know how to translate the maths proof into lean?</p>",
        "id": 412441005,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1705016829
    },
    {
        "content": "<p>I don't know how to translate it into Lean</p>",
        "id": 412441450,
        "sender_full_name": "Ludwig Monnerjahn",
        "timestamp": 1705017100
    },
    {
        "content": "<p>So what's the maths proof of the goal you posted?</p>",
        "id": 412441552,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1705017141
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"130384\">Riccardo Brasca</span> <a href=\"#narrow/stream/113489-new-members/topic/Polynomial.20irreducible/near/412399004\">said</a>:</p>\n<blockquote>\n<p>Do we know that a degree 3 polynomial is irreducible if and only if it has no roots?</p>\n</blockquote>\n<p>thats exactly the link I posted (in lean 3) I don't know if its in any ported project, at least loogle for <code>Irreducible, \"three\"</code> gives no results</p>",
        "id": 412441769,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1705017283
    },
    {
        "content": "<p>For <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo separator=\"true\">,</mo><mi>g</mi></mrow><annotation encoding=\"application/x-tex\"> f, g </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span> with <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo>⋅</mo><mi>g</mi><mo>=</mo><mi>P</mi></mrow><annotation encoding=\"application/x-tex\"> f \\cdot g  = P </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">P</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi><mi>e</mi><mi>g</mi><mi>r</mi><mi>e</mi><mi>e</mi><mo stretchy=\"false\">(</mo><mi>g</mi><mo stretchy=\"false\">)</mo><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\"> degree(g)&gt; 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">ree</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>, holds <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo>&gt;</mo><mn>3</mn><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow><annotation encoding=\"application/x-tex\"> g &gt; 3/2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">3/2</span></span></span></span>, because there is no <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>α</mi><mo>∈</mo><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\"> \\alpha \\in \\mathbb{Q} </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5782em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span> so that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>α</mi><mn>3</mn></msup><mo>−</mo><mn>2</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\alpha^ 3 - 2 = 0 </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8974em;vertical-align:-0.0833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> (look at the root of unity, and third root of 2), therefore <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">g</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.625em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span></span></span></span> can't be of the the form <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi><mo>−</mo><mi>α</mi></mrow><annotation encoding=\"application/x-tex\"> X - \\alpha </annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.0037em;\">α</span></span></span></span>.</p>",
        "id": 412443885,
        "sender_full_name": "Ludwig Monnerjahn",
        "timestamp": 1705018346
    },
    {
        "content": "<p>Right! So <code>intro</code> everything, then <code>by_contra</code> to get the hypothesis that degree of g &lt;= 1, prove the degree is 1 using perhaps <code>limarith</code> with maybe some <code>norm_num</code>, deduce there's a root using some lemma which you can find with <code>exact?</code>, and then in perhaps another lemma prove there's no root perhaps by clearing denominators and there's your contradiction.</p>",
        "id": 412452063,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1705020964
    },
    {
        "content": "<p>There's also <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=X_pow_sub_C_irreducible_of_prime#doc\">docs#X_pow_sub_C_irreducible_of_prime</a> that recently entered mathlib :)</p>",
        "id": 412454671,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1705022174
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"127136\">Alex J. Best</span> <a href=\"#narrow/stream/113489-new-members/topic/Polynomial.20irreducible/near/412397226\">said</a>:</p>\n<blockquote>\n<p>We had some potentially useful results in <a href=\"https://github.com/lean-forward/class-group-and-mordell-equation/blob/main/src/number_theory/assorted_lemmas.lean#L254\">https://github.com/lean-forward/class-group-and-mordell-equation/blob/main/src/number_theory/assorted_lemmas.lean#L254</a> unfortunately its lean 3 but may well be automatically portable (which we should do sometime anyway, unless you already tried <span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span>)</p>\n</blockquote>\n<p>This is not among the lemmas I have ported but I'll do so right now.</p>",
        "id": 412554346,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1705069569
    },
    {
        "content": "<p>Refactoring to make use of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Polynomial.Monic.irreducible_iff_natDegree%27#doc\">docs#Polynomial.Monic.irreducible_iff_natDegree'</a> got kind of out of hand, but here it is: <a href=\"https://github.com/leanprover-community/mathlib4/pull/9697\">#9697</a></p>",
        "id": 412588893,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1705080346
    },
    {
        "content": "<p>Thank you, it is really great how helpful you all are. It makes learning Lean great.</p>",
        "id": 412606546,
        "sender_full_name": "Ludwig Monnerjahn",
        "timestamp": 1705087413
    },
    {
        "content": "<p>Here is a more directly way to get some more general versions of the major results in <a href=\"https://github.com/leanprover-community/mathlib4/pull/9697\">#9697</a>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.Data.Polynomial.RingDivision</span>\n<span class=\"kn\">open</span> <span class=\"n\">Polynomial</span>\n\n<span class=\"c1\">-- suggested name: Polynomial.irreducible_iff_no_monic_natDegree_mem_Ioc_half_dvd</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">irreducible_iff_lt_natDegree_lt</span> <span class=\"o\">{</span><span class=\"n\">R</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">CommSemiring</span> <span class=\"n\">R</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">NoZeroDivisors</span> <span class=\"n\">R</span><span class=\"o\">]</span>\n    <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"o\">:</span> <span class=\"n\">R</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">]}</span> <span class=\"o\">(</span><span class=\"n\">hp</span> <span class=\"o\">:</span> <span class=\"n\">p.Monic</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hp1</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">≠</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"n\">Irreducible</span> <span class=\"n\">p</span> <span class=\"bp\">↔</span> <span class=\"bp\">∀</span> <span class=\"n\">q</span><span class=\"o\">,</span> <span class=\"n\">Monic</span> <span class=\"n\">q</span> <span class=\"bp\">→</span> <span class=\"n\">natDegree</span> <span class=\"n\">q</span> <span class=\"bp\">∈</span> <span class=\"n\">Finset.Ioc</span> <span class=\"mi\">0</span> <span class=\"o\">(</span><span class=\"n\">natDegree</span> <span class=\"n\">p</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"bp\">¬</span> <span class=\"n\">q</span> <span class=\"bp\">∣</span> <span class=\"n\">p</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">hp.irreducible_iff_natDegree'</span><span class=\"o\">,</span> <span class=\"n\">and_iff_right</span> <span class=\"n\">hp1</span><span class=\"o\">]</span>\n  <span class=\"n\">constructor</span>\n  <span class=\"bp\">·</span> <span class=\"n\">rintro</span> <span class=\"n\">h</span> <span class=\"n\">g</span> <span class=\"n\">hg</span> <span class=\"n\">hdg</span> <span class=\"o\">⟨</span><span class=\"n\">f</span><span class=\"o\">,</span> <span class=\"n\">rfl</span><span class=\"o\">⟩</span>\n    <span class=\"n\">exact</span> <span class=\"n\">h</span> <span class=\"n\">f</span> <span class=\"n\">g</span> <span class=\"o\">(</span><span class=\"n\">hg.of_mul_monic_left</span> <span class=\"n\">hp</span><span class=\"o\">)</span> <span class=\"n\">hg</span> <span class=\"o\">(</span><span class=\"n\">mul_comm</span> <span class=\"n\">f</span> <span class=\"n\">g</span><span class=\"o\">)</span> <span class=\"n\">hdg</span>\n  <span class=\"bp\">·</span> <span class=\"n\">rintro</span> <span class=\"n\">h</span> <span class=\"n\">f</span> <span class=\"n\">g</span> <span class=\"bp\">-</span> <span class=\"n\">hg</span> <span class=\"n\">rfl</span> <span class=\"n\">hdg</span>\n    <span class=\"n\">exact</span> <span class=\"n\">h</span> <span class=\"n\">g</span> <span class=\"n\">hg</span> <span class=\"n\">hdg</span> <span class=\"o\">(</span><span class=\"n\">dvd_mul_left</span> <span class=\"n\">g</span> <span class=\"n\">f</span><span class=\"o\">)</span>\n\n<span class=\"kd\">theorem</span> <span class=\"n\">irreducible_iff_roots_eq_zero_of_degree_le_three</span> <span class=\"o\">{</span><span class=\"n\">R</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">CommRing</span> <span class=\"n\">R</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">IsDomain</span> <span class=\"n\">R</span><span class=\"o\">]</span>\n    <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"o\">:</span> <span class=\"n\">R</span><span class=\"o\">[</span><span class=\"n\">X</span><span class=\"o\">]}</span> <span class=\"o\">(</span><span class=\"n\">hp</span> <span class=\"o\">:</span> <span class=\"n\">p.Monic</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">hp2</span> <span class=\"o\">:</span> <span class=\"mi\">2</span> <span class=\"bp\">≤</span> <span class=\"n\">p.natDegree</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hp3</span> <span class=\"o\">:</span> <span class=\"n\">p.natDegree</span> <span class=\"bp\">≤</span> <span class=\"mi\">3</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">Irreducible</span> <span class=\"n\">p</span> <span class=\"bp\">↔</span> <span class=\"n\">p.roots</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">irreducible_iff_lt_natDegree_lt</span> <span class=\"n\">hp</span><span class=\"o\">]</span><span class=\"bp\">;</span> <span class=\"n\">swap</span>\n  <span class=\"bp\">·</span> <span class=\"n\">rintro</span> <span class=\"n\">rfl</span><span class=\"bp\">;</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">natDegree_one</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">hp2</span><span class=\"bp\">;</span> <span class=\"n\">cases</span> <span class=\"n\">hp2</span>\n  <span class=\"k\">have</span> <span class=\"n\">hp0</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">≠</span> <span class=\"mi\">0</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">rintro</span> <span class=\"n\">rfl</span><span class=\"bp\">;</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">natDegree_zero</span><span class=\"o\">]</span> <span class=\"n\">at</span> <span class=\"n\">hp2</span><span class=\"bp\">;</span> <span class=\"n\">cases</span> <span class=\"n\">hp2</span>\n  <span class=\"n\">simp_rw</span> <span class=\"o\">[</span><span class=\"k\">show</span> <span class=\"n\">p.natDegree</span> <span class=\"bp\">/</span> <span class=\"mi\">2</span> <span class=\"bp\">=</span> <span class=\"mi\">1</span> <span class=\"k\">from</span> <span class=\"o\">(</span><span class=\"n\">Nat.div_le_div_right</span> <span class=\"n\">hp3</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">antisymm</span>\n    <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">apply</span> <span class=\"n\">Nat.div_le_div_right</span> <span class=\"o\">(</span><span class=\"n\">c</span> <span class=\"o\">:=</span> <span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"n\">hp2</span><span class=\"o\">),</span> <span class=\"k\">show</span> <span class=\"n\">Finset.Ioc</span> <span class=\"mi\">0</span> <span class=\"mi\">1</span> <span class=\"bp\">=</span> <span class=\"o\">{</span><span class=\"mi\">1</span><span class=\"o\">}</span> <span class=\"k\">from</span> <span class=\"n\">rfl</span><span class=\"o\">,</span>\n    <span class=\"n\">Finset.mem_singleton</span><span class=\"o\">,</span> <span class=\"n\">Multiset.eq_zero_iff_forall_not_mem</span><span class=\"o\">,</span> <span class=\"n\">mem_roots</span> <span class=\"n\">hp0</span><span class=\"o\">,</span> <span class=\"bp\">←</span> <span class=\"n\">dvd_iff_isRoot</span><span class=\"o\">]</span>\n  <span class=\"n\">refine</span> <span class=\"o\">⟨</span><span class=\"k\">fun</span> <span class=\"n\">h</span> <span class=\"n\">r</span> <span class=\"bp\">↦</span> <span class=\"n\">h</span> <span class=\"n\">_</span> <span class=\"o\">(</span><span class=\"n\">monic_X_sub_C</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">natDegree_X_sub_C</span> <span class=\"n\">r</span><span class=\"o\">),</span> <span class=\"k\">fun</span> <span class=\"n\">h</span> <span class=\"n\">q</span> <span class=\"n\">hq</span> <span class=\"n\">hq1</span> <span class=\"bp\">↦</span> <span class=\"bp\">?</span><span class=\"n\">_</span><span class=\"o\">⟩</span>\n  <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"n\">hq.eq_X_add_C</span> <span class=\"n\">hq1</span><span class=\"o\">,</span> <span class=\"bp\">←</span> <span class=\"n\">sub_neg_eq_add</span><span class=\"o\">,</span> <span class=\"bp\">←</span> <span class=\"n\">C_neg</span><span class=\"o\">]</span><span class=\"bp\">;</span> <span class=\"n\">apply</span> <span class=\"n\">h</span>\n</code></pre></div>",
        "id": 412616130,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1705091601
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"671805\">Ludwig Monnerjahn</span> has marked this topic as resolved.</p>",
        "id": 412861580,
        "sender_full_name": "Notification Bot",
        "timestamp": 1705278780
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"224323\">@Junyan Xu</span> can you comment the PR? Your result is more general, so we surely want this version (but the PR still contains useful results).</p>",
        "id": 420638571,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1707480114
    },
    {
        "content": "<p>My impression is that you should be able to prove all results over an arbitrary commutative <del>ring</del> domain assuming the polynomial you start with is monic following what I did above, and then for fields you can extract the leading coefficient and allow an arbitrary polynomial.</p>",
        "id": 420687233,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1707496022
    }
]