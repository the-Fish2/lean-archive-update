[
    {
        "content": "<p>im Trying to implement a Freer Monad that describes a Sequence of Effects. <br>\nOne Effect E however should be allowed to contain such a Effect sequence itself (e.g. to branch between two continuations)</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">inductive</span> <span class=\"n\">Freer</span> <span class=\"o\">(</span><span class=\"n\">Eff</span><span class=\"o\">:</span><span class=\"kt\">Type</span> <span class=\"n\">u</span> <span class=\"bp\">→</span> <span class=\"kt\">Type</span> <span class=\"n\">v</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">α</span><span class=\"o\">:</span><span class=\"kt\">Type</span> <span class=\"n\">w</span><span class=\"o\">)</span> <span class=\"n\">where</span>\n<span class=\"bp\">|</span> <span class=\"n\">Do</span><span class=\"o\">:</span> <span class=\"n\">Eff</span> <span class=\"n\">β</span> <span class=\"bp\">→</span> <span class=\"o\">(</span><span class=\"n\">β</span> <span class=\"bp\">→</span> <span class=\"n\">Freer</span> <span class=\"n\">Eff</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">Freer</span> <span class=\"n\">Eff</span> <span class=\"n\">α</span>\n<span class=\"bp\">|</span> <span class=\"n\">Return</span><span class=\"o\">:</span> <span class=\"n\">α</span> <span class=\"bp\">→</span> <span class=\"n\">Freer</span> <span class=\"n\">Eff</span> <span class=\"n\">α</span>\n\n<span class=\"kd\">inductive</span> <span class=\"n\">E</span> <span class=\"o\">(</span><span class=\"n\">α</span><span class=\"o\">:</span><span class=\"kt\">Type</span><span class=\"o\">)</span> <span class=\"n\">where</span>\n<span class=\"bp\">|</span> <span class=\"n\">e</span><span class=\"o\">:</span>  <span class=\"o\">(</span><span class=\"n\">Bool</span> <span class=\"bp\">-&gt;</span> <span class=\"n\">Freer</span> <span class=\"n\">E</span> <span class=\"n\">α</span><span class=\"o\">)</span>  <span class=\"bp\">-&gt;</span> <span class=\"n\">E</span> <span class=\"n\">α</span> <span class=\"c1\">-- branches the Effect Sequence</span>\n</code></pre></div>\n<p>ive seen this in a Haskell code example and wondered if this works in Lean aswell</p>",
        "id": 426112430,
        "sender_full_name": "Simon Daniel",
        "timestamp": 1710245985
    },
    {
        "content": "<p><a href=\"#narrow/stream/113489-new-members/topic/Freer.20Monad.20in.20Lean/near/426112430\">A message</a> was moved here from <a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/stream/113489-new-members/topic/universe.20levels\">#new members &gt; universe levels</a> by <span class=\"user-mention silent\" data-user-id=\"684702\">Simon Daniel</span>.</p>",
        "id": 426122019,
        "sender_full_name": "Notification Bot",
        "timestamp": 1710249205
    }
]