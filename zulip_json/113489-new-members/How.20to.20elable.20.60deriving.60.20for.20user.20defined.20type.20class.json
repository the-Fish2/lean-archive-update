[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"sd\">/-- user defined type class -/</span>\n<span class=\"kd\">class</span> <span class=\"n\">Callable</span> <span class=\"o\">(</span><span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">)</span> <span class=\"n\">where</span>\n  <span class=\"n\">call</span> <span class=\"o\">:</span> <span class=\"n\">α</span> <span class=\"bp\">→</span> <span class=\"n\">String</span>\n\n<span class=\"sd\">/--</span>\n<span class=\"sd\">error: default handlers have not been implemented yet, class: 'Deriving.Callable' types: [Deriving.People]</span>\n<span class=\"sd\">-/</span>\n<span class=\"bp\">#</span><span class=\"n\">guard_msgs</span> <span class=\"k\">in</span>\n<span class=\"n\">deriving</span> <span class=\"kd\">instance</span> <span class=\"n\">Callable</span> <span class=\"n\">for</span> <span class=\"n\">People</span>\n</code></pre></div>",
        "id": 436593013,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1714608265
    },
    {
        "content": "<p>Can I define my own <code>deriving</code> procedure for an arbitrary typeclass?</p>",
        "id": 436593104,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1714608334
    },
    {
        "content": "<p>I think the only reference for that is to look at pre-existing derive handlers. You can search for <code>registerDerivingHandler</code> in Lean and mathlib.</p>",
        "id": 436593200,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1714608383
    },
    {
        "content": "<p>Here's the source for the handler for <code>Nonempty</code>, for example: <a href=\"https://github.com/leanprover/lean4/blob/master/src/Lean/Elab/Deriving/Nonempty.lean\">https://github.com/leanprover/lean4/blob/master/src/Lean/Elab/Deriving/Nonempty.lean</a></p>",
        "id": 436593272,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1714608426
    },
    {
        "content": "<p>That folder has a few other examples.</p>",
        "id": 436593315,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1714608458
    }
]