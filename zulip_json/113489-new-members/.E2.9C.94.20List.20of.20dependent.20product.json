[
    {
        "content": "<p>i have this List of dependent (on String) Products</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">class</span> <span class=\"n\">C</span> <span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">:</span> <span class=\"n\">String</span><span class=\"o\">)</span>\n<span class=\"kd\">def</span> <span class=\"n\">instance_list</span><span class=\"o\">:</span> <span class=\"n\">List</span> <span class=\"o\">(</span><span class=\"bp\">Σ</span> <span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">:</span><span class=\"n\">String</span><span class=\"o\">),</span> <span class=\"n\">C</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"o\">[⟨</span> <span class=\"s2\">\"hello\"</span><span class=\"o\">,</span> <span class=\"o\">⟨⟩</span> <span class=\"o\">⟩</span> <span class=\"o\">]</span>\n<span class=\"k\">#eval</span> <span class=\"o\">(</span><span class=\"n\">instance_list.lookup</span> <span class=\"s2\">\"hello\"</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">get</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">decide</span><span class=\"o\">)</span>  <span class=\"c1\">-- i try retrieve the C \"hello\" instance from the list</span>\n</code></pre></div>\n<p>i guess lookup does not work because the String is bound to the Instance. but how can i access a class instance from a collection?</p>",
        "id": 424050679,
        "sender_full_name": "Simon Daniel",
        "timestamp": 1709222094
    },
    {
        "content": "<p>If you import <code>Mathlib.Data.List.Sigma</code> you get <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/List/Sigma.html#List.dlookup\"><code>dlookup</code></a>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.Data.List.Sigma</span>\n\n<span class=\"kd\">class</span> <span class=\"n\">C</span> <span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">:</span> <span class=\"n\">String</span><span class=\"o\">)</span>\n<span class=\"n\">deriving</span> <span class=\"n\">Repr</span>\n<span class=\"kd\">def</span> <span class=\"n\">instance_list</span><span class=\"o\">:</span> <span class=\"n\">List</span> <span class=\"o\">(</span><span class=\"bp\">Σ</span> <span class=\"o\">(</span><span class=\"n\">s</span><span class=\"o\">:</span><span class=\"n\">String</span><span class=\"o\">),</span> <span class=\"n\">C</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"o\">[⟨</span> <span class=\"s2\">\"hello\"</span><span class=\"o\">,</span> <span class=\"o\">⟨⟩</span> <span class=\"o\">⟩</span> <span class=\"o\">]</span>\n<span class=\"k\">#eval</span> <span class=\"o\">(</span><span class=\"n\">instance_list.dlookup</span> <span class=\"s2\">\"hello\"</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">get</span> <span class=\"o\">(</span><span class=\"kd\">by</span> <span class=\"n\">decide</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 424115937,
        "sender_full_name": "Sabrina Jewson",
        "timestamp": 1709243851
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684702\">Simon Daniel</span> has marked this topic as resolved.</p>",
        "id": 424117105,
        "sender_full_name": "Notification Bot",
        "timestamp": 1709244305
    }
]