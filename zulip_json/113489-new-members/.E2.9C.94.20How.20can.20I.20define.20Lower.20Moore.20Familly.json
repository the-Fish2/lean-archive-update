[
    {
        "content": "<p>I am trying to define and proof question 2 from this exam (<a href=\"https://www-apr.lip6.fr/~mine/enseignement/mpri/attic/2014-2015/partiel.pdf\">https://www-apr.lip6.fr/~mine/enseignement/mpri/attic/2014-2015/partiel.pdf</a>) using order from mathlib. The definition of lower Moore family is:</p>\n<blockquote>\n<p>Let (X, v, t, u, ⊥, &gt;) be a complete lattice.. We say that the subset M ⊆ X is a lower Moore family if and only if ∀x ∈ X : { y ∈ M | x v y } is not empty and has a least element in M.</p>\n</blockquote>\n<p>Here is mine definition for the problem:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">variable</span> <span class=\"o\">{</span><span class=\"n\">U</span><span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n<span class=\"kd\">variable</span> <span class=\"o\">[</span><span class=\"n\">Preorder</span> <span class=\"n\">U</span><span class=\"o\">]</span>\n<span class=\"kd\">variable</span> <span class=\"o\">{</span><span class=\"n\">X</span><span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">U</span><span class=\"o\">}</span>\n<span class=\"kd\">variable</span> <span class=\"o\">{</span><span class=\"n\">L</span><span class=\"o\">:</span> <span class=\"n\">CompleteLattice</span> <span class=\"n\">X</span><span class=\"o\">}</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">LowerMooreFam</span> <span class=\"o\">(</span><span class=\"n\">M</span><span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">U</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h</span><span class=\"o\">:</span> <span class=\"n\">M</span> <span class=\"bp\">⊆</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span> <span class=\"o\">:=</span>\n  <span class=\"bp\">∀</span> <span class=\"o\">{</span><span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">},</span> <span class=\"k\">let</span> <span class=\"n\">setY</span> <span class=\"o\">:=</span> <span class=\"o\">{</span><span class=\"n\">y</span> <span class=\"bp\">|</span> <span class=\"n\">y</span> <span class=\"bp\">∈</span> <span class=\"n\">M</span> <span class=\"bp\">∧</span> <span class=\"n\">x</span> <span class=\"bp\">≤</span> <span class=\"n\">y</span><span class=\"o\">}</span>\n  <span class=\"n\">setY</span> <span class=\"bp\">≠</span> <span class=\"bp\">∅</span> <span class=\"bp\">∧</span> <span class=\"bp\">∃</span><span class=\"n\">a</span> <span class=\"bp\">∈</span> <span class=\"n\">M</span><span class=\"o\">,</span> <span class=\"n\">IsMin</span> <span class=\"n\">a</span> <span class=\"bp\">∧</span> <span class=\"n\">a</span> <span class=\"bp\">∈</span> <span class=\"n\">setY</span>\n</code></pre></div>\n<p>Is the definition correct? And is there a way to simplify it?</p>",
        "id": 412819003,
        "sender_full_name": "kishou yusa",
        "timestamp": 1705242388
    },
    {
        "content": "<p>No, it is incorrect because <code>IsMin a</code> does not say what you think it does (see <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsMin#doc\">docs#IsMin</a>)</p>",
        "id": 412819431,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1705242794
    },
    {
        "content": "<p>I think the X in the statement corresponds to what you call U in lean</p>",
        "id": 412819448,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1705242816
    },
    {
        "content": "<p>I would do</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">variable</span> <span class=\"o\">{</span><span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">Preorder</span> <span class=\"n\">α</span><span class=\"o\">]</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">IsLowerMooreFamily</span> <span class=\"o\">(</span><span class=\"n\">s</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">α</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"kt\">Prop</span> <span class=\"o\">:=</span> <span class=\"bp\">∀</span> <span class=\"n\">x</span><span class=\"o\">,</span> <span class=\"bp\">∃</span> <span class=\"n\">y</span> <span class=\"bp\">∈</span> <span class=\"n\">s</span><span class=\"o\">,</span> <span class=\"n\">IsLeast</span> <span class=\"o\">{</span><span class=\"n\">y</span> <span class=\"bp\">∈</span> <span class=\"n\">s</span> <span class=\"bp\">|</span> <span class=\"n\">x</span> <span class=\"bp\">≤</span> <span class=\"n\">y</span><span class=\"o\">}</span> <span class=\"n\">y</span>\n</code></pre></div>",
        "id": 412819522,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1705242866
    },
    {
        "content": "<p>Thanks for the answer. But why did you remove <code>h: M ⊆ X</code> and <code>L: CompleteLattice X</code>, can it be taken away?</p>",
        "id": 412820321,
        "sender_full_name": "kishou yusa",
        "timestamp": 1705243434
    },
    {
        "content": "<p>because, as Ruben says, <code>U</code> does not exist in the exercise statement you sent. Instead, <code>X</code> is a <em>type</em> (not a set) and <code>M : Set X</code> (which I translated to <code>s : Set α</code>) means that <code>M</code> is a set of elements of <code>X</code>.</p>",
        "id": 412820721,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1705243712
    },
    {
        "content": "<p>As for <code>CompleteLattice X</code>, it's unnecessary for the definition since it only mentions <code>≤</code></p>",
        "id": 412820750,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1705243739
    },
    {
        "content": "<p>thanks for the clarification. Sorry about the question, I forgot to copy and paste the declaration of X and CompleteLattice X.</p>",
        "id": 412821189,
        "sender_full_name": "kishou yusa",
        "timestamp": 1705244049
    },
    {
        "content": "<p>stupid question but is define <code>M: Set X</code> equivalent to define <code>M ⊆ Set X</code>?</p>",
        "id": 412821730,
        "sender_full_name": "kishou yusa",
        "timestamp": 1705244453
    },
    {
        "content": "<p>No. The latter does not even make sense because <code>Set X</code> is not a set. It's a type.</p>",
        "id": 412821960,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1705244612
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"666341\">kishou yusa</span> has marked this topic as resolved.</p>",
        "id": 412825158,
        "sender_full_name": "Notification Bot",
        "timestamp": 1705247191
    }
]