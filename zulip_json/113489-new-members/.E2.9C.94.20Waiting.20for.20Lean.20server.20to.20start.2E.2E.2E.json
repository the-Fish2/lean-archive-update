[
    {
        "content": "<p>I'm trying to run a snippet of code from Theorem Proving in Lean 4. My infoview is stuck with the message \"Waiting for Lean server to start...\". I also have a message that says \"Opened file is using Lean 3 (version: 3.20.0).\" How do I fix this?</p>",
        "id": 441341907,
        "sender_full_name": "Benjamin",
        "timestamp": 1717026042
    },
    {
        "content": "<p>Here's my setup information. For some reason, it says I have version 3 of Lean, which may be the problem. I didn't think I had Lean 3 installed. I followed the quickstart instructions to install Lean 4.</p>\n<p><strong>Operating system</strong>: Windows_NT (release: 10.0.19045)<br>\n<strong>CPU architecture</strong>: x64<br>\n<strong>CPU model</strong>: 8 x Intel(R) Core(TM) i7-8550U CPU @ 1.80GHz<br>\n<strong>Available RAM</strong>: 8.44 GB</p>\n<p><strong>Curl installed</strong>: true<br>\n<strong>Git installed</strong>: true<br>\n<strong>Elan</strong>: Reasonably up-to-date (version: 3.1.1)<br>\n<strong>Lean</strong>: Lean 3 version (version: 3.20.0)<br>\n<strong>Project</strong>: No open project</p>\n<hr>\n<p><strong>Elan toolchains</strong>: </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">installed</span><span class=\"w\"> </span><span class=\"n\">toolchains</span>\n<span class=\"c1\">--------------------</span>\n\n<span class=\"n\">stable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">default</span><span class=\"o\">)</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">-</span><span class=\"n\">community</span><span class=\"bp\">-</span><span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"mf\">3.20</span><span class=\"bp\">.</span><span class=\"m\">0</span>\n<span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">stable</span>\n\n\n<span class=\"n\">active</span><span class=\"w\"> </span><span class=\"n\">toolchain</span>\n<span class=\"c1\">----------------</span>\n\n<span class=\"n\">stable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">default</span><span class=\"o\">)</span>\n\n<span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">3.20</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"n\">c40c41ccc08</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Release</span><span class=\"o\">)</span>\n</code></pre></div>",
        "id": 441346132,
        "sender_full_name": "Benjamin",
        "timestamp": 1717027643
    },
    {
        "content": "<p>You need to run <code>elan uninstall leanprover-community-lean-3.20.0</code>, you might have installed the toolchain before.</p>\n<p>You also need to uninstall the Lean VSCode extension which is for Lean 3, and leave Lean 4 extension there. Go to the extension pannel search for <code>@installed lean</code> to find them.</p>",
        "id": 441356713,
        "sender_full_name": "Utensil Song",
        "timestamp": 1717033338
    },
    {
        "content": "<p>After that, you might need to restart VS Code and Lean server to have a clean start.</p>",
        "id": 441356760,
        "sender_full_name": "Utensil Song",
        "timestamp": 1717033367
    },
    {
        "content": "<p>I ran <code>elan uninstall leanprover-community-lean-3.20.0</code>, and the command concluded with a message that <code>leanprover-community-lean-3.20.0</code> has been uninstalled. I checked, and I don't have the Lean 3 extension installed for VS Code. I've also restarted VS Code and the Lean server. Unfortunately, I still have the same error, and my setup information is unchanged.</p>",
        "id": 441388117,
        "sender_full_name": "Benjamin",
        "timestamp": 1717049596
    },
    {
        "content": "<p>If I run <code>lean --version</code>, I still get the output <code>Lean (version 3.20.0, commit 4c40c41ccc08, Release)</code>, so Lean 3 is still there somehow. But if I try to uninstall it again, I get <code>info: no toolchain installed for 'leanprover-community-lean-3.20.0'</code>.</p>",
        "id": 441388485,
        "sender_full_name": "Benjamin",
        "timestamp": 1717049775
    },
    {
        "content": "<p>I ran <code>elan update</code>, and that fixed it. Thanks for your help.</p>",
        "id": 441389007,
        "sender_full_name": "Benjamin",
        "timestamp": 1717049988
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"338322\">Benjamin</span> has marked this topic as resolved.</p>",
        "id": 441389015,
        "sender_full_name": "Notification Bot",
        "timestamp": 1717049993
    }
]