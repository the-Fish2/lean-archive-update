[
    {
        "content": "<p>I have a proof state:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">d</span><span class=\"o\">:</span> <span class=\"n\">ℕ</span>\n<span class=\"n\">U</span><span class=\"o\">:</span> <span class=\"n\">Matrix.unitaryGroup</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"n\">d</span><span class=\"o\">)</span> <span class=\"n\">ℂ</span>\n<span class=\"n\">q1q2</span><span class=\"o\">:</span> <span class=\"n\">Matrix</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"n\">d</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"n\">ℂ</span>\n<span class=\"bp\">⊢</span> <span class=\"o\">((</span><span class=\"bp\">↑</span><span class=\"n\">q1</span><span class=\"o\">)</span><span class=\"bp\">ᴴ</span> <span class=\"bp\">*</span> <span class=\"o\">((</span><span class=\"bp\">↑</span><span class=\"n\">U</span><span class=\"o\">)</span><span class=\"bp\">ᴴ</span> <span class=\"bp\">*</span> <span class=\"bp\">↑</span><span class=\"n\">U</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"bp\">↑</span><span class=\"n\">q2</span><span class=\"o\">)</span> <span class=\"mi\">0</span> <span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">((</span><span class=\"bp\">↑</span><span class=\"n\">q1</span><span class=\"o\">)</span><span class=\"bp\">ᴴ</span> <span class=\"bp\">*</span> <span class=\"bp\">↑</span><span class=\"n\">q2</span><span class=\"o\">)</span> <span class=\"mi\">0</span> <span class=\"mi\">0</span>\n</code></pre></div>\n<p>I know that <code>(unitary.mem_iff.mp U.2).1</code> has type <code>star ↑U * ↑U = 1</code>. However, when I do</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">rw</span> <span class=\"o\">[(</span><span class=\"n\">unitary.mem_iff.mp</span> <span class=\"n\">U.2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>or </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">simp</span> <span class=\"o\">[(</span><span class=\"n\">unitary.mem_iff.mp</span> <span class=\"n\">U.2</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>They make no progress. What is the problem? How do I rewrite <code>(↑U)ᴴ * ↑U)</code> to <code>1</code> in the proof state?</p>",
        "id": 419209457,
        "sender_full_name": "Yunong Shi",
        "timestamp": 1706781061
    },
    {
        "content": "<p>Turns out that I have to <code>open Complex</code>.</p>",
        "id": 419211473,
        "sender_full_name": "Yunong Shi",
        "timestamp": 1706781726
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"671093\">Yunong Shi</span> has marked this topic as resolved.</p>",
        "id": 419211488,
        "sender_full_name": "Notification Bot",
        "timestamp": 1706781731
    }
]