[
    {
        "content": "<p>Are the following two formulations equivalent?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"n\">bar</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">bar</span><span class=\"bp\">.</span><span class=\"n\">foo</span><span class=\"bp\">⟩</span>\n<span class=\"kn\">instance</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"n\">bar</span><span class=\"w\"> </span><span class=\"kn\">where</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">bar</span><span class=\"bp\">.</span><span class=\"n\">foo</span>\n</code></pre></div>\n<p>When should the first formulation be used, and when should the second be used?</p>",
        "id": 441330351,
        "sender_full_name": "Isak Colboubrani",
        "timestamp": 1717021950
    },
    {
        "content": "<p>Yes, they are equivalent.</p>",
        "id": 441330869,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1717022175
    },
    {
        "content": "<p>(at least, when <code>Foo</code> is a one-field structure whose  only field is called <code>foo</code>)</p>",
        "id": 441332004,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1717022667
    },
    {
        "content": "<p>Thanks! My interpretation is that it is idiomatic to use the former for one-field structures and the latter for multi-field structures. Does that sound right?</p>",
        "id": 441539210,
        "sender_full_name": "Isak Colboubrani",
        "timestamp": 1717097951
    },
    {
        "content": "<p>Maybe a little stronger than I'd put it, but that roughly matches usage in mathlib, yeah</p>",
        "id": 441542832,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1717099045
    },
    {
        "content": "<p>I use both for one-field structures. Sometimes I find the <code>where</code> version to be a little clearer, I don't know if there's a hard rule. It also supports a nice notation for arguments, like <code>where foo x := f x</code>.</p>",
        "id": 441546577,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1717100022
    }
]