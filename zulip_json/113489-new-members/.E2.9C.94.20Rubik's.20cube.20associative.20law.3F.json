[
    {
        "content": "<p>Check this lemma \"ps_mul_assoc \" , any ideas?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Lean</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.GroupTheory.Perm.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.GroupTheory.Perm.Fin</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">Equiv</span> <span class=\"n\">Perm</span>\n\n<span class=\"c1\">-- Vector α n ：α是类型，n是个数。</span>\n\n<span class=\"kn\">section</span> <span class=\"n\">RubiksSuperGroup</span>\n\n  <span class=\"c1\">-- 这两个instance和下面的deriving Repr有关</span>\n  <span class=\"kd\">instance</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">Repr</span> <span class=\"o\">(</span><span class=\"n\">Perm</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"n\">n</span><span class=\"o\">))</span> <span class=\"o\">:=</span>\n    <span class=\"o\">⟨</span><span class=\"n\">reprPrec</span> <span class=\"bp\">∘</span> <span class=\"n\">Equiv.toFun</span><span class=\"o\">⟩</span>\n\n  <span class=\"kd\">instance</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"n\">m</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">Repr</span> <span class=\"o\">(</span><span class=\"n\">Vector</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"n\">m</span><span class=\"o\">)</span> <span class=\"o\">:=</span>\n    <span class=\"o\">⟨</span><span class=\"n\">reprPrec</span> <span class=\"bp\">∘</span> <span class=\"n\">Vector.toList</span><span class=\"o\">⟩</span>\n\n  <span class=\"sd\">/-- 用排列的逆操作重新排列一个向量-/</span>\n  <span class=\"kd\">def</span> <span class=\"n\">permuteVector</span> <span class=\"o\">{</span><span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"o\">}</span>\n  <span class=\"o\">:</span> <span class=\"n\">Perm</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"n\">n</span><span class=\"o\">)</span> <span class=\"bp\">→</span> <span class=\"n\">Vector</span> <span class=\"n\">α</span> <span class=\"n\">n</span> <span class=\"bp\">→</span> <span class=\"n\">Vector</span> <span class=\"n\">α</span> <span class=\"n\">n</span>\n  <span class=\"o\">:=</span>\n    <span class=\"k\">fun</span> <span class=\"n\">p</span> <span class=\"n\">v</span> <span class=\"bp\">=&gt;</span> <span class=\"o\">{</span>\n    <span class=\"c1\">-- 举例:</span>\n      <span class=\"c1\">-- p:一个重排列(1=&gt;2,2=&gt;3,3=&gt;1,4=&gt;4,5=&gt;5,6=&gt;6,7=&gt;7,8=&gt;8)</span>\n      <span class=\"c1\">-- v:一个向量(a1,a2,a3,a4,a5,a6,a7,a8)</span>\n      <span class=\"c1\">-- 给出列表</span>\n      <span class=\"n\">val</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n        <span class=\"n\">exact</span> <span class=\"o\">(</span><span class=\"n\">Vector.ofFn</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">i</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">v.get</span> <span class=\"o\">(</span><span class=\"n\">p.invFun</span> <span class=\"n\">i</span><span class=\"o\">)))</span><span class=\"bp\">.</span><span class=\"n\">toList</span>\n        <span class=\"c1\">-- 举例：</span>\n          <span class=\"c1\">-- Vector.ofFn (fun i =&gt; v.get (p.invFun i)) 就是 ：(a1,a2,a3,a4,a5,a6,a7,a8).get (3,1,2,4,5,6,7,8)</span>\n                <span class=\"c1\">-- 也就是 (a3,a1,a2,a4,a5,a6,a7,a8)</span>\n          <span class=\"c1\">-- (Vector.ofFn (fun i =&gt; v.get (p.invFun i))).toList 就是 [a3,a1,a2,a4,a5,a6,a7,a8]</span>\n      <span class=\"c1\">-- 检查长度</span>\n      <span class=\"n\">property</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">simp</span> <span class=\"n\">only</span> <span class=\"o\">[</span><span class=\"n\">invFun_as_coe</span><span class=\"o\">,</span> <span class=\"n\">Vector.toList_ofFn</span><span class=\"o\">,</span> <span class=\"n\">List.length_ofFn</span><span class=\"o\">]</span>\n        <span class=\"c1\">-- simp</span>\n    <span class=\"o\">}</span>\n\n  <span class=\"sd\">/-- 魔方全体块的某一个状态,感觉是分开角块和棱块两种 PieceState。</span>\n<span class=\"sd\">  可以这样理解，一个PieceState结构，就是某一个群H中的角块或棱块状态。</span>\n<span class=\"sd\">  首先permute描述了块的位置，orient描述了各位置上的方向数（逆时针转一次算+1）。-/</span>\n  <span class=\"kd\">structure</span> <span class=\"n\">PieceState</span> <span class=\"o\">(</span><span class=\"n\">pieces</span> <span class=\"n\">orientations</span><span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"bp\">+</span><span class=\"o\">)</span> <span class=\"n\">where</span>\n    <span class=\"c1\">--代表全体方块的位置：</span>\n    <span class=\"n\">permute</span> <span class=\"o\">:</span> <span class=\"n\">Perm</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"n\">pieces</span><span class=\"o\">)</span> <span class=\"c1\">-- 比如这里pieces取8</span>\n    <span class=\"c1\">--代表全体方块的方向：</span>\n    <span class=\"n\">orient</span> <span class=\"o\">:</span> <span class=\"n\">Vector</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"n\">orientations</span><span class=\"o\">)</span> <span class=\"n\">pieces</span> <span class=\"c1\">-- 比如这里orientations取3</span>\n    <span class=\"n\">deriving</span> <span class=\"n\">Repr</span>\n    <span class=\"c1\">--比如上面这样取的话，就是全体角块的位置状态+方向数状态的总和。</span>\n\n  <span class=\"c1\">--魔方状态的复合函数：</span>\n  <span class=\"c1\">-- 这个定义很重要，其实是可以按需定义的，</span>\n  <span class=\"sd\">/-- 程序中的复合ab，是这样理解的：先作用b，再作用a。</span>\n<span class=\"sd\">  而我们手写证明中复合ab,是这样理解的：先作用a，再作用b。-/</span>\n  <span class=\"kd\">def</span> <span class=\"n\">ps_mul</span> <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"n\">o</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"bp\">+</span><span class=\"o\">}</span>\n  <span class=\"o\">:</span> <span class=\"n\">PieceState</span> <span class=\"n\">p</span> <span class=\"n\">o</span> <span class=\"bp\">→</span> <span class=\"n\">PieceState</span> <span class=\"n\">p</span> <span class=\"n\">o</span> <span class=\"bp\">→</span> <span class=\"n\">PieceState</span> <span class=\"n\">p</span> <span class=\"n\">o</span>\n  <span class=\"o\">:=</span>\n    <span class=\"k\">fun</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"bp\">=&gt;</span> <span class=\"o\">{</span>\n    <span class=\"c1\">--举例：a是F,b是R</span>\n      <span class=\"c1\">-- a: {</span>\n      <span class=\"c1\">--  permute: Perm (Fin 8) := (1=&gt;2,2=&gt;6,3,4,5=&gt;1,6=&gt;5,7,8) -- 有8项</span>\n      <span class=\"c1\">--  orient : Vector (Fin 3) 8 := (1,2,0,0,2,1,0,0) -- 有8项</span>\n      <span class=\"c1\">--}</span>\n      <span class=\"c1\">-- b: {</span>\n      <span class=\"c1\">--  permute: Perm (Fin 8) := (1,2=&gt;3,3=&gt;7,4,5,6=&gt;2,7=&gt;6,8) -- 有8项</span>\n      <span class=\"c1\">--  orient : Vector (Fin 3) 8 := (0,1,2,0,0,2,1,0) -- 有8项</span>\n      <span class=\"c1\">--}</span>\n      <span class=\"n\">permute</span> <span class=\"o\">:=</span> <span class=\"n\">b.permute</span> <span class=\"bp\">*</span> <span class=\"n\">a.permute</span> <span class=\"c1\">-- 这里 “*” 应该是指排列之间的复合运算</span>\n      <span class=\"n\">orient</span> <span class=\"o\">:=</span> <span class=\"n\">Vector.map₂</span> <span class=\"n\">Fin.add</span> <span class=\"o\">(</span><span class=\"n\">permuteVector</span> <span class=\"n\">b.permute</span> <span class=\"n\">a.orient</span><span class=\"o\">)</span> <span class=\"n\">b.orient</span>\n        <span class=\"c1\">--1.分析类型：</span>\n          <span class=\"c1\">--Vector.map₂ ： (f : α → β → φ) : Vector α n → Vector β n → Vector φ n</span>\n          <span class=\"c1\">--</span>\n          <span class=\"c1\">--Fin.add:                              Fin n → Fin n → Fin n  --应该是一个求和模n的计算函数</span>\n          <span class=\"c1\">--(permuteVector b.permute a.orient) :  Vector (Fin ↑o) ↑p</span>\n          <span class=\"c1\">-- b.orient:                            Vector (Fin ↑orientations) ↑pieces</span>\n          <span class=\"c1\">--</span>\n        <span class=\"c1\">--2.举例：</span>\n          <span class=\"c1\">-- 所以</span>\n          <span class=\"c1\">-- (permuteVector b.permute a.orient) = (permuteVector (1,2=&gt;3,3=&gt;7,4,5,6=&gt;2,7=&gt;6,8) (1,2,0,0,2,1,0,0) )</span>\n              <span class=\"c1\">-- = (1,1,2,0,2,0,0,0) -- 8项</span>\n          <span class=\"c1\">--  b.orient = (0,1,2,0,0,2,1,0)</span>\n          <span class=\"c1\">-- 所以 orient := Vector.map₂ Fin.add (permuteVector b.permute a.orient) b.orient = 应该就是2个向量加起来每个分量mod 3的结果</span>\n              <span class=\"c1\">-- = (1,1,2,0,2,0,0,0) + (0,1,2,0,0,2,1,0) 【mod 3】</span>\n              <span class=\"c1\">-- = (1,2,1,0,2,2,1,0)</span>\n        <span class=\"c1\">--3.对比一下手写的证明：v(gh) := v(g) + ρ(g)^(-1)·v(h)</span>\n              <span class=\"c1\">-- v(RF) = v(R) + ρ(R)^(-1)·v(F) = (0,1,2,0,0,2,1,0) +  (1,2=&gt;3,3=&gt;7,4,5,6=&gt;2,7=&gt;6,8)^(-1)·(1,2,0,0,2,1,0,0)</span>\n          <span class=\"c1\">-- 实际上，上面程序做的是 v(ab) = ρ(b))^(-1)·v(a) + v(b) , 其实可以ps_mul理解成，</span>\n          <span class=\"c1\">-- 先对魔方操作第二个参数b的操作，然后再操作第一个参数a的操作，得到的最终效果。</span>\n          <span class=\"c1\">-- 因此程序中的复合ab，是这样理解的：先作用b，再作用a。</span>\n          <span class=\"c1\">-- 而我们手写证明中复合ab,是这样理解的：先作用a，再作用b。</span>\n          <span class=\"c1\">--实际上只是定义不一样，得到的相对结论是一样的。</span>\n    <span class=\"o\">}</span>\n\n  <span class=\"c1\">--todo--</span>\n <span class=\"kd\">lemma</span> <span class=\"n\">ps_mul_assoc</span> <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"n\">o</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"bp\">+</span><span class=\"o\">}</span>\n  <span class=\"o\">:</span> <span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"o\">:</span> <span class=\"n\">PieceState</span> <span class=\"n\">p</span> <span class=\"n\">o</span><span class=\"o\">),</span>\n  <span class=\"n\">ps_mul</span> <span class=\"o\">(</span><span class=\"n\">ps_mul</span> <span class=\"n\">c</span> <span class=\"n\">b</span><span class=\"o\">)</span> <span class=\"n\">a</span> <span class=\"bp\">=</span> <span class=\"n\">ps_mul</span> <span class=\"n\">c</span> <span class=\"o\">(</span><span class=\"n\">ps_mul</span> <span class=\"n\">b</span> <span class=\"n\">a</span><span class=\"o\">)</span>\n  <span class=\"c1\">--举例：a是F,b是R，c是B</span>\n  <span class=\"c1\">-- a: {</span>\n  <span class=\"c1\">--  permute: Perm (Fin 8) := (1=&gt;2,2=&gt;6,3,4,5=&gt;1,6=&gt;5,7,8) -- 有8项</span>\n  <span class=\"c1\">--  orient : Vector (Fin 3) 8 := (1,2,0,0,2,1,0,0) -- 有8项</span>\n  <span class=\"c1\">--}</span>\n  <span class=\"c1\">-- b: {</span>\n  <span class=\"c1\">--  permute: Perm (Fin 8) := (1,2=&gt;3,3=&gt;7,4,5,6=&gt;2,7=&gt;6,8) -- 有8项</span>\n  <span class=\"c1\">--  orient : Vector (Fin 3) 8 := (0,1,2,0,0,2,1,0) -- 有8项</span>\n  <span class=\"c1\">--}</span>\n  <span class=\"c1\">-- c: {</span>\n  <span class=\"c1\">--  permute: Perm (Fin 8) := (1,2,3=&gt;4,4=&gt;8,5,6,7=&gt;3,8=&gt;7) -- 有8项</span>\n  <span class=\"c1\">--  orient : Vector (Fin 3) 8 := (0,0,1,2,0,0,1,2) -- 有8项</span>\n  <span class=\"c1\">--}</span>\n  <span class=\"c1\">-- 读法是从右开始看：ba是先作用a，再作用b</span>\n  <span class=\"c1\">--引理实际说的是：(ba)c = a(cb) -- 也就是1·F·R·B = 1·F·R·B</span>\n  <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n    <span class=\"n\">intro</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span>\n    <span class=\"n\">simp</span> <span class=\"o\">[</span><span class=\"n\">ps_mul</span><span class=\"o\">]</span>\n    <span class=\"n\">apply</span> <span class=\"n\">And.intro</span>\n    <span class=\"o\">{</span>\n      <span class=\"n\">simp</span> <span class=\"n\">only</span> <span class=\"o\">[</span><span class=\"n\">Perm.mul_def</span><span class=\"o\">]</span>\n      <span class=\"n\">simp</span> <span class=\"n\">only</span> <span class=\"o\">[</span><span class=\"n\">Equiv.trans_assoc</span><span class=\"o\">]</span>\n    <span class=\"o\">}</span>\n    <span class=\"o\">{</span>\n      <span class=\"n\">simp</span> <span class=\"n\">only</span> <span class=\"o\">[</span><span class=\"n\">permuteVector</span><span class=\"o\">]</span>\n      <span class=\"n\">simp</span> <span class=\"n\">only</span> <span class=\"o\">[</span><span class=\"n\">invFun_as_coe</span><span class=\"o\">,</span> <span class=\"n\">Vector.toList_ofFn</span><span class=\"o\">,</span> <span class=\"n\">Vector.get_map₂</span><span class=\"o\">]</span>\n      <span class=\"gr\">sorry</span>\n    <span class=\"o\">}</span>\n</code></pre></div>",
        "id": 422008193,
        "sender_full_name": "chenjulang",
        "timestamp": 1708173350
    },
    {
        "content": "<p>Check the sorry, this is something about Rubik's cube.</p>",
        "id": 422008280,
        "sender_full_name": "chenjulang",
        "timestamp": 1708173411
    },
    {
        "content": "<p>Any ideas？</p>",
        "id": 422011007,
        "sender_full_name": "chenjulang",
        "timestamp": 1708176161
    },
    {
        "content": "<p>How to specify each component of a vector (such as a.orient, b.orient, c.orient)?This may help...</p>",
        "id": 422011019,
        "sender_full_name": "chenjulang",
        "timestamp": 1708176174
    },
    {
        "content": "<p>orients:<br>\n<a href=\"/user_uploads/3121/yfuIwEsluRmcklmI857Bz_J6/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/yfuIwEsluRmcklmI857Bz_J6/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/yfuIwEsluRmcklmI857Bz_J6/image.png\"></a></div><p>locations:<br>\n<a href=\"/user_uploads/3121/CJR690k4LZF1N-d7MDb7aEbY/image.png\">image.png</a><br>\n<a href=\"/user_uploads/3121/g66T7oHYAWziKTLSdBAGT5ct/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/CJR690k4LZF1N-d7MDb7aEbY/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/CJR690k4LZF1N-d7MDb7aEbY/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/g66T7oHYAWziKTLSdBAGT5ct/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/g66T7oHYAWziKTLSdBAGT5ct/image.png\"></a></div>",
        "id": 422011144,
        "sender_full_name": "chenjulang",
        "timestamp": 1708176273
    },
    {
        "content": "<p>Do you know about <a href=\"https://github.com/kendfrey/rubiks-cube-group\">https://github.com/kendfrey/rubiks-cube-group</a> ?</p>",
        "id": 422012303,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1708177499
    },
    {
        "content": "<p>Oh , i forgot about this.I'll see</p>",
        "id": 422012424,
        "sender_full_name": "chenjulang",
        "timestamp": 1708177617
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span>  I dont know how to run this lean3 code...</p>",
        "id": 422013139,
        "sender_full_name": "chenjulang",
        "timestamp": 1708178201
    },
    {
        "content": "<p>It can not run on the lean3 online editor.<br>\n<a href=\"/user_uploads/3121/7dnIoY6IpLFCkM2wHeb8JPAm/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/7dnIoY6IpLFCkM2wHeb8JPAm/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/7dnIoY6IpLFCkM2wHeb8JPAm/image.png\"></a></div>",
        "id": 422013366,
        "sender_full_name": "chenjulang",
        "timestamp": 1708178376
    },
    {
        "content": "<p>i have proved it in paper, but a little hard to translate it into lean4</p>",
        "id": 422027699,
        "sender_full_name": "chenjulang",
        "timestamp": 1708189522
    },
    {
        "content": "<p>Any ideas would be appreciated. <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 422027794,
        "sender_full_name": "chenjulang",
        "timestamp": 1708189574
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 422069250,
        "sender_full_name": "chenjulang",
        "timestamp": 1708234800
    },
    {
        "content": "<p>How to specify each component of a vector (such as a.orient, b.orient, c.orient)?This may help...</p>",
        "id": 422100943,
        "sender_full_name": "chenjulang",
        "timestamp": 1708265783
    },
    {
        "content": "<p>I had a look at the sorry and the goal is incomprehensible to me. Can you perhaps say in English what the question is? For example are you asking \"if <code>v : Vector (Fin 3) Nat</code> then how do I get the second component from <code>v</code>?\" (which I don't know the answer to, because I avoid <code>Vector</code>). Or are you asking something more complicated? Does <code>ext x</code> help? Because I don't understand the question, I can't give a good answer.</p>",
        "id": 422113219,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1708276635
    },
    {
        "content": "<p>First of all , Thanks for help <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span> . <br>\nThere are 3 Rubik’s Cube operations， for example Front , Right,Back（Rotate 90 degrees clockwise）.The lemma \"ps_mul_assoc\" means : First operating the Rubik's Cube operation a, and then operating the composite operation of the Rubik's Cube operation (bc). It is equivalent to first operating the composite operating  of the Rubik's Cube operation (ab), and then operating the Rubik's Cube operation c.</p>",
        "id": 422145824,
        "sender_full_name": "chenjulang",
        "timestamp": 1708306088
    },
    {
        "content": "<p>--For example ：a is F,b is R，c is B<br>\n-- I describe the permute like the below, for example \"1=&gt;2\" means the 1 position maps to the 2 position.<br>\n-- And the orient.It means the number of directions that need to be added for a specific position (In other words, orient represents an increasing amount. First we can see each piece is marked with a dot to record the direction, like this:<br>\n<a href=\"/user_uploads/3121/9UtHAWDxMoeDWuDBCQz1GGlN/image.png\">image.png</a><br>\n, and then , we focus on corner piece No.1 ,  <br>\n<a href=\"/user_uploads/3121/1hIVARTZ8d1Vbp1WxrBcM4tC/image.png\">image.png</a>,<br>\nif the action is \"Front Turn\" , then corner piece No.1 goes to position 2 , and \"the number of directions that need to be added\" is 2.(Because in position 1, the number is 0, and then in position 2, the number is 2, couterclockwise):<br>\n<a href=\"/user_uploads/3121/7iKqyWITcvqCv4ynUhEmJSdy/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/9UtHAWDxMoeDWuDBCQz1GGlN/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/9UtHAWDxMoeDWuDBCQz1GGlN/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/1hIVARTZ8d1Vbp1WxrBcM4tC/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/1hIVARTZ8d1Vbp1WxrBcM4tC/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/7iKqyWITcvqCv4ynUhEmJSdy/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/7iKqyWITcvqCv4ynUhEmJSdy/image.png\"></a></div><p>)</p>",
        "id": 422146572,
        "sender_full_name": "chenjulang",
        "timestamp": 1708306896
    },
    {
        "content": "<p>Up color :  White<br>\nDown color : Yellow<br>\nFront color: Blue<br>\nBack color: Green<br>\nLeft color: Red<br>\nRight color: Orange</p>",
        "id": 422146800,
        "sender_full_name": "chenjulang",
        "timestamp": 1708307108
    },
    {
        "content": "<p>There are 4 theorems left to be proved(i organized it by hand already)......Something basic for the Rubik's cube, like the Necessary and sufficient conditions for the existence of Rubik's Cube state,  the theoretical basis of the group reduction method of Thistlethwaite Algorithm, And also something about the Conjugate Commutator for constructing a Rubik's Cube Formula....Long way to heaven.. <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span> <br>\n<a href=\"/user_uploads/3121/BBF6YMEYjDmR_r4xvRoCBz5A/image.png\">image.png</a><br>\n<a href=\"/user_uploads/3121/SOiHOZNE3hZ1JHGst7iQrLCo/image.png\">image.png</a><br>\n<a href=\"/user_uploads/3121/16bcpYxe5u1HDZ5kFrarrO3J/image.png\">image.png</a><br>\n<a href=\"/user_uploads/3121/RNaXvnvjpRTGUmNvzoLRqQAm/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/BBF6YMEYjDmR_r4xvRoCBz5A/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/BBF6YMEYjDmR_r4xvRoCBz5A/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/SOiHOZNE3hZ1JHGst7iQrLCo/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/SOiHOZNE3hZ1JHGst7iQrLCo/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/16bcpYxe5u1HDZ5kFrarrO3J/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/16bcpYxe5u1HDZ5kFrarrO3J/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/RNaXvnvjpRTGUmNvzoLRqQAm/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/RNaXvnvjpRTGUmNvzoLRqQAm/image.png\"></a></div>",
        "id": 422147864,
        "sender_full_name": "chenjulang",
        "timestamp": 1708308082
    },
    {
        "content": "<p>For example :<br>\n  --a is F, b is R, c is B<br>\n  -- a: {<br>\n  --  permute: Perm (Fin 8) := (1=&gt;2,2=&gt;6,3,4,5=&gt;1,6=&gt;5,7,8) <br>\n  --  orient : Vector (Fin 3) 8 := (2,1,0,0,1,2,0,0) <br>\n  --}<br>\n  -- b: {<br>\n  --  permute: Perm (Fin 8) := (1,2=&gt;3,3=&gt;7,4,5,6=&gt;2,7=&gt;6,8) <br>\n  --  orient : Vector (Fin 3) 8 := (0,2,1,0,0,1,2,0) <br>\n  --}<br>\n  -- c: {<br>\n  --  permute: Perm (Fin 8) := (1,2,3=&gt;4,4=&gt;8,5,6,7=&gt;3,8=&gt;7) <br>\n  --  orient : Vector (Fin 3) 8 := (0,0,2,1,0,0,1,2) <br>\n  --}</p>\n<div class=\"codehilite\"><pre><span></span><code>  --bc:{\n  --  permute: (1,2=&gt;3,3=&gt;7,4,5,6=&gt;2,7=&gt;6,8) * (1,2,3=&gt;4,4=&gt;8,5,6,7=&gt;3,8=&gt;7)\n  --          = (1,2=&gt;4,3,4=&gt;8,5,6=&gt;2,7=&gt;6,8=&gt;7)\n  --  orient : (1,2=&gt;3,3=&gt;7,4,5,6=&gt;2,7=&gt;6,8)^(-1)·(0,0,2,1,0,0,1,2)\n  --           + (0,2,1,0,0,1,2,0)\n  --          = (0,2,1,1,0,0,0,2) +\n  --            (0,2,1,0,0,1,2,0)\n  --          = (0,1,2,1,0,1,2,2) （mod 3）\n  -- }\n  --ab:{\n  --  permute: (1=&gt;2,2=&gt;6,3,4,5=&gt;1,6=&gt;5,7,8) * (1,2=&gt;3,3=&gt;7,4,5,6=&gt;2,7=&gt;6,8)\n  --          = (1=&gt;3,2,3=&gt;7,4,5=&gt;1,6=&gt;5,7=&gt;6,8)\n  --  orient : (1=&gt;2,2=&gt;6,3,4,5=&gt;1,6=&gt;5,7,8)^(-1)·(0,2,1,0,0,1,2,0)\n  --          + (2,1,0,0,1,2,0,0)\n  --          = (2,1,1,0,0,0,2,0) +\n  --            (2,1,0,0,1,2,0,0)\n  --          = (1,2,1,0,1,2,2,0) (mod 3)\n  -- }\n  --a(bc):{\n  --  permute: (1=&gt;2,2=&gt;6,3,4,5=&gt;1,6=&gt;5,7,8) * (1,2=&gt;4,3,4=&gt;8,5,6=&gt;2,7=&gt;6,8=&gt;7)\n  --          = (1=&gt;4,2,3,4=&gt;8,5=&gt;1,6=&gt;5,7=&gt;6,8=&gt;7)\n  --  orient : (1=&gt;2,2=&gt;6,3,4,5=&gt;1,6=&gt;5,7,8)^(-1)·(0,1,2,1,0,1,2,2) +\n  --            (2,1,0,0,1,2,0,0)\n  --          = (1,1,2,1,0,0,2,2) +\n  --            (2,1,0,0,1,2,0,0)\n  --          = (0,2,2,1,1,2,2,2) (mod 3)\n  -- }\n  --(ab)c:{\n  --  permute: (1=&gt;3,2,3=&gt;7,4,5=&gt;1,6=&gt;5,7=&gt;6,8) * (1,2,3=&gt;4,4=&gt;8,5,6,7=&gt;3,8=&gt;7)\n  --          = (1=&gt;4,2,3,4=&gt;8,5=&gt;1,6=&gt;5,7=&gt;6,8=&gt;7)\n  --  orient : (1=&gt;3,2,3=&gt;7,4,5=&gt;1,6=&gt;5,7=&gt;6,8)^(-1)·(0,0,2,1,0,0,1,2) +\n  --            (1,2,1,0,1,2,2,0)\n  --          = (2,0,1,1,0,0,0,2) +\n  --            (1,2,1,0,1,2,2,0)\n  --          = (0,2,2,1,1,2,2,2)\n  -- }\n  -- we can see a(bc) is equal to (ab)c\n</code></pre></div>\n\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code>\n</code></pre></div>",
        "id": 422205286,
        "sender_full_name": "chenjulang",
        "timestamp": 1708339014
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"665035\">@chenjulang</span>, I think Kevin is asking for you to explain your basic question</p>\n<p><span class=\"user-mention silent\" data-user-id=\"665035\">chenjulang</span> <a href=\"#narrow/stream/113489-new-members/topic/Rubik's.20cube.20associative.20law.3F/near/422100943\">said</a>:</p>\n<blockquote>\n<p>How to specify each component of a vector (such as a.orient, b.orient, c.orient)?This may help...</p>\n</blockquote>\n<p>not your entire project</p>",
        "id": 422210604,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1708340956
    },
    {
        "content": "<p><span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span> Ok, the proof should be something like this, by handwriting, but how to translate it into Lean4:</p>",
        "id": 422210788,
        "sender_full_name": "chenjulang",
        "timestamp": 1708341027
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">a</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n      <span class=\"n\">permute</span><span class=\"o\">:</span> <span class=\"n\">Perm</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"mi\">8</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">)</span>\n      <span class=\"n\">orient</span> <span class=\"o\">:</span> <span class=\"n\">Vector</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"mi\">3</span><span class=\"o\">)</span> <span class=\"mi\">8</span> <span class=\"o\">:=</span> <span class=\"o\">(</span><span class=\"n\">b1</span><span class=\"o\">,</span><span class=\"n\">b2</span><span class=\"o\">,</span><span class=\"n\">b3</span><span class=\"o\">,</span><span class=\"n\">b4</span><span class=\"o\">,</span><span class=\"n\">b5</span><span class=\"o\">,</span><span class=\"n\">b6</span><span class=\"o\">,</span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"n\">b8</span><span class=\"o\">)</span>\n<span class=\"o\">}</span>\n<span class=\"n\">b</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n      <span class=\"n\">permute</span><span class=\"o\">:</span> <span class=\"n\">Perm</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"mi\">8</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"o\">(</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"n\">a2</span><span class=\"bp\">=&gt;</span><span class=\"n\">c2</span><span class=\"o\">,</span><span class=\"n\">a3</span><span class=\"bp\">=&gt;</span><span class=\"n\">c3</span><span class=\"o\">,</span><span class=\"n\">a4</span><span class=\"bp\">=&gt;</span><span class=\"n\">c4</span><span class=\"o\">,</span><span class=\"n\">a5</span><span class=\"bp\">=&gt;</span><span class=\"n\">c5</span><span class=\"o\">,</span><span class=\"n\">a6</span><span class=\"bp\">=&gt;</span><span class=\"n\">c6</span><span class=\"o\">,</span><span class=\"n\">a7</span><span class=\"bp\">=&gt;</span><span class=\"n\">c7</span><span class=\"o\">,</span><span class=\"n\">a8</span><span class=\"bp\">=&gt;</span><span class=\"n\">c8</span><span class=\"o\">)</span>\n      <span class=\"n\">orient</span> <span class=\"o\">:</span> <span class=\"n\">Vector</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"mi\">3</span><span class=\"o\">)</span> <span class=\"mi\">8</span> <span class=\"o\">:=</span> <span class=\"o\">(</span><span class=\"n\">d1</span><span class=\"o\">,</span><span class=\"n\">d2</span><span class=\"o\">,</span><span class=\"n\">d3</span><span class=\"o\">,</span><span class=\"n\">d4</span><span class=\"o\">,</span><span class=\"n\">d5</span><span class=\"o\">,</span><span class=\"n\">d6</span><span class=\"o\">,</span><span class=\"n\">d7</span><span class=\"o\">,</span><span class=\"n\">d8</span><span class=\"o\">)</span>\n<span class=\"o\">}</span>\n<span class=\"n\">c</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n      <span class=\"n\">permute</span><span class=\"o\">:</span> <span class=\"n\">Perm</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"mi\">8</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"o\">(</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"n\">c2</span><span class=\"bp\">=&gt;</span><span class=\"n\">e2</span><span class=\"o\">,</span><span class=\"n\">c3</span><span class=\"bp\">=&gt;</span><span class=\"n\">e3</span><span class=\"o\">,</span><span class=\"n\">c4</span><span class=\"bp\">=&gt;</span><span class=\"n\">e4</span><span class=\"o\">,</span><span class=\"n\">c5</span><span class=\"bp\">=&gt;</span><span class=\"n\">e5</span><span class=\"o\">,</span><span class=\"n\">c6</span><span class=\"bp\">=&gt;</span><span class=\"n\">e6</span><span class=\"o\">,</span><span class=\"n\">c7</span><span class=\"bp\">=&gt;</span><span class=\"n\">e7</span><span class=\"o\">,</span><span class=\"n\">c8</span><span class=\"bp\">=&gt;</span><span class=\"n\">e8</span><span class=\"o\">)</span>\n      <span class=\"n\">orient</span> <span class=\"o\">:</span> <span class=\"n\">Vector</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"mi\">3</span><span class=\"o\">)</span> <span class=\"mi\">8</span> <span class=\"o\">:=</span> <span class=\"o\">(</span><span class=\"n\">f1</span><span class=\"o\">,</span><span class=\"n\">f2</span><span class=\"o\">,</span><span class=\"n\">f3</span><span class=\"o\">,</span><span class=\"n\">f4</span><span class=\"o\">,</span><span class=\"n\">f5</span><span class=\"o\">,</span><span class=\"n\">f6</span><span class=\"o\">,</span><span class=\"n\">f7</span><span class=\"o\">,</span><span class=\"n\">f8</span><span class=\"o\">)</span>\n<span class=\"o\">}</span>\n<span class=\"n\">bc</span><span class=\"o\">:{</span>\n      <span class=\"n\">permute</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"n\">a2</span><span class=\"bp\">=&gt;</span><span class=\"n\">c2</span><span class=\"o\">,</span><span class=\"n\">a3</span><span class=\"bp\">=&gt;</span><span class=\"n\">c3</span><span class=\"o\">,</span><span class=\"n\">a4</span><span class=\"bp\">=&gt;</span><span class=\"n\">c4</span><span class=\"o\">,</span><span class=\"n\">a5</span><span class=\"bp\">=&gt;</span><span class=\"n\">c5</span><span class=\"o\">,</span><span class=\"n\">a6</span><span class=\"bp\">=&gt;</span><span class=\"n\">c6</span><span class=\"o\">,</span><span class=\"n\">a7</span><span class=\"bp\">=&gt;</span><span class=\"n\">c7</span><span class=\"o\">,</span><span class=\"n\">a8</span><span class=\"bp\">=&gt;</span><span class=\"n\">c8</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"n\">c2</span><span class=\"bp\">=&gt;</span><span class=\"n\">e2</span><span class=\"o\">,</span><span class=\"n\">c3</span><span class=\"bp\">=&gt;</span><span class=\"n\">e3</span><span class=\"o\">,</span><span class=\"n\">c4</span><span class=\"bp\">=&gt;</span><span class=\"n\">e4</span><span class=\"o\">,</span><span class=\"n\">c5</span><span class=\"bp\">=&gt;</span><span class=\"n\">e5</span><span class=\"o\">,</span><span class=\"n\">c6</span><span class=\"bp\">=&gt;</span><span class=\"n\">e6</span><span class=\"o\">,</span><span class=\"n\">c7</span><span class=\"bp\">=&gt;</span><span class=\"n\">e7</span><span class=\"o\">,</span><span class=\"n\">c8</span><span class=\"bp\">=&gt;</span><span class=\"n\">e8</span><span class=\"o\">)</span>\n            <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"n\">a2</span><span class=\"bp\">=&gt;</span><span class=\"n\">e2</span><span class=\"o\">,</span><span class=\"n\">a3</span><span class=\"bp\">=&gt;</span><span class=\"n\">e3</span><span class=\"o\">,</span><span class=\"n\">a4</span><span class=\"bp\">=&gt;</span><span class=\"n\">e4</span><span class=\"o\">,</span><span class=\"n\">a5</span><span class=\"bp\">=&gt;</span><span class=\"n\">e5</span><span class=\"o\">,</span><span class=\"n\">a6</span><span class=\"bp\">=&gt;</span><span class=\"n\">e6</span><span class=\"o\">,</span><span class=\"n\">a7</span><span class=\"bp\">=&gt;</span><span class=\"n\">e7</span><span class=\"o\">,</span><span class=\"n\">a8</span><span class=\"bp\">=&gt;</span><span class=\"n\">e8</span><span class=\"o\">)</span>\n      <span class=\"n\">orient</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"n\">a2</span><span class=\"bp\">=&gt;</span><span class=\"n\">c2</span><span class=\"o\">,</span><span class=\"n\">a3</span><span class=\"bp\">=&gt;</span><span class=\"n\">c3</span><span class=\"o\">,</span><span class=\"n\">a4</span><span class=\"bp\">=&gt;</span><span class=\"n\">c4</span><span class=\"o\">,</span><span class=\"n\">a5</span><span class=\"bp\">=&gt;</span><span class=\"n\">c5</span><span class=\"o\">,</span><span class=\"n\">a6</span><span class=\"bp\">=&gt;</span><span class=\"n\">c6</span><span class=\"o\">,</span><span class=\"n\">a7</span><span class=\"bp\">=&gt;</span><span class=\"n\">c7</span><span class=\"o\">,</span><span class=\"n\">a8</span><span class=\"bp\">=&gt;</span><span class=\"n\">c8</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">f1</span><span class=\"o\">,</span><span class=\"n\">f2</span><span class=\"o\">,</span><span class=\"n\">f3</span><span class=\"o\">,</span><span class=\"n\">f4</span><span class=\"o\">,</span><span class=\"n\">f5</span><span class=\"o\">,</span><span class=\"n\">f6</span><span class=\"o\">,</span><span class=\"n\">f7</span><span class=\"o\">,</span><span class=\"n\">f8</span><span class=\"o\">)</span>\n            <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"n\">d1</span><span class=\"o\">,</span><span class=\"n\">d2</span><span class=\"o\">,</span><span class=\"n\">d3</span><span class=\"o\">,</span><span class=\"n\">d4</span><span class=\"o\">,</span><span class=\"n\">d5</span><span class=\"o\">,</span><span class=\"n\">d6</span><span class=\"o\">,</span><span class=\"n\">d7</span><span class=\"o\">,</span><span class=\"n\">d8</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">mod</span> <span class=\"mi\">3</span><span class=\"o\">)</span>\n      <span class=\"o\">}</span>\n<span class=\"n\">ab</span><span class=\"o\">:{</span>\n      <span class=\"n\">permute</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"n\">a2</span><span class=\"bp\">=&gt;</span><span class=\"n\">c2</span><span class=\"o\">,</span><span class=\"n\">a3</span><span class=\"bp\">=&gt;</span><span class=\"n\">c3</span><span class=\"o\">,</span><span class=\"n\">a4</span><span class=\"bp\">=&gt;</span><span class=\"n\">c4</span><span class=\"o\">,</span><span class=\"n\">a5</span><span class=\"bp\">=&gt;</span><span class=\"n\">c5</span><span class=\"o\">,</span><span class=\"n\">a6</span><span class=\"bp\">=&gt;</span><span class=\"n\">c6</span><span class=\"o\">,</span><span class=\"n\">a7</span><span class=\"bp\">=&gt;</span><span class=\"n\">c7</span><span class=\"o\">,</span><span class=\"n\">a8</span><span class=\"bp\">=&gt;</span><span class=\"n\">c8</span><span class=\"o\">)</span>\n            <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">)</span>\n      <span class=\"n\">orient</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">d1</span><span class=\"o\">,</span><span class=\"n\">d2</span><span class=\"o\">,</span><span class=\"n\">d3</span><span class=\"o\">,</span><span class=\"n\">d4</span><span class=\"o\">,</span><span class=\"n\">d5</span><span class=\"o\">,</span><span class=\"n\">d6</span><span class=\"o\">,</span><span class=\"n\">d7</span><span class=\"o\">,</span><span class=\"n\">d8</span><span class=\"o\">)</span>\n            <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"n\">b1</span><span class=\"o\">,</span><span class=\"n\">b2</span><span class=\"o\">,</span><span class=\"n\">b3</span><span class=\"o\">,</span><span class=\"n\">b4</span><span class=\"o\">,</span><span class=\"n\">b5</span><span class=\"o\">,</span><span class=\"n\">b6</span><span class=\"o\">,</span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"n\">b8</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">mod</span> <span class=\"mi\">3</span><span class=\"o\">)</span>\n      <span class=\"o\">}</span>\n<span class=\"n\">a</span><span class=\"o\">(</span><span class=\"n\">bc</span><span class=\"o\">):{</span>\n      <span class=\"n\">permute</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">)</span>\n      <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"n\">a2</span><span class=\"bp\">=&gt;</span><span class=\"n\">e2</span><span class=\"o\">,</span><span class=\"n\">a3</span><span class=\"bp\">=&gt;</span><span class=\"n\">e3</span><span class=\"o\">,</span><span class=\"n\">a4</span><span class=\"bp\">=&gt;</span><span class=\"n\">e4</span><span class=\"o\">,</span><span class=\"n\">a5</span><span class=\"bp\">=&gt;</span><span class=\"n\">e5</span><span class=\"o\">,</span><span class=\"n\">a6</span><span class=\"bp\">=&gt;</span><span class=\"n\">e6</span><span class=\"o\">,</span><span class=\"n\">a7</span><span class=\"bp\">=&gt;</span><span class=\"n\">e7</span><span class=\"o\">,</span><span class=\"n\">a8</span><span class=\"bp\">=&gt;</span><span class=\"n\">e8</span><span class=\"o\">)</span>\n      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">)</span>\n      <span class=\"n\">orient</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span>\n      <span class=\"o\">((</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"n\">a2</span><span class=\"bp\">=&gt;</span><span class=\"n\">c2</span><span class=\"o\">,</span><span class=\"n\">a3</span><span class=\"bp\">=&gt;</span><span class=\"n\">c3</span><span class=\"o\">,</span><span class=\"n\">a4</span><span class=\"bp\">=&gt;</span><span class=\"n\">c4</span><span class=\"o\">,</span><span class=\"n\">a5</span><span class=\"bp\">=&gt;</span><span class=\"n\">c5</span><span class=\"o\">,</span><span class=\"n\">a6</span><span class=\"bp\">=&gt;</span><span class=\"n\">c6</span><span class=\"o\">,</span><span class=\"n\">a7</span><span class=\"bp\">=&gt;</span><span class=\"n\">c7</span><span class=\"o\">,</span><span class=\"n\">a8</span><span class=\"bp\">=&gt;</span><span class=\"n\">c8</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">f1</span><span class=\"o\">,</span><span class=\"n\">f2</span><span class=\"o\">,</span><span class=\"n\">f3</span><span class=\"o\">,</span><span class=\"n\">f4</span><span class=\"o\">,</span><span class=\"n\">f5</span><span class=\"o\">,</span><span class=\"n\">f6</span><span class=\"o\">,</span><span class=\"n\">f7</span><span class=\"o\">,</span><span class=\"n\">f8</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"n\">d1</span><span class=\"o\">,</span><span class=\"n\">d2</span><span class=\"o\">,</span><span class=\"n\">d3</span><span class=\"o\">,</span><span class=\"n\">d4</span><span class=\"o\">,</span><span class=\"n\">d5</span><span class=\"o\">,</span><span class=\"n\">d6</span><span class=\"o\">,</span><span class=\"n\">d7</span><span class=\"o\">,</span><span class=\"n\">d8</span><span class=\"o\">))</span>\n      <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"n\">b1</span><span class=\"o\">,</span><span class=\"n\">b2</span><span class=\"o\">,</span><span class=\"n\">b3</span><span class=\"o\">,</span><span class=\"n\">b4</span><span class=\"o\">,</span><span class=\"n\">b5</span><span class=\"o\">,</span><span class=\"n\">b6</span><span class=\"o\">,</span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"n\">b8</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">mod</span> <span class=\"mi\">3</span><span class=\"o\">)</span>\n      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">((</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"n\">a2</span><span class=\"bp\">=&gt;</span><span class=\"n\">c2</span><span class=\"o\">,</span><span class=\"n\">a3</span><span class=\"bp\">=&gt;</span><span class=\"n\">c3</span><span class=\"o\">,</span><span class=\"n\">a4</span><span class=\"bp\">=&gt;</span><span class=\"n\">c4</span><span class=\"o\">,</span><span class=\"n\">a5</span><span class=\"bp\">=&gt;</span><span class=\"n\">c5</span><span class=\"o\">,</span><span class=\"n\">a6</span><span class=\"bp\">=&gt;</span><span class=\"n\">c6</span><span class=\"o\">,</span><span class=\"n\">a7</span><span class=\"bp\">=&gt;</span><span class=\"n\">c7</span><span class=\"o\">,</span><span class=\"n\">a8</span><span class=\"bp\">=&gt;</span><span class=\"n\">c8</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">f1</span><span class=\"o\">,</span><span class=\"n\">f2</span><span class=\"o\">,</span><span class=\"n\">f3</span><span class=\"o\">,</span><span class=\"n\">f4</span><span class=\"o\">,</span><span class=\"n\">f5</span><span class=\"o\">,</span><span class=\"n\">f6</span><span class=\"o\">,</span><span class=\"n\">f7</span><span class=\"o\">,</span><span class=\"n\">f8</span><span class=\"o\">))</span>\n      <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">d1</span><span class=\"o\">,</span><span class=\"n\">d2</span><span class=\"o\">,</span><span class=\"n\">d3</span><span class=\"o\">,</span><span class=\"n\">d4</span><span class=\"o\">,</span><span class=\"n\">d5</span><span class=\"o\">,</span><span class=\"n\">d6</span><span class=\"o\">,</span><span class=\"n\">d7</span><span class=\"o\">,</span><span class=\"n\">d8</span><span class=\"o\">)</span>\n      <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"n\">b1</span><span class=\"o\">,</span><span class=\"n\">b2</span><span class=\"o\">,</span><span class=\"n\">b3</span><span class=\"o\">,</span><span class=\"n\">b4</span><span class=\"o\">,</span><span class=\"n\">b5</span><span class=\"o\">,</span><span class=\"n\">b6</span><span class=\"o\">,</span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"n\">b8</span><span class=\"o\">)</span>\n      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">5</span><span class=\"o\">,</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">6</span><span class=\"o\">,</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">7</span><span class=\"o\">,</span><span class=\"n\">a1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">8</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">((</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"n\">c2</span><span class=\"bp\">=&gt;</span><span class=\"n\">a2</span><span class=\"o\">,</span><span class=\"n\">c3</span><span class=\"bp\">=&gt;</span><span class=\"n\">a3</span><span class=\"o\">,</span><span class=\"n\">c4</span><span class=\"bp\">=&gt;</span><span class=\"n\">a4</span><span class=\"o\">,</span><span class=\"n\">c5</span><span class=\"bp\">=&gt;</span><span class=\"n\">a5</span><span class=\"o\">,</span><span class=\"n\">c6</span><span class=\"bp\">=&gt;</span><span class=\"n\">a6</span><span class=\"o\">,</span><span class=\"n\">c7</span><span class=\"bp\">=&gt;</span><span class=\"n\">a7</span><span class=\"o\">,</span><span class=\"n\">c8</span><span class=\"bp\">=&gt;</span><span class=\"n\">a8</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">f1</span><span class=\"o\">,</span><span class=\"n\">f2</span><span class=\"o\">,</span><span class=\"n\">f3</span><span class=\"o\">,</span><span class=\"n\">f4</span><span class=\"o\">,</span><span class=\"n\">f5</span><span class=\"o\">,</span><span class=\"n\">f6</span><span class=\"o\">,</span><span class=\"n\">f7</span><span class=\"o\">,</span><span class=\"n\">f8</span><span class=\"o\">))</span>\n      <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">d1</span><span class=\"o\">,</span><span class=\"n\">d2</span><span class=\"o\">,</span><span class=\"n\">d3</span><span class=\"o\">,</span><span class=\"n\">d4</span><span class=\"o\">,</span><span class=\"n\">d5</span><span class=\"o\">,</span><span class=\"n\">d6</span><span class=\"o\">,</span><span class=\"n\">d7</span><span class=\"o\">,</span><span class=\"n\">d8</span><span class=\"o\">)</span>\n      <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"n\">b1</span><span class=\"o\">,</span><span class=\"n\">b2</span><span class=\"o\">,</span><span class=\"n\">b3</span><span class=\"o\">,</span><span class=\"n\">b4</span><span class=\"o\">,</span><span class=\"n\">b5</span><span class=\"o\">,</span><span class=\"n\">b6</span><span class=\"o\">,</span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"n\">b8</span><span class=\"o\">)</span>\n      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">5</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">6</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">7</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">8</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">f1</span><span class=\"o\">,</span><span class=\"n\">f2</span><span class=\"o\">,</span><span class=\"n\">f3</span><span class=\"o\">,</span><span class=\"n\">f4</span><span class=\"o\">,</span><span class=\"n\">f5</span><span class=\"o\">,</span><span class=\"n\">f6</span><span class=\"o\">,</span><span class=\"n\">f7</span><span class=\"o\">,</span><span class=\"n\">f8</span><span class=\"o\">))</span>\n      <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">d1</span><span class=\"o\">,</span><span class=\"n\">d2</span><span class=\"o\">,</span><span class=\"n\">d3</span><span class=\"o\">,</span><span class=\"n\">d4</span><span class=\"o\">,</span><span class=\"n\">d5</span><span class=\"o\">,</span><span class=\"n\">d6</span><span class=\"o\">,</span><span class=\"n\">d7</span><span class=\"o\">,</span><span class=\"n\">d8</span><span class=\"o\">)</span>\n      <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"n\">b1</span><span class=\"o\">,</span><span class=\"n\">b2</span><span class=\"o\">,</span><span class=\"n\">b3</span><span class=\"o\">,</span><span class=\"n\">b4</span><span class=\"o\">,</span><span class=\"n\">b5</span><span class=\"o\">,</span><span class=\"n\">b6</span><span class=\"o\">,</span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"n\">b8</span><span class=\"o\">)</span>\n      <span class=\"o\">}</span>\n<span class=\"o\">(</span><span class=\"n\">ab</span><span class=\"o\">)</span><span class=\"n\">c</span><span class=\"o\">:{</span>\n      <span class=\"n\">permute</span><span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">)</span>\n            <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"n\">c2</span><span class=\"bp\">=&gt;</span><span class=\"n\">e2</span><span class=\"o\">,</span><span class=\"n\">c3</span><span class=\"bp\">=&gt;</span><span class=\"n\">e3</span><span class=\"o\">,</span><span class=\"n\">c4</span><span class=\"bp\">=&gt;</span><span class=\"n\">e4</span><span class=\"o\">,</span><span class=\"n\">c5</span><span class=\"bp\">=&gt;</span><span class=\"n\">e5</span><span class=\"o\">,</span><span class=\"n\">c6</span><span class=\"bp\">=&gt;</span><span class=\"n\">e6</span><span class=\"o\">,</span><span class=\"n\">c7</span><span class=\"bp\">=&gt;</span><span class=\"n\">e7</span><span class=\"o\">,</span><span class=\"n\">c8</span><span class=\"bp\">=&gt;</span><span class=\"n\">e8</span><span class=\"o\">)</span>\n            <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">e1</span><span class=\"o\">)</span>\n      <span class=\"n\">orient</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span>\n            <span class=\"o\">(</span><span class=\"n\">f1</span><span class=\"o\">,</span><span class=\"n\">f2</span><span class=\"o\">,</span><span class=\"n\">f3</span><span class=\"o\">,</span><span class=\"n\">f4</span><span class=\"o\">,</span><span class=\"n\">f5</span><span class=\"o\">,</span><span class=\"n\">f6</span><span class=\"o\">,</span><span class=\"n\">f7</span><span class=\"o\">,</span><span class=\"n\">f8</span><span class=\"o\">)</span>\n            <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">d1</span><span class=\"o\">,</span><span class=\"n\">d2</span><span class=\"o\">,</span><span class=\"n\">d3</span><span class=\"o\">,</span><span class=\"n\">d4</span><span class=\"o\">,</span><span class=\"n\">d5</span><span class=\"o\">,</span><span class=\"n\">d6</span><span class=\"o\">,</span><span class=\"n\">d7</span><span class=\"o\">,</span><span class=\"n\">d8</span><span class=\"o\">)</span>\n            <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"n\">b1</span><span class=\"o\">,</span><span class=\"n\">b2</span><span class=\"o\">,</span><span class=\"n\">b3</span><span class=\"o\">,</span><span class=\"n\">b4</span><span class=\"o\">,</span><span class=\"n\">b5</span><span class=\"o\">,</span><span class=\"n\">b6</span><span class=\"o\">,</span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"n\">b8</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">mod</span> <span class=\"mi\">3</span><span class=\"o\">)</span>\n      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">c1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">f1</span><span class=\"o\">,</span><span class=\"n\">f2</span><span class=\"o\">,</span><span class=\"n\">f3</span><span class=\"o\">,</span><span class=\"n\">f4</span><span class=\"o\">,</span><span class=\"n\">f5</span><span class=\"o\">,</span><span class=\"n\">f6</span><span class=\"o\">,</span><span class=\"n\">f7</span><span class=\"o\">,</span><span class=\"n\">f8</span><span class=\"o\">)</span>\n      <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">d1</span><span class=\"o\">,</span><span class=\"n\">d2</span><span class=\"o\">,</span><span class=\"n\">d3</span><span class=\"o\">,</span><span class=\"n\">d4</span><span class=\"o\">,</span><span class=\"n\">d5</span><span class=\"o\">,</span><span class=\"n\">d6</span><span class=\"o\">,</span><span class=\"n\">d7</span><span class=\"o\">,</span><span class=\"n\">d8</span><span class=\"o\">)</span>\n      <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"n\">b1</span><span class=\"o\">,</span><span class=\"n\">b2</span><span class=\"o\">,</span><span class=\"n\">b3</span><span class=\"o\">,</span><span class=\"n\">b4</span><span class=\"o\">,</span><span class=\"n\">b5</span><span class=\"o\">,</span><span class=\"n\">b6</span><span class=\"o\">,</span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"n\">b8</span><span class=\"o\">)</span>\n      <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">3</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">4</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">5</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">6</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">7</span><span class=\"o\">,</span><span class=\"n\">c1</span><span class=\"bp\">=&gt;</span><span class=\"mi\">8</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">f1</span><span class=\"o\">,</span><span class=\"n\">f2</span><span class=\"o\">,</span><span class=\"n\">f3</span><span class=\"o\">,</span><span class=\"n\">f4</span><span class=\"o\">,</span><span class=\"n\">f5</span><span class=\"o\">,</span><span class=\"n\">f6</span><span class=\"o\">,</span><span class=\"n\">f7</span><span class=\"o\">,</span><span class=\"n\">f8</span><span class=\"o\">)</span>\n      <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">2</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">3</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">4</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">5</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">6</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">7</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">,</span><span class=\"mi\">8</span><span class=\"bp\">=&gt;</span><span class=\"n\">a1</span><span class=\"o\">)</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"bp\">·</span><span class=\"o\">(</span><span class=\"n\">d1</span><span class=\"o\">,</span><span class=\"n\">d2</span><span class=\"o\">,</span><span class=\"n\">d3</span><span class=\"o\">,</span><span class=\"n\">d4</span><span class=\"o\">,</span><span class=\"n\">d5</span><span class=\"o\">,</span><span class=\"n\">d6</span><span class=\"o\">,</span><span class=\"n\">d7</span><span class=\"o\">,</span><span class=\"n\">d8</span><span class=\"o\">)</span>\n      <span class=\"bp\">+</span> <span class=\"o\">(</span><span class=\"n\">b1</span><span class=\"o\">,</span><span class=\"n\">b2</span><span class=\"o\">,</span><span class=\"n\">b3</span><span class=\"o\">,</span><span class=\"n\">b4</span><span class=\"o\">,</span><span class=\"n\">b5</span><span class=\"o\">,</span><span class=\"n\">b6</span><span class=\"o\">,</span><span class=\"n\">b7</span><span class=\"o\">,</span><span class=\"n\">b8</span><span class=\"o\">)</span>\n      <span class=\"o\">}</span>\n</code></pre></div>",
        "id": 422211312,
        "sender_full_name": "chenjulang",
        "timestamp": 1708341242
    },
    {
        "content": "<p>a(bc) = (ab)c <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 422211628,
        "sender_full_name": "chenjulang",
        "timestamp": 1708341360
    },
    {
        "content": "<p>I got stuck proving the \"orient\" part....... What can i do for the next line?<br>\n<a href=\"/user_uploads/3121/srqg6Nyo9sN8O6XakV7zqUTf/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/srqg6Nyo9sN8O6XakV7zqUTf/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/srqg6Nyo9sN8O6XakV7zqUTf/image.png\"></a></div>",
        "id": 422212187,
        "sender_full_name": "chenjulang",
        "timestamp": 1708341582
    },
    {
        "content": "<p>It is hard for me to read this infos in the Infoview.</p>",
        "id": 422212613,
        "sender_full_name": "chenjulang",
        "timestamp": 1708341743
    },
    {
        "content": "<p>Can you extract a <a href=\"https://leanprover-community.github.io/mwe.html\">#mwe</a> from that? You should be able to ask a question about vectors without mentioning rubik's cubes!</p>",
        "id": 422212935,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1708341861
    },
    {
        "content": "<p>Oh, i will try</p>",
        "id": 422213001,
        "sender_full_name": "chenjulang",
        "timestamp": 1708341899
    },
    {
        "content": "<p>Kevin has a good point with this though:</p>\n<blockquote>\n<p>which I don't know the answer to, because I avoid <code>Vector</code></p>\n</blockquote>\n<p>The preferred way of working with a vector in mathlib is usually <code>Fin n -&gt; A</code> not <code>Vector n A</code></p>",
        "id": 422213137,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1708341946
    },
    {
        "content": "<p>Oh</p>",
        "id": 422213231,
        "sender_full_name": "chenjulang",
        "timestamp": 1708341967
    },
    {
        "content": "<p>Yeah , i have a \"Fin n -&gt; A\" version.Wait...</p>",
        "id": 422213314,
        "sender_full_name": "chenjulang",
        "timestamp": 1708342011
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Lean</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.GroupTheory.Perm.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.GroupTheory.Perm.Fin</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">Equiv</span> <span class=\"n\">Perm</span>\n\n<span class=\"kn\">section</span> <span class=\"n\">RubiksSuperGroup</span>\n\n<span class=\"kd\">instance</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">Repr</span> <span class=\"o\">(</span><span class=\"n\">Perm</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"n\">n</span><span class=\"o\">))</span> <span class=\"o\">:=</span>\n  <span class=\"o\">⟨</span><span class=\"n\">reprPrec</span> <span class=\"bp\">∘</span> <span class=\"n\">Equiv.toFun</span><span class=\"o\">⟩</span>\n\n<span class=\"kd\">instance</span> <span class=\"o\">(</span><span class=\"n\">n</span> <span class=\"o\">:</span> <span class=\"n\">Nat</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">DecidableEq</span> <span class=\"o\">(</span><span class=\"n\">Perm</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"n\">n</span><span class=\"o\">))</span> <span class=\"o\">:=</span>\n  <span class=\"bp\">λ</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">mk.injEq</span> <span class=\"n\">a.toFun</span> <span class=\"n\">a.invFun</span> <span class=\"n\">_</span> <span class=\"n\">_</span> <span class=\"n\">b.toFun</span> <span class=\"n\">b.invFun</span> <span class=\"n\">_</span> <span class=\"n\">_</span> <span class=\"bp\">▸</span> <span class=\"n\">inferInstance</span>\n\n<span class=\"c\">/-</span><span class=\"cm\"> This PieceState structure is used to represent the entire state of both corner pieces and edge pieces.-/</span>\n<span class=\"kd\">structure</span> <span class=\"n\">PieceState</span> <span class=\"o\">(</span><span class=\"n\">pieces</span> <span class=\"n\">orientations</span><span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"bp\">+</span><span class=\"o\">)</span> <span class=\"n\">where</span>\n  <span class=\"n\">permute</span> <span class=\"o\">:</span> <span class=\"n\">Perm</span> <span class=\"o\">(</span><span class=\"n\">Fin</span> <span class=\"n\">pieces</span><span class=\"o\">)</span>\n  <span class=\"n\">orient</span> <span class=\"o\">:</span> <span class=\"n\">Fin</span> <span class=\"n\">pieces</span> <span class=\"bp\">→</span> <span class=\"n\">Fin</span> <span class=\"n\">orientations</span>\n  <span class=\"n\">deriving</span> <span class=\"n\">Repr</span><span class=\"o\">,</span> <span class=\"n\">DecidableEq</span>\n\n<span class=\"kd\">def</span> <span class=\"n\">ps_mul</span> <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"n\">o</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"bp\">+</span><span class=\"o\">}</span> <span class=\"o\">:</span> <span class=\"n\">PieceState</span> <span class=\"n\">p</span> <span class=\"n\">o</span> <span class=\"bp\">→</span> <span class=\"n\">PieceState</span> <span class=\"n\">p</span> <span class=\"n\">o</span> <span class=\"bp\">→</span> <span class=\"n\">PieceState</span> <span class=\"n\">p</span> <span class=\"n\">o</span> <span class=\"o\">:=</span>\n  <span class=\"k\">fun</span> <span class=\"n\">a2</span> <span class=\"n\">a1</span> <span class=\"bp\">=&gt;</span> <span class=\"o\">{</span>\n    <span class=\"n\">permute</span> <span class=\"o\">:=</span> <span class=\"n\">a1.permute</span> <span class=\"bp\">*</span> <span class=\"n\">a2.permute</span>\n    <span class=\"n\">orient</span> <span class=\"o\">:=</span> <span class=\"o\">(</span><span class=\"n\">a2.orient</span> <span class=\"bp\">∘</span> <span class=\"n\">a1.permute.invFun</span><span class=\"o\">)</span> <span class=\"bp\">+</span> <span class=\"n\">a1.orient</span>\n  <span class=\"o\">}</span>\n\n<span class=\"c1\">-- instance: Mul (PieceState p o) := mul</span>\n<span class=\"c1\">--? How can I define multiplication, one, and inverses as implicit components of the PieceState type?</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">ps_mul_assoc</span> <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"n\">o</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"bp\">+</span><span class=\"o\">}</span> <span class=\"o\">:</span>\n<span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"o\">:</span> <span class=\"n\">PieceState</span> <span class=\"n\">p</span> <span class=\"n\">o</span><span class=\"o\">),</span>\n<span class=\"n\">ps_mul</span> <span class=\"n\">c</span> <span class=\"o\">(</span><span class=\"n\">ps_mul</span> <span class=\"n\">b</span> <span class=\"n\">a</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"n\">ps_mul</span> <span class=\"o\">(</span><span class=\"n\">ps_mul</span> <span class=\"n\">c</span> <span class=\"n\">b</span><span class=\"o\">)</span> <span class=\"n\">a</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intro</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span>\n  <span class=\"n\">simp</span> <span class=\"o\">[</span><span class=\"n\">ps_mul</span><span class=\"o\">]</span>\n  <span class=\"n\">apply</span> <span class=\"n\">And.intro</span>\n  <span class=\"bp\">·</span> <span class=\"n\">simp</span> <span class=\"o\">[</span><span class=\"n\">Perm.mul_def</span><span class=\"o\">]</span>\n    <span class=\"n\">simp</span> <span class=\"o\">[</span><span class=\"n\">Equiv.trans_assoc</span><span class=\"o\">]</span>\n  <span class=\"bp\">·</span> <span class=\"gr\">sorry</span>\n</code></pre></div>",
        "id": 422213930,
        "sender_full_name": "chenjulang",
        "timestamp": 1708342229
    },
    {
        "content": "<p>(don't forget <a href=\"https://github.com/leanprover-community/mathlib/wiki/Code-in-backticks\">#backticks</a>)</p>",
        "id": 422215870,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1708343026
    },
    {
        "content": "<p>I Get it <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span>  Thanks for directing me to the correct way.Avoiding Vector</p>",
        "id": 422257574,
        "sender_full_name": "chenjulang",
        "timestamp": 1708356622
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">lemma</span> <span class=\"n\">ps_mul_assoc</span> <span class=\"o\">{</span><span class=\"n\">p</span> <span class=\"n\">o</span> <span class=\"o\">:</span> <span class=\"n\">ℕ</span><span class=\"bp\">+</span><span class=\"o\">}</span> <span class=\"o\">:</span>\n<span class=\"bp\">∀</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span> <span class=\"o\">:</span> <span class=\"n\">PieceState</span> <span class=\"n\">p</span> <span class=\"n\">o</span><span class=\"o\">),</span>\n<span class=\"n\">ps_mul</span> <span class=\"n\">c</span> <span class=\"o\">(</span><span class=\"n\">ps_mul</span> <span class=\"n\">b</span> <span class=\"n\">a</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"n\">ps_mul</span> <span class=\"o\">(</span><span class=\"n\">ps_mul</span> <span class=\"n\">c</span> <span class=\"n\">b</span><span class=\"o\">)</span> <span class=\"n\">a</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intro</span> <span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"n\">c</span>\n  <span class=\"n\">simp</span> <span class=\"o\">[</span><span class=\"n\">ps_mul</span><span class=\"o\">]</span>\n  <span class=\"n\">apply</span> <span class=\"n\">And.intro</span>\n  <span class=\"bp\">·</span> <span class=\"n\">simp</span> <span class=\"o\">[</span><span class=\"n\">Perm.mul_def</span><span class=\"o\">]</span>\n    <span class=\"n\">simp</span> <span class=\"o\">[</span><span class=\"n\">Equiv.trans_assoc</span><span class=\"o\">]</span>\n  <span class=\"bp\">·</span> <span class=\"n\">rw</span> <span class=\"o\">[</span><span class=\"bp\">←</span> <span class=\"n\">add_assoc</span><span class=\"o\">]</span>\n    <span class=\"n\">simp</span> <span class=\"n\">only</span> <span class=\"o\">[</span><span class=\"n\">add_left_inj</span><span class=\"o\">]</span>\n    <span class=\"n\">exact</span> <span class=\"n\">rfl</span>\n  <span class=\"n\">done</span>\n</code></pre></div>",
        "id": 422257617,
        "sender_full_name": "chenjulang",
        "timestamp": 1708356639
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"665035\">chenjulang</span> has marked this topic as resolved.</p>",
        "id": 422257665,
        "sender_full_name": "Notification Bot",
        "timestamp": 1708356655
    },
    {
        "content": "<p>By the way , that's why it can't be proved before, the lemma is wrong there, the order is wrong,<a href=\"https://github.com/AlexDuchnowski/rubiks-cube/blob/main/RubiksCube/RubiksCubeFunc.lean\">https://github.com/AlexDuchnowski/rubiks-cube/blob/main/RubiksCube/RubiksCubeFunc.lean</a><br>\n:<br>\n<a href=\"/user_uploads/3121/M1YZmQ6DUdfKkzxhAppuwjU4/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/M1YZmQ6DUdfKkzxhAppuwjU4/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/M1YZmQ6DUdfKkzxhAppuwjU4/image.png\"></a></div>",
        "id": 422258236,
        "sender_full_name": "chenjulang",
        "timestamp": 1708356853
    },
    {
        "content": "<p>The second parameter of \"ps_mul\" is actually the first Rubik's Cube operation performed.</p>",
        "id": 422258455,
        "sender_full_name": "chenjulang",
        "timestamp": 1708356931
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> has marked this topic as unresolved.</p>",
        "id": 422269835,
        "sender_full_name": "Notification Bot",
        "timestamp": 1708359824
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> has marked this topic as resolved.</p>",
        "id": 422269867,
        "sender_full_name": "Notification Bot",
        "timestamp": 1708359832
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 422352713,
        "sender_full_name": "chenjulang",
        "timestamp": 1708408626
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 422352752,
        "sender_full_name": "chenjulang",
        "timestamp": 1708408676
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 423277156,
        "sender_full_name": "chenjulang",
        "timestamp": 1708880736
    }
]