[
    {
        "content": "<p>i was trying to define <code>Field.div_eq_mul_inv</code> for my own instance of the field of order 4, and got this error...<br>\n<a href=\"/user_uploads/3121/-MH4WpgM25bAsz2lTCoqYANQ/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/-MH4WpgM25bAsz2lTCoqYANQ/image.png\" title=\"image.png\"><img src=\"/user_uploads/3121/-MH4WpgM25bAsz2lTCoqYANQ/image.png\"></a></div><p>could someone explain what i'm doing wrong here?<br>\nfor context: i have the following relevant definitions:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">instance</span> <span class=\"o\">:</span> <span class=\"n\">Inv</span> <span class=\"n\">F4'</span> <span class=\"o\">:=</span> <span class=\"o\">⟨</span><span class=\"k\">fun</span> <span class=\"n\">a</span> <span class=\"bp\">↦</span> <span class=\"o\">⟨</span><span class=\"n\">a.x1</span><span class=\"o\">,</span><span class=\"n\">a.x0</span><span class=\"o\">⟩⟩</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">inv_def</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"o\">:</span> <span class=\"n\">F4'</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">a</span><span class=\"bp\">⁻¹</span> <span class=\"bp\">=</span> <span class=\"o\">⟨</span><span class=\"n\">a.x1</span><span class=\"o\">,</span><span class=\"n\">a.x0</span><span class=\"o\">⟩</span> <span class=\"o\">:=</span> <span class=\"n\">rfl</span>\n</code></pre></div>",
        "id": 418699739,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1706554376
    },
    {
        "content": "<p>nevermind i think i found it</p>",
        "id": 418700044,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1706554515
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684366\">Edward van de Meent</span> has marked this topic as resolved.</p>",
        "id": 418700046,
        "sender_full_name": "Notification Bot",
        "timestamp": 1706554518
    },
    {
        "content": "<p>I think that's another thing you shouldn't be messing with. If you don't define <code>div</code> then lean will define it to be the thing that makes div_eq_mul_inv true by definition</p>",
        "id": 418720939,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1706562592
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Field#doc\">docs#Field</a></p>",
        "id": 418721034,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1706562607
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=DivisionRing#doc\">docs#DivisionRing</a></p>",
        "id": 418721182,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1706562658
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=DivInvMonoid#doc\">docs#DivInvMonoid</a></p>",
        "id": 418721246,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1706562689
    },
    {
        "content": "<p>but then how do i add a theorem like <code>div_def</code>? or is that something that gets defined by default too?</p>",
        "id": 418721484,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1706562797
    },
    {
        "content": "<p>Yeah there it is: <a href=\"https://github.com/leanprover-community/mathlib4/blob/89f9777575aaa0e4190c64c8247b03f7864f67e8/Mathlib%2FAlgebra%2FGroup%2FDefs.lean#L871\">https://github.com/leanprover-community/mathlib4/blob/89f9777575aaa0e4190c64c8247b03f7864f67e8/Mathlib%2FAlgebra%2FGroup%2FDefs.lean#L871</a> the division and inverse are coming from an object called a DivInvMonoid, and that definition of <code>div</code> has a <code>:=</code> after it, which means \"don't worry, I'll handle this\"</p>",
        "id": 418721512,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1706562811
    },
    {
        "content": "<p>right.... how do i read in the docs that this has a default? and what that default is?</p>",
        "id": 418721793,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1706562927
    },
    {
        "content": "<p>Oh I wasn't reading the docs :-) I was clicking on \"source\" to read the actual code. I don't know how to do this from the docs. I completely appreciate that you are not able to do what looks like a simple mathematical thing because there are tricks and traps which may not be documented anywhere. I kept looking at the source code (because I'm on mobile right now) until I found the thing supplying Div and then I looked at the fields to see which had <code>:=</code> after them.</p>",
        "id": 418722101,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1706563059
    },
    {
        "content": "<p>Hardly beginner friendly!</p>",
        "id": 418722126,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1706563072
    }
]