[
    {
        "content": "<p>Hi all, I saw an example and was confused. </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">12</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">^</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"n\">y</span><span class=\"bp\">^</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">14</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp_all</span>\n</code></pre></div>\n<p>Why is there a contradiction? There is a solution for the equations.</p>\n<p>By the way, I tried to understood how it works by <code>simp_all</code> here with <code>show_term</code> as</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"bp\">^</span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"mi\">12</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h₂</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">^</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"bp\">/</span><span class=\"n\">y</span><span class=\"bp\">^</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">14</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">show_term</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">simp_all</span><span class=\"w\"> </span><span class=\"o\">}</span>\n</code></pre></div>\n<p>And I saw </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Try</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">exact</span>\n<span class=\"w\">    </span><span class=\"n\">False</span><span class=\"bp\">.</span><span class=\"n\">elim</span>\n<span class=\"w\">      </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">mp</span>\n<span class=\"w\">        </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">trans</span>\n<span class=\"w\">          </span><span class=\"o\">(</span><span class=\"n\">congrArg</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">14</span><span class=\"o\">)</span>\n<span class=\"w\">            </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">trans</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"n\">congr</span>\n<span class=\"w\">                </span><span class=\"o\">(</span><span class=\"n\">congrArg</span><span class=\"w\"> </span><span class=\"n\">HSub</span><span class=\"bp\">.</span><span class=\"n\">hSub</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">trans</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">congrArg</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">id</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">mp</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">congrArg</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">pow_zero</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">h₁</span><span class=\"o\">)))</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">one_pow</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)))</span>\n<span class=\"w\">                </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">trans</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">congrArg</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">HDiv</span><span class=\"bp\">.</span><span class=\"n\">hDiv</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">trans</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">congrArg</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">id</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">mp</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">congrArg</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">pow_zero</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">h₁</span><span class=\"o\">)))</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">one_pow</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)))</span>\n<span class=\"w\">                  </span><span class=\"o\">(</span><span class=\"n\">div_self</span>\n<span class=\"w\">                    </span><span class=\"o\">(</span><span class=\"n\">of_eq_true</span>\n<span class=\"w\">                      </span><span class=\"o\">(</span><span class=\"n\">Eq</span><span class=\"bp\">.</span><span class=\"n\">trans</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">congrArg</span><span class=\"w\"> </span><span class=\"n\">Not</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">NeZero</span><span class=\"bp\">._</span><span class=\"n\">auxLemma</span><span class=\"bp\">.</span><span class=\"m\">4</span><span class=\"o\">)</span>\n<span class=\"w\">                        </span><span class=\"n\">not_false_eq_true</span><span class=\"o\">)))))</span>\n<span class=\"w\">              </span><span class=\"o\">(</span><span class=\"n\">sub_self</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)))</span>\n<span class=\"w\">          </span><span class=\"o\">(</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">CharZero</span><span class=\"bp\">.</span><span class=\"n\">Defs</span><span class=\"bp\">._</span><span class=\"n\">auxLemma</span><span class=\"bp\">.</span><span class=\"m\">8</span><span class=\"w\"> </span><span class=\"mi\">14</span><span class=\"o\">))</span>\n<span class=\"w\">        </span><span class=\"n\">h₂</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>I don't quite understand what it means.</p>",
        "id": 444456523,
        "sender_full_name": "Sam",
        "timestamp": 1718282598
    },
    {
        "content": "<p>I believe that 1/12 is the division for natural numbers, so 1/12 = 0.</p>",
        "id": 444459322,
        "sender_full_name": "Thomas Lanard",
        "timestamp": 1718283454
    },
    {
        "content": "<p>In this case, you can get probably a better idea of what is going on by doing the following:</p>",
        "id": 444459400,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1718283481
    },
    {
        "content": "<p>first, use <code>subst h₁</code> to eliminate <code>y</code>.  Then <code>simp at h₂</code> closes the goal, but <code>simp? at h₂</code> will tell you which lemmas it used.</p>",
        "id": 444459597,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1718283539
    },
    {
        "content": "<p>Now you can inspect the lemmas that it gives you and indeed notice that the exponents get replaced by <code>0</code> with <code>simp only [Nat.reduceDiv] at h₂</code>.</p>",
        "id": 444460025,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1718283655
    },
    {
        "content": "<p>Very generally, <code>show_term</code> is rarely useful, unless you can really see through a lot of stuff.  Normally, proofs that are produced by tactics have really complicated terms.  If a tactic has a <code>?</code> flag that can be used, that is normally much more informative than <code>show_term</code>.</p>",
        "id": 444460442,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1718283763
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"666481\">Thomas Lanard</span> <a href=\"#narrow/stream/113489-new-members/topic/Why.20is.20there.20a.20contradiction.3F/near/444459322\">said</a>:</p>\n<blockquote>\n<p>I believe that 1/12 is the division for natural numbers, so 1/12 = 0.</p>\n</blockquote>\n<p>Oh, so there are also such kind of errors due to wrong types. Thank you, Thomas!</p>",
        "id": 444464472,
        "sender_full_name": "Sam",
        "timestamp": 1718284965
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/stream/113489-new-members/topic/Why.20is.20there.20a.20contradiction.3F/near/444459400\">said</a>:</p>\n<blockquote>\n<p>In this case, you can get probably a better idea of what is going on by doing the following:</p>\n</blockquote>\n<p>Thank you Damiano for your really comprehensive answer! I will try it.</p>",
        "id": 444464705,
        "sender_full_name": "Sam",
        "timestamp": 1718285040
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"728458\">Sam</span> has marked this topic as resolved.</p>",
        "id": 444464820,
        "sender_full_name": "Notification Bot",
        "timestamp": 1718285066
    }
]