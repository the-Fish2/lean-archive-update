[
    {
        "content": "<p>Hi, I am trying to define relations between sets in a topological space. Intziitively, I would write code as follows to express that a set s1 is in the neighbourhood filter of a point p in the relative topology on a subset s2 of the entire space. The code, of coures, does not work, and probably it is wrong in many other ways. But what is the right way to work with relative topology? Thanks for a hint.</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">def</span> <span class=\"n\">example_nhd</span>\n  <span class=\"o\">{</span><span class=\"n\">X</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span> <span class=\"n\">X</span><span class=\"o\">]</span>\n  <span class=\"o\">(</span><span class=\"n\">s1</span> <span class=\"n\">s2</span><span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hsub</span> <span class=\"o\">:</span> <span class=\"n\">s1</span> <span class=\"bp\">⊆</span> <span class=\"n\">s2</span><span class=\"o\">)</span>\n  <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"o\">:</span> <span class=\"n\">X</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hpin1</span> <span class=\"o\">:</span> <span class=\"n\">p</span> <span class=\"bp\">∈</span> <span class=\"n\">s1</span><span class=\"o\">)</span> <span class=\"o\">:=</span> <span class=\"n\">s1</span> <span class=\"bp\">∈</span> <span class=\"n\">nhds_induced</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">s</span> <span class=\"o\">:</span> <span class=\"n\">s1</span> <span class=\"bp\">=&gt;</span> <span class=\"bp\">↑</span><span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"o\">⟨</span><span class=\"n\">p</span><span class=\"o\">,</span> <span class=\"n\">hpin1</span><span class=\"o\">⟩</span>\n</code></pre></div>",
        "id": 435608798,
        "sender_full_name": "Stephan Maier",
        "timestamp": 1714145336
    },
    {
        "content": "<p>The idiomatic way to do this would be to use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=nhdsWithin#doc\">docs#nhdsWithin</a>, which gives the filter of neighborhoods of a point inside a subset.</p>",
        "id": 435609736,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1714145627
    },
    {
        "content": "<p>You can also consider <code>s2</code> itself as a topological space, and your condition becomes that the preimage by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Subtype.val#doc\">docs#Subtype.val</a> of <code>s1</code> is a neighborhood of <code>p</code>. Then you can use the usual <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=nhds#doc\">docs#nhds</a></p>",
        "id": 435610066,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1714145724
    },
    {
        "content": "<p>But the <code>nhdsWithin</code> approach will probably be easier</p>",
        "id": 435610138,
        "sender_full_name": "Anatole Dedecker",
        "timestamp": 1714145745
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"268315\">Anatole Dedecker</span> <a href=\"#narrow/stream/113489-new-members/topic/Express.20membership.20of.20neighbourhood.20filter.20in.20rel.2E.20topology/near/435609736\">said</a>:</p>\n<blockquote>\n<p>The idiomatic way to do this would be to use <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=nhdsWithin#doc\">docs#nhdsWithin</a>, which gives the filter of neighborhoods of a point inside a subset.</p>\n</blockquote>\n<p>Thanks a lot, that looks like the way to procede! Yours, Stephan</p>",
        "id": 435624039,
        "sender_full_name": "Stephan Maier",
        "timestamp": 1714150045
    }
]