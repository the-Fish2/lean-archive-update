[
    {
        "content": "<p>The following is a simple proof that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>−</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><msup><mi>a</mi><mn>2</mn></msup><mo>−</mo><msup><mi>b</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">(a-b)(a+b)=a^2-b^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8974em;vertical-align:-0.0833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo>∈</mo><mi mathvariant=\"normal\">Z</mi></mrow><annotation encoding=\"application/x-tex\">a,b \\in ℤ</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord amsrm\">Z</span></span></span></span>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- 04 - Simple Algebra</span>\n\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">calc</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">    </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n</code></pre></div>\n<p>If I deliberately change <code>{a b : ℤ}</code> to <code>{a b : ℕ}</code> lean throws errors:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>04_algebra.lean:7:52\nTry this: ring_nf\n04_algebra.lean:7:49\nunsolved goals\na b : ℕ\n⊢ (a - b) * a + (a - b) * b = a * b + (a ^ 2 - a * b) - b ^ 2\n</code></pre></div>\n<p><strong>Question:</strong> Is Lean really catching the fact that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>−</mo><mi>b</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(a-b)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span></span></span></span> does not make sense if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi><mo>&gt;</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">b&gt;a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span>, because natural numbers can't be negative integers?</p>\n<p>The error messages don't make it clear what Lean actually found to be problematic. I am really hoping Lean caught the case that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi><mo>&gt;</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">b&gt;a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> is not valid in ℕ.</p>",
        "id": 448314342,
        "sender_full_name": "rzeta0",
        "timestamp": 1719836522
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"724904\">rzeta0</span> <a href=\"#narrow/stream/113489-new-members/topic/is.20lean.20really.20catching.20that.20.24.24n.20.5Cin.20.E2.84.95.20.E2.89.A5.200.24.24.20.3F/near/448314342\">said</a>:</p>\n<blockquote>\n<p>The following is a simple proof that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>−</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><msup><mi>a</mi><mn>2</mn></msup><mo>−</mo><msup><mi>b</mi><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">(a-b)(a+b)=a^2-b^2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8974em;vertical-align:-0.0833em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span></span> for <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo>∈</mo><mi mathvariant=\"normal\">Z</mi></mrow><annotation encoding=\"application/x-tex\">a,b \\in ℤ</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">∈</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6889em;\"></span><span class=\"mord amsrm\">Z</span></span></span></span>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"c1\">-- 04 - Simple Algebra</span>\n\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℤ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">calc</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">*</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n<span class=\"w\">    </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"bp\">^</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n</code></pre></div>\n<p>If I deliberately change <code>{a b : ℤ}</code> to <code>{a b : ℕ}</code> lean throws errors:</p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code>04_algebra.lean:7:52\nTry this: ring_nf\n04_algebra.lean:7:49\nunsolved goals\na b : ℕ\n⊢ (a - b) * a + (a - b) * b = a * b + (a ^ 2 - a * b) - b ^ 2\n</code></pre></div>\n<p><strong>Question:</strong> Is Lean really catching the fact that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>−</mo><mi>b</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(a-b)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span></span></span></span> does not make sense if <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi><mo>&gt;</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">b&gt;a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span>, because natural numbers can't be negative integers?</p>\n<p>The error messages don't make it clear what Lean actually found to be problematic. I am really hoping Lean caught the case that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi><mo>&gt;</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">b&gt;a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7335em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> is not valid in ℕ.</p>\n</blockquote>\n<p>If I'm correct (but someone more experienced should verify this) subtraction of natural numbers is defined with junk values if $b &gt; a$. </p>\n<p>Judging by the error, what Lean is picking up is that <code>ring</code> can't close the goal in <code>N</code>, which I think is either because <code>N</code> is not a ring or because of these junk values.</p>",
        "id": 448315803,
        "sender_full_name": "Josha Dekker",
        "timestamp": 1719836910
    },
    {
        "content": "<p>I'm having a <a href=\"#narrow/stream/113489-new-members/topic/not.20understanding.20deliberate.20error.20with.20.60ring.60.20over.20.E2.84.95\">déjà vu</a>... <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 448316423,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1719837066
    },
    {
        "content": "<p>Substraction when <code>b &gt; a</code> is defined to be 0 rather than some arbitrary junk value.</p>",
        "id": 448316446,
        "sender_full_name": "Giacomo Stevanato",
        "timestamp": 1719837073
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"728068\">Giacomo Stevanato</span> <a href=\"#narrow/stream/113489-new-members/topic/is.20lean.20really.20catching.20that.20.24.24n.20.5Cin.20.E2.84.95.20.E2.89.A5.200.24.24.20.3F/near/448316446\">said</a>:</p>\n<blockquote>\n<p>Substraction when <code>b &gt; a</code> is defined to be 0 rather than some arbitrary junk value.</p>\n</blockquote>\n<p>While I agree with the sentiment, I still feel that <code>1 - 2 = 0</code> is a <em>pretty</em> junk value...</p>",
        "id": 448316611,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1719837117
    },
    {
        "content": "<p>Yeah, I'm not saying it is well defined, rather that it could be junkier (e.g. some seemingly random and implementation defined value)</p>",
        "id": 448317091,
        "sender_full_name": "Giacomo Stevanato",
        "timestamp": 1719837190
    },
    {
        "content": "<p>You can still reason about such subtraction operation, it just won't be the natural one.</p>",
        "id": 448317222,
        "sender_full_name": "Giacomo Stevanato",
        "timestamp": 1719837224
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"724904\">@rzeta0</span> The short answer is just to avoid using subtraction on natural numbers. What you would obtain is probably not you think. If you want to know more there are a lot of threads on Zulip about this.</p>",
        "id": 448319839,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1719837962
    },
    {
        "content": "<p>so just to refocus on the actual question - is Lean catching this because</p>\n<p>(a) ℕ is not a ring <br>\n(b) something else (I don't understand junk values)</p>\n<p>I'm hoping the answer is (a). </p>\n<p>Why?</p>\n<p>Because I would hope a theorem prover actually catches or cautions against the use of subtraction when the results might not be in the defined set of numbers.</p>",
        "id": 448336840,
        "sender_full_name": "rzeta0",
        "timestamp": 1719841768
    },
    {
        "content": "<p>It is catching the issue because there is no <code>Ring ℕ</code> instance</p>",
        "id": 448337989,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1719841933
    },
    {
        "content": "<p>The point is that the result <em>is</em> in <code>ℕ</code>, always.</p>",
        "id": 448339786,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1719842189
    },
    {
        "content": "<p>Yaël, Riccardo - thanks for trying to help. You'll have to forgive me I am not mathematically trained (and my coding is not expert either). Can I check then:</p>\n<p>Yaël - There is no Ring ℕ instance means that within mathlib there is no definition of ℕ as a ring. Which to me sounds like primarily \"N is not a ring under addition/subtraction\" and so secondarily nobody implemented it as a Ring in mathlib. Is this correct? </p>\n<p>Riccardo - I'm not clear on what. you mean by \"the result <em>is</em> in ℕ always\". Are you saying the because the result of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>−</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">a-b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span> might <em>not</em> be in ℕ, that is the reason it fails. In which case you're saying the same thing as (a). Am I right?</p>\n<p>Thanks for your patience :)</p>",
        "id": 448343641,
        "sender_full_name": "rzeta0",
        "timestamp": 1719842818
    },
    {
        "content": "<p><code>ℕ</code> is what is called a <em>semiring</em>: in a ring every element needs to have an additive inverse, so <code>ℕ</code> is not a ring.</p>",
        "id": 448344330,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1719842952
    },
    {
        "content": "<p>I mean that in Lean <code>3 - 5 = 0</code>, and everything is in <code>ℕ</code>.</p>",
        "id": 448344408,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1719842973
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"724904\">rzeta0</span> <a href=\"#narrow/stream/113489-new-members/topic/is.20lean.20really.20catching.20that.20.24.24n.20.5Cin.20.E2.84.95.20.E2.89.A5.200.24.24.20.3F/near/448343641\">said</a>:</p>\n<blockquote>\n<p>Yaël - There is no Ring ℕ instance means that within mathlib there is no definition of ℕ as a ring. Which to me sounds like primarily \"N is not a ring under addition/subtraction\" and so secondarily nobody implemented it as a Ring in mathlib. Is this correct?</p>\n</blockquote>\n<p>Yes, that is correct. Note that no one is stopping you from writing an instance of <code>Ring ℕ</code> but, as you note, it would need to have a different addition/subtraction than what is currently provided.</p>",
        "id": 448344425,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1719842977
    },
    {
        "content": "<p>This may look very strange, but as I said beginners should just ignore it, and not use subtraction of natural numbers (if you're curious just look at any of the various discussions about this).</p>",
        "id": 448344688,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1719843043
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/stream/113489-new-members/topic/is.20lean.20really.20catching.20that.20.24.24n.20.5Cin.20.E2.84.95.20.E2.89.A5.200.24.24.20.3F/near/448316611\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"728068\">Giacomo Stevanato</span> <a href=\"#narrow/stream/113489-new-members/topic/is.20lean.20really.20catching.20that.20.24.24n.20.5Cin.20.E2.84.95.20.E2.89.A5.200.24.24.20.3F/near/448316446\">said</a>:</p>\n<blockquote>\n<p>Substraction when <code>b &gt; a</code> is defined to be 0 rather than some arbitrary junk value.</p>\n</blockquote>\n<p>While I agree with the sentiment, I still feel that <code>1 - 2 = 0</code> is a <em>pretty</em> junk value...</p>\n</blockquote>\n<p>I do believe that truncated subtraction (<a href=\"https://en.wikipedia.org/wiki/Monus#Natural_numbers\">https://en.wikipedia.org/wiki/Monus#Natural_numbers</a>) is occasionally useful.</p>",
        "id": 448345300,
        "sender_full_name": "Bbbbbbbbba",
        "timestamp": 1719843219
    },
    {
        "content": "<p>Hi Riccardo - \"beginners should not use subtraction of natural numbers\" feels like a huge request  :)</p>\n<p>In fact it feels counter-intuitive. I suspect I have lots to learn ... and when I reach nirvana, I will understand why I can't subtract two natural numbers! :)</p>",
        "id": 448346128,
        "sender_full_name": "rzeta0",
        "timestamp": 1719843443
    },
    {
        "content": "<p>hi <span class=\"user-mention\" data-user-id=\"726649\">@Bbbbbbbbba</span>  - should a different symbol be used for monus?</p>",
        "id": 448346320,
        "sender_full_name": "rzeta0",
        "timestamp": 1719843485
    },
    {
        "content": "<p>There are really <em>a lot</em> of threads about this. For example <a href=\"#narrow/stream/113489-new-members/topic/why.20doesn't.20this.20fail.3F.20.28beginner.20example.29\">this</a> one</p>",
        "id": 448346902,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1719843624
    },
    {
        "content": "<p>Introducing a monus symbol is actually an interesting proposal</p>",
        "id": 448347127,
        "sender_full_name": "Bbbbbbbbba",
        "timestamp": 1719843676
    },
    {
        "content": "<p>∸ is a Unicode symbol and I think its meaning is pretty established</p>",
        "id": 448347741,
        "sender_full_name": "Bbbbbbbbba",
        "timestamp": 1719843821
    },
    {
        "content": "<p>This has already been discussed, the main problem is what to do with the <code>-</code> symbol.</p>",
        "id": 448347862,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1719843848
    },
    {
        "content": "<p>Let's try to not replicate the other thread :)</p>",
        "id": 448347972,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1719843879
    }
]