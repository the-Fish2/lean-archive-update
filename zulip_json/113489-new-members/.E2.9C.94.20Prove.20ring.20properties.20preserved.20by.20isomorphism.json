[
    {
        "content": "<p>Hi everyone,<br>\nI am trying to show that if there is a ring isomorphism between A and B, then B has a structure of DVR if A does. Is there a good way of doing this?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">variable</span> <span class=\"o\">{</span><span class=\"n\">A</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">CommRing</span> <span class=\"n\">A</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">IsDomain</span> <span class=\"n\">A</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">DiscreteValuationRing</span> <span class=\"n\">A</span><span class=\"o\">]</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">discreteValuationRing_ofEquiv</span> <span class=\"o\">{</span><span class=\"n\">B</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">CommRing</span> <span class=\"n\">B</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">IsDomain</span> <span class=\"n\">B</span><span class=\"o\">]</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">A</span> <span class=\"bp\">â‰ƒ+*</span> <span class=\"n\">B</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">DiscreteValuationRing</span> <span class=\"n\">B</span> <span class=\"o\">:=</span> <span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>More generally, is there a common way of treating properties preserved by ring isomorphism? (Almost all commutative algebra results are preserved by ring isomorphism.)</p>",
        "id": 438306100,
        "sender_full_name": "Jiang Jiedong",
        "timestamp": 1715589792
    },
    {
        "content": "<blockquote>\n<p>More generally, is there a common way of treating properties preserved by ring isomorphism?</p>\n</blockquote>\n<p>Many such results are also preserved by ring surjection / ring injection</p>",
        "id": 438306578,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1715589919
    },
    {
        "content": "<p>But not this one.</p>",
        "id": 438306618,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1715589929
    },
    {
        "content": "<p>(which can sometimes help find the result in the library)</p>",
        "id": 438306629,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1715589933
    },
    {
        "content": "<p>There was talk of a tactic which did this sort of thing but I think that right now if it's not there already you just need to build it by hand. Normally this is very straightforward. Look out for sub-results which are already there (and keep in mind Eric's comment!)</p>",
        "id": 438306887,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1715590002
    },
    {
        "content": "<p>You should probably try to build the base-classes of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=DiscreteValuationRing#doc\">docs#DiscreteValuationRing</a> first</p>",
        "id": 438307941,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1715590334
    },
    {
        "content": "<p>Thanks! I think I'll build it by hand then. I've found <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/PrincipalIdealDomain.html#IsPrincipalIdealRing.of_surjective\">IsPrincipalIdealRing.of_surjective</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/Ideal/LocalRing.html#LocalRing.of_surjective\">LocalRing.of_surjective</a></p>",
        "id": 438308539,
        "sender_full_name": "Jiang Jiedong",
        "timestamp": 1715590540
    },
    {
        "content": "<p>IsPrincipalIdealRing should be preserved by surjections. LocalRing is more interesting: it's not true that being a local ring is preserved under injections or surjections (because the zero ring), but having &lt;= 1 maximal ideal is preserved under surjections, and being nontrivial is preserved under injections</p>",
        "id": 438308551,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1715590544
    },
    {
        "content": "<p>Oh, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LocalRing.of_surjective#doc\">docs#LocalRing.of_surjective</a> is definitely a better approach :-)</p>",
        "id": 438308771,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1715590599
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"611077\">Jiang Jiedong</span> has marked this topic as resolved.</p>",
        "id": 438309052,
        "sender_full_name": "Notification Bot",
        "timestamp": 1715590693
    }
]