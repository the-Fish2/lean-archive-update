[
    {
        "content": "<p>Hi all -- I tried to update mathlib and seem to have broken things.</p>\n<p>What I did : lake update (that was supposed to be lake update mathlib, I believe. oops)</p>\n<p>That gave me some kind of error, so I pasted the new version info into lean-toolchain</p>\n<p>and ran \"lake update\" again</p>\n<p>Now everything in VSCode is in red, and I'm getting the following errors:</p>",
        "id": 444924346,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1718497931
    },
    {
        "content": "<p>in terminal:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">hannahfechtner</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">knotthings</span><span class=\"bp\">/</span><span class=\"n\">knot_project</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"mf\">8.6</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">apple</span><span class=\"bp\">-</span><span class=\"n\">darwin23</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">libcurl</span><span class=\"bp\">/</span><span class=\"mf\">8.6</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">SecureTransport</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">LibreSSL</span><span class=\"bp\">/</span><span class=\"mf\">3.3</span><span class=\"bp\">.</span><span class=\"m\">6</span><span class=\"w\"> </span><span class=\"n\">zlib</span><span class=\"bp\">/</span><span class=\"mf\">1.2</span><span class=\"bp\">.</span><span class=\"m\">12</span><span class=\"w\"> </span><span class=\"n\">nghttp2</span><span class=\"bp\">/</span><span class=\"mf\">1.61</span><span class=\"bp\">.</span><span class=\"m\">0</span>\n<span class=\"n\">Release</span><span class=\"bp\">-</span><span class=\"n\">Date</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"bp\">-</span><span class=\"mi\">01</span><span class=\"bp\">-</span><span class=\"mi\">31</span>\n<span class=\"n\">Protocols</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">ftp</span><span class=\"w\"> </span><span class=\"n\">ftps</span><span class=\"w\"> </span><span class=\"n\">gopher</span><span class=\"w\"> </span><span class=\"n\">gophers</span><span class=\"w\"> </span><span class=\"n\">http</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"w\"> </span><span class=\"n\">imap</span><span class=\"w\"> </span><span class=\"n\">imaps</span><span class=\"w\"> </span><span class=\"n\">ipfs</span><span class=\"w\"> </span><span class=\"n\">ipns</span><span class=\"w\"> </span><span class=\"n\">ldap</span><span class=\"w\"> </span><span class=\"n\">ldaps</span><span class=\"w\"> </span><span class=\"n\">mqtt</span><span class=\"w\"> </span><span class=\"n\">pop3</span><span class=\"w\"> </span><span class=\"n\">pop3s</span><span class=\"w\"> </span><span class=\"n\">rtsp</span><span class=\"w\"> </span><span class=\"n\">smb</span><span class=\"w\"> </span><span class=\"n\">smbs</span><span class=\"w\"> </span><span class=\"n\">smtp</span><span class=\"w\"> </span><span class=\"n\">smtps</span><span class=\"w\"> </span><span class=\"n\">telnet</span><span class=\"w\"> </span><span class=\"n\">tftp</span>\n<span class=\"n\">Features</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">alt</span><span class=\"bp\">-</span><span class=\"n\">svc</span><span class=\"w\"> </span><span class=\"n\">AsynchDNS</span><span class=\"w\"> </span><span class=\"n\">GSS</span><span class=\"bp\">-</span><span class=\"n\">API</span><span class=\"w\"> </span><span class=\"n\">HSTS</span><span class=\"w\"> </span><span class=\"n\">HTTP2</span><span class=\"w\"> </span><span class=\"n\">HTTPS</span><span class=\"bp\">-</span><span class=\"n\">proxy</span><span class=\"w\"> </span><span class=\"n\">IPv6</span><span class=\"w\"> </span><span class=\"n\">Kerberos</span><span class=\"w\"> </span><span class=\"n\">Largefile</span><span class=\"w\"> </span><span class=\"n\">libz</span><span class=\"w\"> </span><span class=\"n\">MultiSSL</span><span class=\"w\"> </span><span class=\"n\">NTLM</span><span class=\"w\"> </span><span class=\"n\">NTLM_WB</span><span class=\"w\"> </span><span class=\"n\">SPNEGO</span><span class=\"w\"> </span><span class=\"n\">SSL</span><span class=\"w\"> </span><span class=\"n\">threadsafe</span><span class=\"w\"> </span><span class=\"n\">UnixSockets</span>\n\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">hannahfechtner</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">knotthings</span><span class=\"bp\">/</span><span class=\"n\">knot_project</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">2.15</span><span class=\"bp\">.</span><span class=\"m\">0</span>\n\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">hannahfechtner</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">knotthings</span><span class=\"bp\">/</span><span class=\"n\">knot_project</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.8</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">apple</span><span class=\"bp\">-</span><span class=\"n\">darwin22</span><span class=\"bp\">.</span><span class=\"m\">6</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"n\">dcccfb73cb24</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Release</span><span class=\"o\">)</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">hannahfechtner</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">knotthings</span><span class=\"bp\">/</span><span class=\"n\">knot_project</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">elan</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">elan</span><span class=\"w\"> </span><span class=\"mf\">3.1</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">71</span><span class=\"n\">ddc6633</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"bp\">-</span><span class=\"mi\">02</span><span class=\"bp\">-</span><span class=\"mi\">22</span><span class=\"o\">)</span>\n\n\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">hannahfechtner</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">knotthings</span><span class=\"bp\">/</span><span class=\"n\">knot_project</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.8</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">apple</span><span class=\"bp\">-</span><span class=\"n\">darwin22</span><span class=\"bp\">.</span><span class=\"m\">6</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"n\">dcccfb73cb24</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Release</span><span class=\"o\">)</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">hannahfechtner</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">knotthings</span><span class=\"bp\">/</span><span class=\"n\">knot_project</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">Lake</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">5.0</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">dcccfb7</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.8</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span><span class=\"o\">)</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">hannahfechtner</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.8.0-rc1/src/lean&gt; lean --version</span>\n<span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.8</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">apple</span><span class=\"bp\">-</span><span class=\"n\">darwin22</span><span class=\"bp\">.</span><span class=\"m\">6</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"n\">dcccfb73cb24</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Release</span><span class=\"o\">)</span>\n<span class=\"o\">[</span><span class=\"n\">Error</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">12</span><span class=\"o\">:</span><span class=\"mi\">37</span><span class=\"o\">:</span><span class=\"mi\">23</span><span class=\"w\"> </span><span class=\"n\">PM</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Request</span><span class=\"w\"> </span><span class=\"n\">textDocument</span><span class=\"bp\">/</span><span class=\"n\">codeAction</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"bp\">.</span>\n<span class=\"w\">  </span><span class=\"n\">Message</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">elaboration</span><span class=\"w\"> </span><span class=\"n\">interrupted</span>\n<span class=\"w\">  </span><span class=\"n\">Code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">32603</span>\n<span class=\"o\">[</span><span class=\"n\">Error</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">:</span><span class=\"mi\">02</span><span class=\"o\">:</span><span class=\"mi\">26</span><span class=\"w\"> </span><span class=\"n\">PM</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Request</span><span class=\"w\"> </span><span class=\"n\">textDocument</span><span class=\"bp\">/</span><span class=\"n\">completion</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"bp\">.</span>\n<span class=\"w\">  </span><span class=\"n\">Message</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">elaboration</span><span class=\"w\"> </span><span class=\"n\">interrupted</span>\n<span class=\"w\">  </span><span class=\"n\">Code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">32603</span>\n<span class=\"o\">[</span><span class=\"n\">Error</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"o\">:</span><span class=\"mi\">30</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"n\">PM</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">Request</span><span class=\"w\"> </span><span class=\"n\">textDocument</span><span class=\"bp\">/</span><span class=\"n\">codeAction</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"bp\">.</span>\n<span class=\"w\">  </span><span class=\"n\">Message</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">elaboration</span><span class=\"w\"> </span><span class=\"n\">interrupted</span>\n<span class=\"w\">  </span><span class=\"n\">Code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">32603</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">hannahfechtner</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">knotthings</span><span class=\"bp\">/</span><span class=\"n\">knot_project</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">downloading</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">lean'</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">installing</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">lean'</span>\n<span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.9</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">apple</span><span class=\"bp\">-</span><span class=\"n\">darwin22</span><span class=\"bp\">.</span><span class=\"m\">6</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"n\">be6c4894e0a6</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Release</span><span class=\"o\">)</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">hannahfechtner</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">knotthings</span><span class=\"bp\">/</span><span class=\"n\">knot_project</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">Lake</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">5.0</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">be6c489</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.9</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc1</span><span class=\"o\">)</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././</span><span class=\"n\">lakefile</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">79</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kd\">@[</span><span class=\"n\">test_runner</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">been</span><span class=\"w\"> </span><span class=\"n\">deprecated</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"kd\">@[</span><span class=\"n\">test_driver</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"n\">instead</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">././.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">batteries</span><span class=\"bp\">/</span><span class=\"n\">lakefile</span><span class=\"bp\">.</span><span class=\"n\">lean</span><span class=\"o\">:</span><span class=\"mi\">24</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kd\">@[</span><span class=\"n\">test_runner</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">been</span><span class=\"w\"> </span><span class=\"n\">deprecated</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"kd\">@[</span><span class=\"n\">test_driver</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"n\">instead</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">hannahfechtner</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">knotthings</span><span class=\"bp\">/</span><span class=\"n\">knot_project</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">downloading</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">lean'</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">installing</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">lean'</span>\n<span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.8</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">apple</span><span class=\"bp\">-</span><span class=\"n\">darwin22</span><span class=\"bp\">.</span><span class=\"m\">6</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"mi\">873</span><span class=\"n\">ef2d894af</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Release</span><span class=\"o\">)</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">hannahfechtner</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">knotthings</span><span class=\"bp\">/</span><span class=\"n\">knot_project</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">Lake</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">5.0</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"mi\">873</span><span class=\"n\">ef2d</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.8</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"bp\">-</span><span class=\"n\">rc2</span><span class=\"o\">)</span>\n<span class=\"n\">Watchdog</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Got</span><span class=\"w\"> </span><span class=\"ss\">`shutdown</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">request</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">expected</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"ss\">`exit</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">notification</span>\n</code></pre></div>",
        "id": 444924357,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1718497959
    },
    {
        "content": "<p>and when I hit \"restart file\" I get the following in the infoview:</p>",
        "id": 444924392,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1718498010
    },
    {
        "content": "<p>If you are working on mathlib itself, then you should not use lake update</p>",
        "id": 444924578,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1718498226
    },
    {
        "content": "<p>You should be able to use git to revert the changes you made to the lake-manifest.json, to get back to where you were</p>",
        "id": 444924605,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1718498278
    },
    {
        "content": "<p>thank you! took me a bit to fight github, but looks like it's working again!</p>",
        "id": 444928031,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1718502050
    },
    {
        "content": "<p>... not quite. </p>\n<p>as I understand it, I'm working in one big lean project. this contains a .lake, which has the \"original\" mathlib. </p>\n<p>I'm working on a PR, so I have a copy of mathlib, also in that same big lean project. </p>\n<p>However, it's not exactly the same: the \"original\", for whatever reason, does not contain, say <code>Mathlib.Algebra.Group.Subsemigroup.Basic</code> . My copy does (I did not create this file). </p>\n<p>When I try to compile anything which depends on this file,  I get : </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">hannahfechtner</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">toolchains</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---v4.6.0-rc1/bin/lake setup-file /Users/hannahfechtner/Desktop/knotthings/knot_project/mathlib4/Mathlib/Algebra/Group/Subsemigroup/Membership.lean Init Mathlib.Algebra.Group.Subsemigroup.Basic` failed:</span>\n\n<span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">Group</span><span class=\"bp\">.</span><span class=\"n\">Subsemigroup</span><span class=\"bp\">.</span><span class=\"n\">Basic'</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">such</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">directory</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span>\n<span class=\"w\">  </span><span class=\"n\">file</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">./.</span><span class=\"n\">lake</span><span class=\"bp\">/</span><span class=\"n\">packages</span><span class=\"bp\">/</span><span class=\"n\">mathlib</span><span class=\"bp\">/././</span><span class=\"n\">Mathlib</span><span class=\"bp\">/</span><span class=\"n\">Algebra</span><span class=\"bp\">/</span><span class=\"n\">Group</span><span class=\"bp\">/</span><span class=\"n\">Subsemigroup</span><span class=\"bp\">/</span><span class=\"n\">Basic</span><span class=\"bp\">.</span><span class=\"n\">lean</span>\n\n<span class=\"n\">All</span><span class=\"w\"> </span><span class=\"n\">Messages</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">)</span>\n\n<span class=\"n\">Restart</span><span class=\"w\"> </span><span class=\"n\">File</span>\n</code></pre></div>\n<p>This file has an error which prevented it from compiling, which I corrected (in <code>mem_iInf</code>, line 254, Set.forall_mem_range needed to be Set.forall_range_iff for the simp to work)</p>\n<p>I'm still getting that same error</p>\n<p>Why is it looking in .lake for that file? shouldn't it be looking in my own copy of mathlib4?</p>",
        "id": 444938554,
        "sender_full_name": "Hannah Fechtner",
        "timestamp": 1718511108
    },
    {
        "content": "<blockquote>\n<p>Why is it looking in .lake for that file? shouldn't it be looking in my own copy of mathlib4?</p>\n</blockquote>\n<p>Lake works by having a copy of mathlib4 in the <code>.lake</code> subdirectory of your project rather than referencing some other central copy of mathlib on your computer because if you have multiple projects that depend on different versions of mathlib, then these projects need to reference different mathlib folders.</p>\n<p>You could try deleting .lake and recompiling. That sometimes works. </p>\n<p>You could also try checking your lakefile.lean/lake-manifest.json to make sure that it is not referencing some old mathlib revision from before that file was first created back in May. If it is referencing a commit that old, your update probably failed. (In which case my advice is again to delete .lake folder and maybe also the manifest and try recompiling.)</p>",
        "id": 444941299,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718513866
    },
    {
        "content": "<p>I'm not sure what your mean by \"one big lean project\" - I think that may be the source of your confusion. If you have a project <em>outside</em> mathlib, it will have a lakefile that defines that you depend on mathlib. This file will say you want to use the master branch of mathlib by default. If you instead want to use a version of mathlib that has results you put in a PR that is not merged yet, you can replace the \"master\" in the lakefile by the name of your branch</p>",
        "id": 444959380,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1718530038
    }
]