[
    {
        "content": "<p>Hi I am learning how to use the category theory part in mathlib and I came to the part about natural isomorphism about functors between category. How is NatIso defined as  an isomorphism in a category in mathlib? hoving the notation ≅ in the following code snippet, the doc says it's an isomorphisms between objects of a category:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.CategoryTheory.Category.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.CategoryTheory.Functor.Basic</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.CategoryTheory.Iso</span>\n<span class=\"kn\">import</span> <span class=\"n\">Mathlib.CategoryTheory.NatIso</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">CategoryTheory</span>\n<span class=\"kd\">set_option</span> <span class=\"n\">autoImplicit</span> <span class=\"n\">true</span>\n\n<span class=\"kd\">variable</span> <span class=\"o\">[</span><span class=\"n\">Category</span> <span class=\"n\">C</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">Category</span> <span class=\"n\">D</span><span class=\"o\">]</span>\n<span class=\"kd\">variable</span> <span class=\"o\">(</span><span class=\"n\">F</span> <span class=\"n\">G</span><span class=\"o\">:</span> <span class=\"n\">C</span> <span class=\"bp\">⥤</span> <span class=\"n\">D</span><span class=\"o\">)</span>\n<span class=\"kd\">variable</span> <span class=\"o\">(</span><span class=\"n\">ε</span> <span class=\"o\">:</span> <span class=\"n\">F</span> <span class=\"bp\">≅</span> <span class=\"n\">G</span><span class=\"o\">)</span>\n<span class=\"k\">#check</span> <span class=\"n\">ε.hom</span>\n</code></pre></div>",
        "id": 430453229,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1711866885
    },
    {
        "content": "<p>Good question! Can you guess what category it is an isomorphism in?</p>",
        "id": 430453259,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1711866938
    },
    {
        "content": "<p>But treating functors as object requires defining  functors and natural transformations as a category. I don't see how to find the instance of category in the definition</p>",
        "id": 430453305,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1711866963
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/113489-new-members/topic/Confused.20about.20NatIso.20of.20functors.20in.20mathlib/near/430453259\">发言道</a>：</p>\n<blockquote>\n<p>Good question! Can you guess what category it is an isomorphism in?</p>\n</blockquote>\n<p>Yeah I think it should be the category of functors and natural transformations. Can I print the instance with some code in the above snippet?</p>",
        "id": 430453342,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1711867014
    },
    {
        "content": "<p>So you agree that <code>C ⥤ D</code> is the category we are taking isomorphisms in?</p>",
        "id": 430453347,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1711867017
    },
    {
        "content": "<p>Yeah I agree with this. But checking the type with <code>#check C ⥤ D</code> gives me a type rather than a category. I want to see the category instance used when writing <code>variable (ε : F ≅ G)</code></p>",
        "id": 430453542,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1711867214
    },
    {
        "content": "<p>Okay so now there are many ways you can figure out what the instance is. Here are a few (in no particular order):</p>\n<ol>\n<li>Go to <a href=\"https://leanprover-community.github.io/mathlib4_docs\">#docs</a> and search for strings like <code>categoryfunctor</code>, <code>functorcategory</code>, <code>categorycategoryfunctor</code></li>\n<li>Use Loogle with a string like <code>Category (_ ⥤ _)</code></li>\n<li>Inspect the term in the infoview by clicking on the natural isomorphism, seeing what the <code>Category (C ⥤ D)</code> instance is. Here you should only need to click once, but you can in theory click arbitrarily long inside the term</li>\n<li>Write <code>#synth Category (C ⥤ D)</code> in your Lean file</li>\n</ol>",
        "id": 430453560,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1711867258
    },
    {
        "content": "<p>Oh I get it with <code>#check (inferInstance : (Category (C ⥤ D)))</code> too. Yeah I will try the ways you give too. Thank you very much Yaël  <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 430453698,
        "sender_full_name": "Shanghe Chen",
        "timestamp": 1711867417
    },
    {
        "content": "<p>NatIso’s are indeed defined as isomorphisms in the category of functors. But we have some convenience definitions for construction such isomorphisms most notably <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=CategoryTheory.NatIso.ofComponents#doc\">docs#CategoryTheory.NatIso.ofComponents</a></p>",
        "id": 430481413,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1711896069
    }
]