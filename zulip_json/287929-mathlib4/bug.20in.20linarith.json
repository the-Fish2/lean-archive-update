[
    {
        "content": "<p>This error seems to be similar to the one that we found in lean 3 linarith while porting to lean 4. The indented hypotheses below are not used in the proof, but when they are present <code>linarith</code> fails to close the goal. Removing any of them or reordering the hypotheses will make <code>linarith</code> prove the goal. (This is actually a permutation of one of the existing linarith test cases, I stumbled on it when changing the way hypotheses are collected by linarith.)</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">set_option</span> <span class=\"n\">maxHeartbeats</span> <span class=\"mi\">300000</span> <span class=\"k\">in</span>\n<span class=\"kd\">example</span> <span class=\"o\">[</span><span class=\"n\">LinearOrderedCommRing</span> <span class=\"n\">α</span><span class=\"o\">]</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">u</span> <span class=\"n\">v</span> <span class=\"n\">x</span> <span class=\"n\">A</span> <span class=\"n\">B</span> <span class=\"o\">:</span> <span class=\"n\">α</span><span class=\"o\">)</span>\n<span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">3</span> <span class=\"bp\">*</span> <span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"n\">B</span> <span class=\"bp\">&lt;</span> <span class=\"n\">u</span> <span class=\"bp\">*</span> <span class=\"n\">x</span> <span class=\"bp\">+</span> <span class=\"n\">v</span> <span class=\"bp\">*</span> <span class=\"n\">x</span> <span class=\"bp\">+</span> <span class=\"n\">u</span> <span class=\"bp\">*</span> <span class=\"n\">v</span><span class=\"o\">)</span>\n  <span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">v</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">v</span><span class=\"o\">))</span>\n  <span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">v</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">u</span><span class=\"o\">))</span>\n  <span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">v</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"n\">v</span><span class=\"o\">)</span>\n<span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">v</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">B</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span><span class=\"o\">))</span>\n<span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">B</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span><span class=\"o\">))</span>\n<span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">v</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">B</span> <span class=\"bp\">-</span> <span class=\"n\">x</span><span class=\"o\">))</span>\n<span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">v</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">B</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span><span class=\"o\">))</span>\n<span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">u</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">v</span><span class=\"o\">))</span>\n<span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">u</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">B</span> <span class=\"bp\">-</span> <span class=\"n\">x</span><span class=\"o\">))</span>\n<span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">u</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"mi\">1</span> <span class=\"bp\">-</span> <span class=\"n\">A</span><span class=\"o\">))</span>\n<span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">v</span><span class=\"o\">)</span>\n<span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">u</span><span class=\"o\">)</span>\n  <span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">v</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"mi\">1</span> <span class=\"bp\">-</span> <span class=\"n\">A</span><span class=\"o\">))</span>\n  <span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"n\">v</span><span class=\"o\">)</span>\n  <span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"o\">(</span><span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">u</span><span class=\"o\">)</span> <span class=\"bp\">*</span> <span class=\"n\">u</span><span class=\"o\">)</span>\n  <span class=\"bp\">-&gt;</span> <span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">A</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"mi\">1</span> <span class=\"bp\">-</span> <span class=\"n\">A</span><span class=\"o\">))</span>\n<span class=\"bp\">-&gt;</span> <span class=\"n\">False</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">intros</span>\n  <span class=\"n\">linarith</span>\n</code></pre></div>",
        "id": 322971574,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1674465964
    },
    {
        "content": "<p>if anyone feels up to minimizing this example even more, that will be very helpful. This one is large and also expensive (note the <code>maxHeartbeats</code> setting) even when everything is going correctly.</p>",
        "id": 322975262,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1674467088
    },
    {
        "content": "<p>I don't really want to put this in the test suite after it is fixed</p>",
        "id": 322975343,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1674467112
    },
    {
        "content": "<p>I have reduced the problem to:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">example</span> <span class=\"o\">:</span>\n  <span class=\"o\">(</span><span class=\"mi\">3</span> <span class=\"bp\">*</span> <span class=\"n\">x4</span> <span class=\"bp\">-</span> <span class=\"n\">x3</span> <span class=\"bp\">-</span> <span class=\"n\">x2</span> <span class=\"bp\">-</span> <span class=\"n\">x1</span> <span class=\"o\">:</span> <span class=\"n\">ℚ</span><span class=\"o\">)</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span> <span class=\"bp\">→</span>\n  <span class=\"n\">x5</span> <span class=\"bp\">-</span> <span class=\"n\">x4</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span> <span class=\"bp\">→</span>\n  <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">x5</span> <span class=\"bp\">-</span> <span class=\"n\">x4</span><span class=\"o\">)</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span> <span class=\"bp\">→</span>\n  <span class=\"bp\">-</span><span class=\"n\">x6</span> <span class=\"bp\">+</span> <span class=\"n\">x3</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span> <span class=\"bp\">→</span>\n  <span class=\"bp\">-</span><span class=\"n\">x6</span> <span class=\"bp\">+</span> <span class=\"n\">x2</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span> <span class=\"bp\">→</span>\n  <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"o\">(</span><span class=\"n\">x6</span> <span class=\"bp\">-</span> <span class=\"n\">x5</span><span class=\"o\">)</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span> <span class=\"bp\">→</span>\n  <span class=\"n\">x8</span> <span class=\"bp\">-</span> <span class=\"n\">x7</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span> <span class=\"bp\">→</span>\n  <span class=\"bp\">-</span><span class=\"n\">x8</span> <span class=\"bp\">+</span> <span class=\"n\">x2</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span> <span class=\"bp\">→</span>\n  <span class=\"bp\">-</span><span class=\"n\">x8</span> <span class=\"bp\">+</span> <span class=\"n\">x7</span> <span class=\"bp\">-</span> <span class=\"n\">x5</span> <span class=\"bp\">+</span> <span class=\"n\">x1</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span> <span class=\"bp\">→</span>\n  <span class=\"n\">x7</span> <span class=\"bp\">-</span> <span class=\"n\">x5</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span> <span class=\"bp\">→</span>\n  <span class=\"n\">False</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span> <span class=\"n\">intros</span><span class=\"bp\">;</span> <span class=\"n\">linarith</span>\n</code></pre></div>",
        "id": 323150075,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1674524134
    },
    {
        "content": "<p>It appears that the issue is in the redundancy criterion (again). Here are the last few steps of elimination:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">round</span> <span class=\"mi\">5</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">6</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">6</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n\n<span class=\"n\">round</span> <span class=\"mi\">4</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n\n<span class=\"n\">round</span> <span class=\"mi\">3</span>\n<span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"n\">rejected</span> <span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n\n<span class=\"n\">round</span> <span class=\"mi\">2</span>\n<span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">7</span><span class=\"o\">]</span>\n<span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n\n<span class=\"n\">rejected</span> <span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">]</span>\n\n<span class=\"n\">round</span> <span class=\"mi\">1</span>\n\n<span class=\"n\">round</span> <span class=\"mi\">0</span>\n\n<span class=\"n\">fail</span><span class=\"o\">:</span> <span class=\"n\">no</span> <span class=\"n\">inequalities</span> <span class=\"n\">remaining</span>\n</code></pre></div>",
        "id": 323150399,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1674524422
    },
    {
        "content": "<p>Here each <code>accepted</code> means we took two inequalities from the previous round and combined them, and <code>rejected</code> means that the resulting inequality violates Imbert's bound. At the end of round 5, we generate the same inequality <code>[(4, -2), (2, 2)]&lt;0</code> in two ways:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"mi\">5</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n<span class=\"n\">accepted</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">+</span> <span class=\"o\">[(</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span> <span class=\"bp\">=</span> <span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span>\n<span class=\"o\">[(</span><span class=\"mi\">4</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">history</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">6</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">9</span><span class=\"o\">],</span> <span class=\"n\">effective</span> <span class=\"bp\">=</span> <span class=\"o\">[</span><span class=\"mi\">5</span><span class=\"o\">,</span> <span class=\"mi\">7</span><span class=\"o\">,</span> <span class=\"mi\">8</span><span class=\"o\">],</span> <span class=\"n\">implicit</span> <span class=\"bp\">=</span> <span class=\"o\">[]</span>\n</code></pre></div>\n<p>If you omit the last hypothesis (called equation 9 here), then the second one is not generated, but with it the second one overrides the first and so we get the same inequality but with a different history <code>[2, 6, 7, 9]</code> instead of <code>[2, 4, 5]</code>. This on its own is not a problem, but later we end up being unable to construct the contradiction without violating Imbert's bound.</p>\n<p>I think the issue is the assumption that we can remove redundant inequalities if they prove the same thing (which we are currently enforcing by putting them in an RBSet based keyed on the inequality). I haven't found too many accessible online sources about the Cernikov-Fourier algorithm but <a href=\"https://www.airc.aist.go.jp/aitec-icot/ICOT/Museum/FGCS/FGCS92en-proc2/92eCLP-1.pdf\">https://www.airc.aist.go.jp/aitec-icot/ICOT/Museum/FGCS/FGCS92en-proc2/92eCLP-1.pdf</a> (sec 3.2.2) mentions that it is incorrect to throw away redundant inequalities unless one history subsumes the other, and gives an example</p>",
        "id": 323151055,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1674525058
    },
    {
        "content": "<p>We have been thinking along the same lines, but you got further: here's what I had reached:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.Tactic.Linarith</span>\n\n<span class=\"kd\">example</span> <span class=\"o\">[</span><span class=\"n\">LinearOrderedCommRing</span> <span class=\"n\">α</span><span class=\"o\">]</span>\n    <span class=\"o\">{</span><span class=\"n\">u</span> <span class=\"n\">v</span> <span class=\"n\">A</span> <span class=\"n\">B</span> <span class=\"n\">a1</span> <span class=\"n\">a2</span> <span class=\"n\">a3</span> <span class=\"n\">a4</span> <span class=\"n\">a5</span> <span class=\"n\">a6</span> <span class=\"n\">a7</span> <span class=\"n\">a8</span> <span class=\"n\">a9</span> <span class=\"n\">a10</span> <span class=\"n\">a11</span> <span class=\"o\">:</span> <span class=\"n\">α</span><span class=\"o\">}</span>\n    <span class=\"o\">(</span><span class=\"n\">h1</span> <span class=\"o\">:</span> <span class=\"mi\">3</span> <span class=\"bp\">*</span> <span class=\"n\">a5</span> <span class=\"bp\">-</span> <span class=\"n\">a7</span> <span class=\"bp\">-</span> <span class=\"n\">a8</span> <span class=\"bp\">-</span> <span class=\"n\">a9</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h2</span> <span class=\"o\">:</span> <span class=\"bp\">-</span><span class=\"n\">a1</span> <span class=\"bp\">+</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a2</span> <span class=\"bp\">-</span> <span class=\"n\">a6</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"c1\">-- comment out this</span>\n    <span class=\"o\">(</span><span class=\"n\">h3</span> <span class=\"o\">:</span> <span class=\"bp\">-</span><span class=\"n\">a1</span> <span class=\"bp\">+</span> <span class=\"n\">a2</span> <span class=\"bp\">+</span> <span class=\"n\">a3</span> <span class=\"bp\">-</span> <span class=\"n\">a9</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"c1\">-- and this</span>\n    <span class=\"o\">(</span><span class=\"n\">h4</span> <span class=\"o\">:</span> <span class=\"bp\">-</span> <span class=\"n\">a2</span> <span class=\"bp\">+</span> <span class=\"n\">a6</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">)</span> <span class=\"c1\">-- and this</span>\n    <span class=\"o\">(</span><span class=\"n\">h5</span> <span class=\"o\">:</span> <span class=\"bp\">-</span> <span class=\"n\">a5</span> <span class=\"bp\">+</span> <span class=\"n\">a10</span> <span class=\"bp\">+</span> <span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">v</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h6</span> <span class=\"o\">:</span> <span class=\"bp\">-</span> <span class=\"n\">a5</span> <span class=\"bp\">+</span> <span class=\"n\">a11</span> <span class=\"bp\">+</span> <span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">u</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h7</span> <span class=\"o\">:</span> <span class=\"bp\">-</span> <span class=\"n\">a10</span> <span class=\"bp\">+</span> <span class=\"n\">a8</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h8</span> <span class=\"o\">:</span> <span class=\"bp\">-</span> <span class=\"n\">a10</span> <span class=\"bp\">+</span> <span class=\"n\">v</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h9</span> <span class=\"o\">:</span> <span class=\"bp\">-</span> <span class=\"n\">a3</span> <span class=\"bp\">+</span> <span class=\"n\">a9</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h10</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">a11</span> <span class=\"bp\">-</span> <span class=\"n\">a7</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h11</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">u</span> <span class=\"bp\">-</span> <span class=\"n\">a3</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h12</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">v</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h13</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">u</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h14</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">v</span> <span class=\"bp\">-</span> <span class=\"n\">a1</span> <span class=\"bp\">+</span> <span class=\"n\">a2</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h15</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">a2</span> <span class=\"bp\">-</span> <span class=\"n\">a9</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h16</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">a3</span> <span class=\"bp\">-</span> <span class=\"n\">a4</span><span class=\"o\">)</span>\n    <span class=\"o\">(</span><span class=\"n\">h17</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">&lt;</span> <span class=\"n\">A</span> <span class=\"bp\">-</span> <span class=\"n\">a1</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"n\">False</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">linarith</span>\n</code></pre></div>",
        "id": 323151940,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1674525816
    },
    {
        "content": "<p>It feels like <span class=\"user-mention\" data-user-id=\"110596\">@Rob Lewis</span> might be the person to consult on the weeds of Fourier-Motzkin.</p>",
        "id": 323152024,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1674525872
    },
    {
        "content": "<p>Unfortunately simply not removing redundant inequalities results in really bad performance; Imbert's bound alone is apparently not enough to make Fourier-Motzkin not crazy slow</p>",
        "id": 323153527,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1674527235
    },
    {
        "content": "<p>Does mathlib3 linarith have the same bug?</p>",
        "id": 323153651,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1674527329
    },
    {
        "content": "<p>... or Coq lra?</p>",
        "id": 323153666,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1674527343
    },
    {
        "content": "<p>pretty sure mathlib3 linarith has the same bug, although I haven't tried to replicate it. No idea about lra</p>",
        "id": 323154145,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1674527707
    },
    {
        "content": "<p>lra does not use F-M, it uses <a href=\"https://github.com/coq/coq/blob/110921a449fcb830ec2a1cd07e3acc32319feae6/plugins/micromega/simplex.ml#L475-L483\">the simplex method</a></p>",
        "id": 323154796,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1674528306
    },
    {
        "content": "<p>In the short term, it seems better to keep the version that proves everything it's supposed to, even if it's very slow.  What do you think?</p>",
        "id": 323156648,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1674529363
    },
    {
        "content": "<p>I opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/2717\">!4#2717</a> to track this.</p>",
        "id": 340287060,
        "sender_full_name": "Heather Macbeth",
        "timestamp": 1678261393
    },
    {
        "content": "<p>The following example doesn't work:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib</span>\n\n<span class=\"kd\">example</span> <span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"n\">b</span> <span class=\"o\">:</span> <span class=\"n\">ℝ</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h1</span> <span class=\"o\">:</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h2</span> <span class=\"o\">:</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">3</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">a</span> <span class=\"bp\">=</span> <span class=\"mi\">1</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">linarith</span>\n</code></pre></div>",
        "id": 436966594,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1714774388
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110049\">@Mario Carneiro</span> <span class=\"user-mention\" data-user-id=\"110596\">@Rob Lewis</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> Any hints about ways to debug this?</p>",
        "id": 436966639,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1714774416
    },
    {
        "content": "<p>Here is the output with <code>set_option trace.linarith true</code> and <code>set_option trace.linarith.detail true</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"n\">target</span> <span class=\"n\">is</span> <span class=\"n\">an</span> <span class=\"n\">equality</span><span class=\"o\">:</span> <span class=\"n\">splitting</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"n\">linarith</span> <span class=\"n\">is</span> <span class=\"n\">running</span> <span class=\"n\">on</span> <span class=\"n\">the</span> <span class=\"n\">following</span> <span class=\"n\">hypotheses</span><span class=\"o\">:</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">ℝ</span><span class=\"o\">,</span> <span class=\"n\">ℝ</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">1</span><span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"n\">Preprocessing</span><span class=\"o\">:</span> <span class=\"n\">split</span> <span class=\"n\">conjunctions</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">ℝ</span><span class=\"o\">,</span> <span class=\"n\">ℝ</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">1</span><span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"n\">Preprocessing</span><span class=\"o\">:</span> <span class=\"n\">filter</span> <span class=\"n\">terms</span> <span class=\"n\">that</span> <span class=\"n\">are</span> <span class=\"n\">not</span> <span class=\"n\">proofs</span> <span class=\"n\">of</span> <span class=\"n\">comparisons</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">1</span><span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"n\">Preprocessing</span><span class=\"o\">:</span> <span class=\"n\">replace</span> <span class=\"n\">negations</span> <span class=\"n\">of</span> <span class=\"n\">comparisons</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">1</span><span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"n\">Preprocessing</span><span class=\"o\">:</span> <span class=\"n\">move</span> <span class=\"n\">nats</span> <span class=\"n\">to</span> <span class=\"n\">ints</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">1</span><span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"n\">Preprocessing</span><span class=\"o\">:</span> <span class=\"n\">strengthen</span> <span class=\"n\">strict</span> <span class=\"n\">inequalities</span> <span class=\"n\">over</span> <span class=\"n\">int</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">=</span> <span class=\"mi\">3</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">1</span><span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"n\">Preprocessing</span><span class=\"o\">:</span> <span class=\"n\">make</span> <span class=\"n\">comparisons</span> <span class=\"k\">with</span> <span class=\"n\">zero</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">-</span> <span class=\"mi\">2</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">-</span> <span class=\"mi\">3</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"n\">Preprocessing</span><span class=\"o\">:</span> <span class=\"n\">cancel</span> <span class=\"n\">denominators</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">-</span> <span class=\"mi\">2</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">-</span> <span class=\"mi\">3</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"n\">after</span> <span class=\"n\">preprocessing</span><span class=\"o\">,</span> <span class=\"n\">linarith</span> <span class=\"n\">has</span> <span class=\"mi\">3</span> <span class=\"n\">facts</span><span class=\"o\">:</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">-</span> <span class=\"mi\">2</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">-</span> <span class=\"mi\">3</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"n\">hypotheses</span> <span class=\"n\">appear</span> <span class=\"k\">in</span> <span class=\"mi\">1</span> <span class=\"n\">different</span> <span class=\"n\">types</span>\n<span class=\"o\">[</span><span class=\"n\">linarith.detail</span><span class=\"o\">]</span> <span class=\"n\">Beginning</span> <span class=\"n\">work</span> <span class=\"k\">in</span> <span class=\"bp\">`</span><span class=\"n\">proveFalseByLinarith</span><span class=\"bp\">`.</span>\n<span class=\"o\">[</span><span class=\"n\">linarith.detail</span><span class=\"o\">]</span> <span class=\"bp\">...</span> <span class=\"n\">finished</span> <span class=\"bp\">`</span><span class=\"n\">addNegEqProofs</span><span class=\"bp\">`.</span>\n<span class=\"o\">[</span><span class=\"n\">linarith.detail</span><span class=\"o\">]</span> <span class=\"bp\">...</span> <span class=\"n\">finished</span> <span class=\"bp\">`</span><span class=\"n\">mkNegOneLtZeroProof</span><span class=\"bp\">`.</span>\n<span class=\"o\">[</span><span class=\"n\">linarith.detail</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"bp\">-</span><span class=\"mi\">1</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"o\">(</span><span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">-</span> <span class=\"mi\">2</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">-</span> <span class=\"mi\">2</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"o\">(</span><span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">-</span> <span class=\"mi\">3</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span> <span class=\"bp\">*</span> <span class=\"n\">a</span> <span class=\"bp\">+</span> <span class=\"n\">b</span> <span class=\"bp\">-</span> <span class=\"mi\">3</span> <span class=\"bp\">=</span> <span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">a</span> <span class=\"bp\">-</span> <span class=\"mi\">1</span> <span class=\"bp\">&lt;</span> <span class=\"mi\">0</span><span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"n\">linarith.detail</span><span class=\"o\">]</span> <span class=\"n\">monomial</span> <span class=\"n\">map</span><span class=\"o\">:</span> <span class=\"o\">[([],</span> <span class=\"mi\">0</span><span class=\"o\">),</span> <span class=\"o\">([(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)],</span> <span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">([(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">)],</span> <span class=\"mi\">1</span><span class=\"o\">)]</span>\n<span class=\"o\">[</span><span class=\"n\">linarith.detail</span><span class=\"o\">]</span> <span class=\"bp\">...</span> <span class=\"n\">finished</span> <span class=\"bp\">`</span><span class=\"n\">linearFormsAndMaxVar</span><span class=\"bp\">`.</span>\n<span class=\"o\">[</span><span class=\"n\">linarith.detail</span><span class=\"o\">]</span> <span class=\"o\">[[(</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">,</span>\n     <span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">=</span><span class=\"mi\">0</span><span class=\"o\">,</span>\n     <span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">)]</span><span class=\"bp\">=</span><span class=\"mi\">0</span><span class=\"o\">,</span>\n     <span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"mi\">3</span><span class=\"o\">)]</span><span class=\"bp\">=</span><span class=\"mi\">0</span><span class=\"o\">,</span>\n     <span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">2</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">3</span><span class=\"o\">)]</span><span class=\"bp\">=</span><span class=\"mi\">0</span><span class=\"o\">,</span>\n     <span class=\"o\">[(</span><span class=\"mi\">2</span><span class=\"o\">,</span> <span class=\"mi\">1</span><span class=\"o\">),</span> <span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"o\">)]</span><span class=\"bp\">&lt;</span><span class=\"mi\">0</span><span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"n\">linarith</span><span class=\"o\">]</span> <span class=\"n\">failed</span>\n</code></pre></div>",
        "id": 436966775,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1714774481
    },
    {
        "content": "<p>It works with integer variables but fails with rational or real vars.</p>",
        "id": 436966873,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1714774539
    },
    {
        "content": "<p>Strange detail: <code>linarith only [h1, h2]</code> works while <code>linarith</code> fails.</p>",
        "id": 436967169,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1714774695
    },
    {
        "content": "<p>Does it work in the PR with the simplex oracle for linarith?</p>",
        "id": 436971633,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1714777309
    },
    {
        "content": "<p>why does <code>nlinarith</code> work?</p>",
        "id": 436978794,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1714783349
    },
    {
        "content": "<p>It works with the new oracle, thanks!</p>",
        "id": 436979383,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1714784022
    }
]