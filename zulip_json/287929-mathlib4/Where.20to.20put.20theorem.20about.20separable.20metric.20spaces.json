[
    {
        "content": "<p>Hello,</p>\n<p>I found myself needing this simple theorem, which is not in Mathlib: </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">theorem</span> <span class=\"n\">Embedding.separableMetricSpace</span> <span class=\"o\">{</span><span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u_1</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">β</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u_2</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">MetricSpace</span> <span class=\"n\">α</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"n\">MetricSpace</span> <span class=\"n\">β</span><span class=\"o\">]</span> <span class=\"o\">{</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">α</span> <span class=\"bp\">→</span> <span class=\"n\">β</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">TopologicalSpace.SeparableSpace</span> <span class=\"n\">β</span><span class=\"o\">]</span>\n    <span class=\"o\">(</span><span class=\"n\">hf</span> <span class=\"o\">:</span> <span class=\"n\">Embedding</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">TopologicalSpace.SeparableSpace</span> <span class=\"n\">α</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n    <span class=\"k\">have</span> <span class=\"o\">:=</span> <span class=\"n\">UniformSpace.secondCountable_of_separable</span> <span class=\"n\">β</span>\n    <span class=\"k\">have</span> <span class=\"o\">:=</span> <span class=\"n\">Embedding.secondCountableTopology</span> <span class=\"n\">hf</span>\n    <span class=\"n\">exact</span> <span class=\"n\">TopologicalSpace.SecondCountableTopology.to_separableSpace</span>\n</code></pre></div>\n<p>(I guess the most general case where this is true might be a first countable topological space, or something like that, but that would be more painful to prove and I needed it only for metric spaces)</p>\n<p>Under the possibly mistaken assumption that this does belong in Mathlib, I'm somewhat at a loss as to where it should go.</p>",
        "id": 434846906,
        "sender_full_name": "Luigi Massacci",
        "timestamp": 1713820218
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib</span>\n<span class=\"kd\">theorem</span> <span class=\"n\">Embedding.separableMetricSpace</span> <span class=\"o\">{</span><span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u_1</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">β</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u_2</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">MetricSpace</span> <span class=\"n\">α</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"n\">MetricSpace</span> <span class=\"n\">β</span><span class=\"o\">]</span> <span class=\"o\">{</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">α</span> <span class=\"bp\">→</span> <span class=\"n\">β</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">TopologicalSpace.SeparableSpace</span> <span class=\"n\">β</span><span class=\"o\">]</span>\n    <span class=\"o\">(</span><span class=\"n\">hf</span> <span class=\"o\">:</span> <span class=\"n\">Embedding</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"n\">TopologicalSpace.SeparableSpace</span> <span class=\"n\">α</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n    <span class=\"k\">have</span> <span class=\"o\">:=</span> <span class=\"n\">UniformSpace.secondCountable_of_separable</span> <span class=\"n\">β</span>\n    <span class=\"k\">have</span> <span class=\"o\">:=</span> <span class=\"n\">Embedding.secondCountableTopology</span> <span class=\"n\">hf</span>\n    <span class=\"n\">exact</span> <span class=\"n\">TopologicalSpace.SecondCountableTopology.to_separableSpace</span>\n<span class=\"bp\">#</span><span class=\"n\">find_home</span> <span class=\"n\">Embedding.separableMetricSpace</span> <span class=\"c1\">-- [Mathlib.Topology.MetricSpace.Basic]</span>\n</code></pre></div>\n<p>seems plausible</p>",
        "id": 434847417,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1713820406
    },
    {
        "content": "<p>Thank you! I did not know about <code>find_home</code>, that is magic. I did think about <code>MetricSpace.Basic</code>, but the thing is that the stuff there really is very basic; still, it's not implausible, I'll PR it and we'll see...</p>",
        "id": 434848436,
        "sender_full_name": "Luigi Massacci",
        "timestamp": 1713820796
    },
    {
        "content": "<p>First-countability is not enough to guarantee that subsets of separable spaces are separable. In particular, the <a href=\"https://ncatlab.org/nlab/show/separable+space\">Sorgenfrey plane is a counterexample</a>. But you should be able to reduce this to assuming only second-countability.</p>",
        "id": 434849150,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1713821042
    },
    {
        "content": "<p>You mean something like this?</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kd\">theorem</span> <span class=\"n\">Embedding.separableMetricSpace</span> <span class=\"o\">{</span><span class=\"n\">α</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u_1</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">β</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u_2</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span> <span class=\"n\">α</span><span class=\"o\">]</span>\n  <span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span> <span class=\"n\">β</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">SecondCountableTopology</span> <span class=\"n\">β</span><span class=\"o\">]</span> <span class=\"o\">{</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">α</span> <span class=\"bp\">→</span> <span class=\"n\">β</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hf</span> <span class=\"o\">:</span> <span class=\"n\">Embedding</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"o\">:</span>\n    <span class=\"n\">TopologicalSpace.SeparableSpace</span> <span class=\"n\">α</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"k\">have</span> <span class=\"o\">:=</span> <span class=\"n\">Embedding.secondCountableTopology</span> <span class=\"n\">hf</span>\n  <span class=\"n\">exact</span> <span class=\"n\">TopologicalSpace.SecondCountableTopology.to_separableSpace</span>\n</code></pre></div>\n<p>it feels a bit forced</p>",
        "id": 434853550,
        "sender_full_name": "Luigi Massacci",
        "timestamp": 1713822647
    },
    {
        "content": "<p>Why more so than the one you have above? It's the same argument.</p>",
        "id": 434853878,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1713822781
    },
    {
        "content": "<p>Probably the <code>#find_home</code> for that will make a bit more sense.</p>",
        "id": 434854159,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1713822897
    },
    {
        "content": "<p>And note that in your original version there's no need to assume <code>α</code> is a metric space anyway.</p>",
        "id": 434854214,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1713822919
    },
    {
        "content": "<p>Because you have second countable on one side and separable on the other.</p>",
        "id": 434855145,
        "sender_full_name": "Luigi Massacci",
        "timestamp": 1713823296
    },
    {
        "content": "<p>Yeah, but you have to have something like this, because separability is not hereditary.</p>",
        "id": 434855579,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1713823466
    }
]