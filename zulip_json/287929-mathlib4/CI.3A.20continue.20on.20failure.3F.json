[
    {
        "content": "<p>I just found out that Mathlib CI doesn't run \"lint mathlib\" and leanchecker if \"check for unused imports\" fails. IMHO, we should change this: failures in various tests should set the build status to failure but shouldn't cancel other tests.</p>",
        "id": 426905828,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1710607977
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/11377\">#11377</a> is a recent PR that I opened to make CI fail when Archive or Counterexamples are noisy.  There is a proposal to remove lean4checker from CI on PRs and activate it only on merges.  I am happy with all of the above and your suggestion: maybe we can coordinate in a single PR?</p>",
        "id": 426918081,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1710619463
    },
    {
        "content": "<p>Combining all the above, the proposal would be:</p>\n<ul>\n<li>make CI continue as much as reasonable after any failed test;</li>\n<li>ensure that Archive and Counterexamples are quiet;</li>\n<li>run lean4checker only at the merging stage.</li>\n</ul>",
        "id": 426925866,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1710627453
    },
    {
        "content": "<p>Please don't coordinate into a single PR, that's a recipe for slow action! Each of these changes is good separately.</p>",
        "id": 426931489,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1710630088
    },
    {
        "content": "<p>Ok, so I'll leave <a href=\"https://github.com/leanprover-community/mathlib4/pull/11377\">#11377</a> as is.</p>",
        "id": 427024471,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1710656012
    },
    {
        "content": "<p>One step at a time: <a href=\"https://github.com/leanprover-community/mathlib4/pull/11454\">#11454</a> should be what <span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span> asked.</p>",
        "id": 427179145,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1710697988
    },
    {
        "content": "<p>I did not also make lean4checker be part of the \"continuing\" CI, since I actually would like to remove lean4checker from PRs and only make it run at the merging stage.</p>",
        "id": 427179150,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1710697989
    }
]