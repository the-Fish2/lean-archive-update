[
    {
        "content": "<p>The following came up in <span class=\"user-mention\" data-user-id=\"130609\">@Antoine Chambert-Loir</span>'s review of my PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/12705\">#12705</a> and I wonder what other more experienced Mathlib users think. Currently, the operation <code>sSup</code> on the type <code>Ideal P</code>, where <code>P</code> is a sup-semilattice with bottom, is defined via the <code>CompleteLattice</code> instance, inferred from the fact that any intersection of ideals is an ideal. However, in practice (e.g. around <a href=\"https://github.com/leanprover-community/mathlib4/blob/d7c08199f0f0215f29d47ff1c14b857223912ec1/Mathlib/Order/PrimeSeparator.lean#L63\">here</a>), one often wants to know that the <code>sSup</code> of a set of ideals is actually equal to a union. The mathematical reason for this is that the union of a directed set of ideals is again an ideal (in Mathlib <a href=\"https://github.com/leanprover-community/mathlib4/blob/a89745a89bd8b590de1708f939837e0d8810b882/Mathlib/Order/Ideal.lean#L609\">here</a>).<br>\nIs the correct solution to this to add a (simp?) rewrite lemma somewhere that lets one rewrite sSup into sUnion, provided that the collection of ideals is directed?</p>",
        "id": 438127914,
        "sender_full_name": "Sam van G",
        "timestamp": 1715454279
    },
    {
        "content": "<p>Yeah, I guess it makes sense to add the lemma. Not sure about simp</p>",
        "id": 438131711,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1715458555
    },
    {
        "content": "<p>Agreed, shouldn't be simp</p>",
        "id": 438132073,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715458993
    },
    {
        "content": "<p>I think <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Submodule.coe_iSup_of_directed#doc\">docs#Submodule.coe_iSup_of_directed</a> is the lemma?</p>",
        "id": 438132944,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1715460001
    },
    {
        "content": "<p>It is simp <span aria-label=\"fear\" class=\"emoji emoji-1f628\" role=\"img\" title=\"fear\">:fear:</span></p>",
        "id": 438133264,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715460316
    },
    {
        "content": "<p>In fact, that's for ideals of rings, while Sam wants the analogous result for ideals of lattices. The proof is essentially the same, though, relying on the fact that being an ideal is a property of finite character. It would be the same if one had a refined coercion class. (By the way, couldn't the coercion class provide automatic lemmas of the form <code>IsIdeal</code>, etc.?)</p>",
        "id": 438160228,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1715493186
    },
    {
        "content": "<p>Thanks. I'll have a look if I can reproduce <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Submodule.coe_iSup_of_directed#doc\">docs#Submodule.coe_iSup_of_directed</a> in the lattice context.</p>",
        "id": 438342478,
        "sender_full_name": "Sam van G",
        "timestamp": 1715601359
    },
    {
        "content": "<p>Oh, you mean <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Order.Ideal#doc\">docs#Order.Ideal</a> not <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ideal#doc\">docs#Ideal</a> !</p>",
        "id": 438355447,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1715605059
    },
    {
        "content": "<p>Yes, sorry, it's in the topic title but not explicit in the text</p>",
        "id": 438358166,
        "sender_full_name": "Sam van G",
        "timestamp": 1715605745
    }
]