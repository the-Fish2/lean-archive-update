[
    {
        "content": "<p>I want to define a few instances but I wish that they have a smaller priority than any instance that the user would define as a <code>[…]</code> parameter. And some of my instances should have a lower priority than the other ones, so that in some cases, the one which is synthesized is the good one.</p>\n<p>What is the syntax for that ? </p>\n<p>It is hard to propose a MWE, but basically, my instances are of the form <code>Triple (f, g, h)</code>, and the goal is to fill <code>h</code> when <code>f</code> and <code>g</code> are known.<br>\nIf there is an explicit <code>Triple (f, g, h)</code>, it should be chosen.<br>\nOtherwise, two triples are good, <code>Triple (id, g, g)</code> and <code>Triple (f, id, f)</code>. <br>\nAnd otherwise,when everything else fails, take <code>Triple (f, g, g o f)</code>.</p>",
        "id": 427739896,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1710859788
    },
    {
        "content": "<p>Sounds quite similar to dosc#RingHomCompTriple, where incidentally <a href=\"https://github.com/leanprover-community/mathlib4/blob/c13f0f5bfdf81a648b610b96e8381ccde5da237a/Mathlib/Algebra/Ring/CompTypeclasses.lean#L183\">https://github.com/leanprover-community/mathlib4/blob/c13f0f5bfdf81a648b610b96e8381ccde5da237a/Mathlib/Algebra/Ring/CompTypeclasses.lean#L183</a> is an example of setting a priority</p>",
        "id": 427740900,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1710860032
    },
    {
        "content": "<p>It is indeed so similar, that it's made for the analogous CompTriple of <a href=\"https://github.com/leanprover-community/mathlib4/pull/6057\">#6057</a> ! Thanks.<br>\nWhat are the default priorities?<br>\nWhat is the ordering? — Just to check that an instance with priority 100 will be used after another with priority of 1000.</p>",
        "id": 427745707,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1710861113
    },
    {
        "content": "<p>Increasing number = increasing priority. Default is 1000 if I remember correctly</p>",
        "id": 427746124,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1710861211
    }
]