[
    {
        "content": "<p>I find that <code>main</code> function of my repository mathlib4-tactics has conflict to <code>Tactic/Linter/TextBased</code></p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib.Tactic</span>\n<span class=\"k\">#help</span><span class=\"w\"> </span><span class=\"n\">tactic</span>\n\n<span class=\"kd\">def</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">IO</span><span class=\"w\"> </span><span class=\"n\">UInt32</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">return</span><span class=\"w\"> </span><span class=\"mi\">0</span>\n</code></pre></div>\n<p>see: <a href=\"https://github.com/Seasawher/mathlib4-tactics/blob/main/Tactic.lean\">https://github.com/Seasawher/mathlib4-tactics/blob/main/Tactic.lean</a></p>",
        "id": 446059613,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1718967945
    },
    {
        "content": "<p>Instead of defining a TextBased main in Mathlib4, can't we have it as a separate repository and call its executable in Mathlib?</p>",
        "id": 446059848,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1718968028
    },
    {
        "content": "<p>In principle, that seems possible - but since these linters are specific to mathlib (at the moment), this doesn't make as much sense. Do you really need to import <code>Mathlib.Tactic</code>? (By the way, there's a mathlib linter against this, which will become part of \"TextBased\" at some point.) Can you exclude the linters at least?</p>",
        "id": 446060587,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1718968308
    },
    {
        "content": "<p>Is this an argument for moving the mathlib linters out of <code>Tactic</code>?</p>",
        "id": 446060592,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1718968311
    },
    {
        "content": "<blockquote>\n<p>Do you really need to import <code>Mathlib.Tactic</code></p>\n</blockquote>\n<p>Yes, because I want to generate tactic list automatically...</p>",
        "id": 446060752,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1718968354
    },
    {
        "content": "<blockquote>\n<p>Is this an argument for moving the mathlib linters out of <code>Tactic</code>?</p>\n</blockquote>\n<p>It is desirable that linter is defined in a place where it is difficult to inadvertently import.</p>",
        "id": 446060926,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1718968433
    },
    {
        "content": "<p>It is very annoying that you cannot define an executable file if you import Mathlib.Tactic. I'm sure there are other people who will have problems too...</p>",
        "id": 446061145,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1718968515
    },
    {
        "content": "<p>For example, if you want to implement an algorithm with a proof of correctness, you may want to define a main function while importing Mahtlib.Tactic.</p>",
        "id": 446063300,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1718969369
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"626349\">Asei Inoue</span> <a href=\"#narrow/stream/287929-mathlib4/topic/conflict.20of.20.60Tactic.2FLinter.2FTextBased.60/near/446061145\">said</a>:</p>\n<blockquote>\n<p>It is very annoying that you cannot define an executable file if you import Mathlib.Tactic. I'm sure there are other people who will have problems too...</p>\n</blockquote>\n<p>Fair enough. I see two options</p>\n<ul>\n<li>move the <code>lint_style</code> executable to a different place (where would this be?)</li>\n<li>move all mathlib linters to a separate directory (this was discussed in <a href=\"https://github.com/leanprover-community/mathlib4/pull/11807\">#11807</a>, and also on zulip)</li>\n</ul>",
        "id": 446065135,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1718970109
    },
    {
        "content": "<p>Executables should just be separate libraries within Mathlib, like LongestPole and Cache (or ideally even separate repos if possible, for reusability, although initial development in Mathlib is best).</p>",
        "id": 446216450,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1719028838
    },
    {
        "content": "<p>I'm waiting the PR which fix this issue!</p>",
        "id": 446390342,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1719131525
    },
    {
        "content": "<p>You could make that PR!</p>",
        "id": 446391622,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1719132371
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/14057\">#14057</a> moves the <code>lint_style</code> executable to <code>scripts</code> instead</p>",
        "id": 446453817,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1719166631
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"626349\">Asei Inoue</span> has marked this topic as resolved.</p>",
        "id": 446749746,
        "sender_full_name": "Notification Bot",
        "timestamp": 1719276905
    }
]