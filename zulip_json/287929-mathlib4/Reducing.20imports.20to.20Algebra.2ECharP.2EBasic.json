[
    {
        "content": "<p>One apparently needs <a href=\"/user_uploads/3121/eNKvo2ZjAZ5CWYmXs-Nr4PM3/charp.pdf\">a huge 935 files mess</a> to get to <code>Algebra.CharP.Basic</code>. Anyone up for a challenge? <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 437275702,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715006106
    },
    {
        "content": "<p>Maybe, but I think I still have some open PRs to split files. Up for a review? :)</p>",
        "id": 437275866,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1715006159
    },
    {
        "content": "<p>Dump the PR numbers here. I might have a look during my breaks</p>",
        "id": 437276051,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715006209
    },
    {
        "content": "<p>I should also point out that <a href=\"https://github.com/leanprover-community/mathlib4/pull/11855\">#11855</a>, <a href=\"https://github.com/leanprover-community/mathlib4/pull/11863\">#11863</a>, <a href=\"https://github.com/leanprover-community/mathlib4/pull/11986\">#11986</a> are relevant here</p>",
        "id": 437276157,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715006250
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/12457\">https://github.com/leanprover-community/mathlib4/pull/12457</a> <a href=\"https://github.com/leanprover-community/mathlib4/pull/12493\">https://github.com/leanprover-community/mathlib4/pull/12493</a></p>",
        "id": 437279591,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1715007269
    },
    {
        "content": "<p>I'll look at 11986 later</p>",
        "id": 437279652,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1715007298
    },
    {
        "content": "<p>I'm performing a first split of <code>Algebra.CharP.Basic</code> right now</p>",
        "id": 437279943,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715007380
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/12710\">#12710</a></p>",
        "id": 437283647,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715008420
    },
    {
        "content": "<p>How do we have a file Group.Defs that defines Group after 1200 lines</p>",
        "id": 437475724,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1715094978
    },
    {
        "content": "<ol>\n<li>We don't want to separate out semigroups, monoids, etc</li>\n<li>We could move all the defs up and the basic lemmas afterwards, but it's quite impractical due to default fields</li>\n<li>The basic lemmas really need to be here as they are needed for forgetful inheritance instances in otherwise mutually cross unimportable files</li>\n</ol>",
        "id": 437476093,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715095097
    },
    {
        "content": "<p>I think we should just separate out those other defs</p>",
        "id": 437476526,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1715095226
    },
    {
        "content": "<p>By having an <code>Algebra.Monoid</code> folder? <span aria-label=\"scream\" class=\"emoji emoji-1f631\" role=\"img\" title=\"scream\">:scream:</span></p>",
        "id": 437476717,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715095302
    },
    {
        "content": "<p>Honestly this is bordering overoptimisation. <code>Algebra.Group.Defs</code> is really fast and has basically no imports.</p>",
        "id": 437476824,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715095327
    },
    {
        "content": "<p>Files are cheap</p>",
        "id": 437476854,
        "sender_full_name": "Eric Rodriguez",
        "timestamp": 1715095338
    },
    {
        "content": "<p>Nono, here they are really not cheap</p>",
        "id": 437476888,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715095352
    },
    {
        "content": "<p>... because that means separating out a bunch of other downstream files, with lemmas that do not clearly belong to one or the other. And now you also have to think about <code>Units</code>, whose group structure we want to state early on, even though we talk about units of monoids...</p>",
        "id": 437477073,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715095423
    },
    {
        "content": "<p>There are many better fights to take up than trying to reorder <code>Algebra.Group.Defs</code></p>",
        "id": 437477186,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715095446
    },
    {
        "content": "<p>... eg the titular <code>Algebra.CharP.Basic</code></p>",
        "id": 437477210,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715095460
    },
    {
        "content": "<p>Not necessarily suggesting anything, just surprised</p>",
        "id": 437477229,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1715095471
    },
    {
        "content": "<p>It's less surprising once you have needed to tweak the very bottom of the algebraic hierarchy, as I did to define <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=DivisionMonoid#doc\">docs#DivisionMonoid</a></p>",
        "id": 437477380,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1715095533
    }
]