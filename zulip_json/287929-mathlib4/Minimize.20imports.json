[
    {
        "content": "<p>Is there an automated method for a file that works with <code>import Mathlib</code>, to figure out what is a minimal set of imports needed, so that it still works when removing <code>import Mathlib</code>?</p>",
        "id": 426819694,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1710535787
    },
    {
        "content": "<p>I think there's <code>find_home!</code> which works on individual declarations; I don't know about a file-wide solution.</p>",
        "id": 426820263,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1710536037
    },
    {
        "content": "<p><code>#minimize_imports</code> (at the end of the file).</p>",
        "id": 426820652,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1710536168
    },
    {
        "content": "<p>If you want to minimize imports across multiple files, <code>lake exe shake</code> is really useful. You can run this on an individual \"module\" (think file, but with names Ã  la Mathlib.Data.Real.Basic instead of Mathlib/Data/Real/Basic.lean), but also on the whole project. It even works on projects depending on mathlib.</p>",
        "id": 426823660,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1710537563
    },
    {
        "content": "<p>Both #minimize_imports and <code>lake exe shake</code> do not take notation or tactics into account: you might find that it removes \"too much\".</p>",
        "id": 426823790,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1710537621
    },
    {
        "content": "<p>I wrote #minimize_imports (I think??) and Mario wrote <code>lake exe shake</code>, so you should expect <code>shake</code> to be more reliable. :-)</p>",
        "id": 426827890,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1710539570
    }
]