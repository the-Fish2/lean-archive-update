[
    {
        "content": "<p>I recently encountered this simp lemma <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/MvPolynomial/Equiv.html#MvPolynomial.optionEquivLeft_apply\">MvPolynomial.optionEquivLeft_apply</a>. This seems like something that shouldn't be a simp lemma - it expands an expression into something visually much larger with a match statement. Is there a good reason this is simp?</p>",
        "id": 437906778,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1715300803
    },
    {
        "content": "<p>That'll be the power of <a href=\"https://github.com/leanprover-community/mathlib4/blob/21349deb2a2262979f379fe73898a2df714bbdd5/Mathlib/Algebra/MvPolynomial/Equiv.lean#L286-L286\"><code>@[simps!]</code></a></p>",
        "id": 438076486,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1715399804
    },
    {
        "content": "<p>I'm surprised it's unfolding <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Option.elim#doc\">docs#Option.elim</a></p>",
        "id": 438321256,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1715594289
    },
    {
        "content": "<p>Ugh, why is Option.elim <code>simp</code>? That looks like the issue here</p>",
        "id": 438321459,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1715594360
    },
    {
        "content": "<p>Happy to merge a PR replacing that @[simp] annotation with appropriate simp lemmas.</p>",
        "id": 438329947,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1715597304
    },
    {
        "content": "<p>I guess the equation lemmas RFC that <span class=\"user-mention\" data-user-id=\"470149\">@Joachim Breitner</span> wrote will resolve this</p>",
        "id": 438330548,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1715597530
    },
    {
        "content": "<p>And it seems that perhaps <code>Option.elim</code> is already de-<code>simp</code>ed somewhere in mathlib, as it doesn't show up as <code>simp</code> in the docs</p>",
        "id": 438330603,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1715597548
    },
    {
        "content": "<p>Might just be an issue with the docs, because we do have <code>simp? says simp only [apply_ite, eval_ite_var, Option.elim, ite_eq_iff']</code></p>",
        "id": 438337298,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1715599796
    },
    {
        "content": "<p>(FWIW I searched in mathlib and couldn't find it being un-simped)</p>",
        "id": 438342269,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1715601299
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/optionEquivLeft_apply.20simp/near/438330548\">said</a>:</p>\n<blockquote>\n<p>I guess the equation lemmas RFC that <span class=\"user-mention silent\" data-user-id=\"470149\">Joachim Breitner</span> wrote will resolve this</p>\n</blockquote>\n<p>Probably better to clean this up in the meantime.</p>",
        "id": 438343384,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1715601644
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/287929-mathlib4/topic/optionEquivLeft_apply.20simp/near/438329947\">said</a>:</p>\n<blockquote>\n<p>Happy to merge a PR replacing that @[simp] annotation with appropriate simp lemmas.</p>\n</blockquote>\n<p>This came up for me while making <a href=\"https://github.com/leanprover-community/mathlib4/pull/11114\">#11114</a> and seeing that the lemmas I was adding were already simp-proved, so maybe if we remove these, that PR should add simps to the lemmas it adds.</p>",
        "id": 438423851,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1715625181
    },
    {
        "content": "<p>Sorry, I don't understand your message. I was talking about a PR to Lean to remove @[simp] from <code>Option.elim</code>.</p>",
        "id": 438481330,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1715650583
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/287929-mathlib4/topic/optionEquivLeft_apply.20simp/near/438481330\">said</a>:</p>\n<blockquote>\n<p>Sorry, I don't understand your message. I was talking about a PR to Lean to remove @[simp] from <code>Option.elim</code>.</p>\n</blockquote>\n<p>Ah ok, I can put this on my to-do list.</p>",
        "id": 438667724,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1715724575
    },
    {
        "content": "<p>Note that this is also an issue for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MvPolynomial.finSuccEquiv_apply#doc\">docs#MvPolynomial.finSuccEquiv_apply</a>, as seen in <a href=\"#narrow/stream/113489-new-members/topic/Problem.20with.20MvPolynomial.2EfinSuccEquiv.20and.20Fin.2Ecases/near/445637887\">this thread</a>.</p>",
        "id": 445668996,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718819567
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/stream/287929-mathlib4/topic/optionEquivLeft_apply.20simp/near/438481330\">said</a>:</p>\n<blockquote>\n<p>Sorry, I don't understand your message. I was talking about a PR to Lean to remove @[simp] from <code>Option.elim</code>.</p>\n</blockquote>\n<p>Is there something special I have to do to edit lean files in the <code>src</code> folder with the InfoView active? I am getting errors when I open these files:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">boltonbailey</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">mathlibcontribution</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">/</span><span class=\"n\">src</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">2.39</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Apple</span><span class=\"w\"> </span><span class=\"n\">Git</span><span class=\"bp\">-</span><span class=\"mi\">143</span><span class=\"o\">)</span>\n\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">boltonbailey</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">mathlibcontribution</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">/</span><span class=\"n\">src</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">downloading</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">lean'</span>\n<span class=\"n\">Error</span><span class=\"o\">(</span><span class=\"n\">Download</span><span class=\"o\">(</span><span class=\"n\">HttpStatus</span><span class=\"o\">(</span><span class=\"mi\">404</span><span class=\"o\">)),</span><span class=\"w\"> </span><span class=\"n\">State</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">next_error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">None</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">InternalBacktrace</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">None</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">})</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">could</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">download</span><span class=\"w\"> </span><span class=\"n\">nonexistent</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"ss\">`lean4</span><span class=\"bp\">-</span><span class=\"n\">stage0</span><span class=\"bp\">`</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">caused</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">could</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">download</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">/</span><span class=\"n\">releases</span><span class=\"bp\">/</span><span class=\"n\">expanded_assets</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">-</span><span class=\"n\">stage0'</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"bp\">'/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">boltonbailey</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">tmp</span><span class=\"bp\">/</span><span class=\"n\">n_pyewkm6glgurbq_file'</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">caused</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">http</span><span class=\"w\"> </span><span class=\"n\">request</span><span class=\"w\"> </span><span class=\"n\">returned</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"n\">unsuccessful</span><span class=\"w\"> </span><span class=\"n\">status</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">404</span>\n<span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Operation</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Exit</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">1.</span>\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">boltonbailey</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">mathlibcontribution</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">/</span><span class=\"n\">src</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">curl</span><span class=\"w\"> </span><span class=\"mf\">8.6</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x86_64</span><span class=\"bp\">-</span><span class=\"n\">apple</span><span class=\"bp\">-</span><span class=\"n\">darwin23</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">libcurl</span><span class=\"bp\">/</span><span class=\"mf\">8.6</span><span class=\"bp\">.</span><span class=\"m\">0</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">SecureTransport</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">LibreSSL</span><span class=\"bp\">/</span><span class=\"mf\">3.3</span><span class=\"bp\">.</span><span class=\"m\">6</span><span class=\"w\"> </span><span class=\"n\">zlib</span><span class=\"bp\">/</span><span class=\"mf\">1.2</span><span class=\"bp\">.</span><span class=\"m\">12</span><span class=\"w\"> </span><span class=\"n\">nghttp2</span><span class=\"bp\">/</span><span class=\"mf\">1.61</span><span class=\"bp\">.</span><span class=\"m\">0</span>\n<span class=\"n\">Release</span><span class=\"bp\">-</span><span class=\"n\">Date</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"bp\">-</span><span class=\"mi\">01</span><span class=\"bp\">-</span><span class=\"mi\">31</span>\n<span class=\"n\">Protocols</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">dict</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">ftp</span><span class=\"w\"> </span><span class=\"n\">ftps</span><span class=\"w\"> </span><span class=\"n\">gopher</span><span class=\"w\"> </span><span class=\"n\">gophers</span><span class=\"w\"> </span><span class=\"n\">http</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"w\"> </span><span class=\"n\">imap</span><span class=\"w\"> </span><span class=\"n\">imaps</span><span class=\"w\"> </span><span class=\"n\">ipfs</span><span class=\"w\"> </span><span class=\"n\">ipns</span><span class=\"w\"> </span><span class=\"n\">ldap</span><span class=\"w\"> </span><span class=\"n\">ldaps</span><span class=\"w\"> </span><span class=\"n\">mqtt</span><span class=\"w\"> </span><span class=\"n\">pop3</span><span class=\"w\"> </span><span class=\"n\">pop3s</span><span class=\"w\"> </span><span class=\"n\">rtsp</span><span class=\"w\"> </span><span class=\"n\">smb</span><span class=\"w\"> </span><span class=\"n\">smbs</span><span class=\"w\"> </span><span class=\"n\">smtp</span><span class=\"w\"> </span><span class=\"n\">smtps</span><span class=\"w\"> </span><span class=\"n\">telnet</span><span class=\"w\"> </span><span class=\"n\">tftp</span>\n<span class=\"n\">Features</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">alt</span><span class=\"bp\">-</span><span class=\"n\">svc</span><span class=\"w\"> </span><span class=\"n\">AsynchDNS</span><span class=\"w\"> </span><span class=\"n\">GSS</span><span class=\"bp\">-</span><span class=\"n\">API</span><span class=\"w\"> </span><span class=\"n\">HSTS</span><span class=\"w\"> </span><span class=\"n\">HTTP2</span><span class=\"w\"> </span><span class=\"n\">HTTPS</span><span class=\"bp\">-</span><span class=\"n\">proxy</span><span class=\"w\"> </span><span class=\"n\">IPv6</span><span class=\"w\"> </span><span class=\"n\">Kerberos</span><span class=\"w\"> </span><span class=\"n\">Largefile</span><span class=\"w\"> </span><span class=\"n\">libz</span><span class=\"w\"> </span><span class=\"n\">MultiSSL</span><span class=\"w\"> </span><span class=\"n\">NTLM</span><span class=\"w\"> </span><span class=\"n\">NTLM_WB</span><span class=\"w\"> </span><span class=\"n\">SPNEGO</span><span class=\"w\"> </span><span class=\"n\">SSL</span><span class=\"w\"> </span><span class=\"n\">threadsafe</span><span class=\"w\"> </span><span class=\"n\">UnixSockets</span>\n\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">boltonbailey</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">mathlibcontribution</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">/</span><span class=\"n\">src</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">2.39</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Apple</span><span class=\"w\"> </span><span class=\"n\">Git</span><span class=\"bp\">-</span><span class=\"mi\">143</span><span class=\"o\">)</span>\n\n<span class=\"bp\">/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">boltonbailey</span><span class=\"bp\">/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">mathlibcontribution</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">/</span><span class=\"n\">src</span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"c1\">--version</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">downloading</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">lean'</span>\n<span class=\"n\">Error</span><span class=\"o\">(</span><span class=\"n\">Download</span><span class=\"o\">(</span><span class=\"n\">HttpStatus</span><span class=\"o\">(</span><span class=\"mi\">404</span><span class=\"o\">)),</span><span class=\"w\"> </span><span class=\"n\">State</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">next_error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">None</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">InternalBacktrace</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">None</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">})</span>\n<span class=\"n\">error</span><span class=\"o\">:</span>\n<span class=\"n\">could</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">download</span><span class=\"w\"> </span><span class=\"n\">nonexistent</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"ss\">`lean4</span><span class=\"bp\">-</span><span class=\"n\">stage0</span><span class=\"bp\">`</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">caused</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">could</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">download</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">/</span><span class=\"n\">releases</span><span class=\"bp\">/</span><span class=\"n\">expanded_assets</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">-</span><span class=\"n\">stage0'</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"bp\">'/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">boltonbailey</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">tmp</span><span class=\"bp\">/</span><span class=\"n\">pr_vdkwy20ra9g11_file'</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">caused</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">http</span><span class=\"w\"> </span><span class=\"n\">request</span><span class=\"w\"> </span><span class=\"n\">returned</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"n\">unsuccessful</span><span class=\"w\"> </span><span class=\"n\">status</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">404</span>\n<span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Operation</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Exit</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mf\">1.</span>\n</code></pre></div>",
        "id": 445671622,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718820448
    },
    {
        "content": "<p><code>elan toolchain link lean4-stage0 build/release/stage0</code> after building the files </p>\n<p>Similarly for <code>stage1</code></p>",
        "id": 445671956,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718820586
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/optionEquivLeft_apply.20simp/near/438321459\">said</a>:</p>\n<blockquote>\n<p>Ugh, why is Option.elim <code>simp</code>? That looks like the issue here</p>\n</blockquote>\n<p>Even removing this, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/MvPolynomial/Equiv.html#MvPolynomial.optionEquivLeft_apply\">MvPolynomial.optionEquivLeft_apply</a> becomes</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">MvPolynomial</span><span class=\"bp\">.</span><span class=\"n\">optionEquivLeft_apply</span><span class=\"bp\">.</span><span class=\"o\">{</span><span class=\"n\">u</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">S₁</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">v</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommSemiring</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">MvPolynomial</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Option</span><span class=\"w\"> </span><span class=\"n\">S₁</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">optionEquivLeft</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"n\">S₁</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">aeval</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">o</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">↦</span><span class=\"w\"> </span><span class=\"n\">Polynomial</span><span class=\"bp\">.</span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">))</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>\n<p>Which again has more characters on the RHS of the equals sign.</p>",
        "id": 445672252,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718820695
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306577\">Matthew Ballard</span> <a href=\"#narrow/stream/287929-mathlib4/topic/optionEquivLeft_apply.20simp/near/445671956\">said</a>:</p>\n<blockquote>\n<p><code>elan toolchain link lean4-stage0 build/release/stage0</code> after building the files </p>\n<p>Similarly for <code>stage1</code></p>\n</blockquote>\n<p>Ok, but the problem is that I don't know how to build this, I am getting</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">build</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">downloading</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">lean'</span>\n<span class=\"n\">Error</span><span class=\"o\">(</span><span class=\"n\">Download</span><span class=\"o\">(</span><span class=\"n\">HttpStatus</span><span class=\"o\">(</span><span class=\"mi\">404</span><span class=\"o\">)),</span><span class=\"w\"> </span><span class=\"n\">State</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">next_error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">None</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">InternalBacktrace</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">None</span><span class=\"w\"> </span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">})</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">could</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">download</span><span class=\"w\"> </span><span class=\"n\">nonexistent</span><span class=\"w\"> </span><span class=\"n\">lean</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"ss\">`lean4</span><span class=\"bp\">-</span><span class=\"n\">stage0</span><span class=\"bp\">`</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">caused</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">could</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">download</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">/</span><span class=\"n\">releases</span><span class=\"bp\">/</span><span class=\"n\">expanded_assets</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">-</span><span class=\"n\">stage0'</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"bp\">'/</span><span class=\"n\">Users</span><span class=\"bp\">/</span><span class=\"n\">boltonbailey</span><span class=\"bp\">/.</span><span class=\"n\">elan</span><span class=\"bp\">/</span><span class=\"n\">tmp</span><span class=\"bp\">/</span><span class=\"mi\">46</span><span class=\"n\">v_dlvxre2jxxew_file'</span>\n<span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">caused</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">http</span><span class=\"w\"> </span><span class=\"n\">request</span><span class=\"w\"> </span><span class=\"n\">returned</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"n\">unsuccessful</span><span class=\"w\"> </span><span class=\"n\">status</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">404</span>\n</code></pre></div>",
        "id": 445672601,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718820837
    },
    {
        "content": "<ul>\n<li><code>mkdir -p build/release</code> </li>\n<li><code>cd build/release</code></li>\n<li><code>cmake ../..</code></li>\n<li><code>make -jN</code> for N = number of cores on your machine</li>\n</ul>",
        "id": 445672815,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718820913
    },
    {
        "content": "<p>I am copying from memory from <a href=\"https://lean-lang.org/lean4/doc/dev/index.html#development-workflow\">https://lean-lang.org/lean4/doc/dev/index.html#development-workflow</a></p>",
        "id": 445673467,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718821157
    },
    {
        "content": "<p>Is it going to be a problem that <a href=\"#narrow/stream/113488-general/topic/elan.20not.20updating/near/442892686\">I have not been able to upgrade my elan above version <code>1.4.2</code>?</a></p>",
        "id": 445673903,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718821319
    },
    {
        "content": "<p>Maybe? But you probably want to nuke your <code>~/.elan</code> folder, uninstall it from <code>homebrew</code> and then reinstall using by piping the script from the repo</p>",
        "id": 445674137,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718821401
    },
    {
        "content": "<p>Ok thanks <span class=\"user-mention\" data-user-id=\"306577\">@Matthew Ballard</span> for all your help resolving my technical difficulties</p>\n<p><span class=\"user-mention\" data-user-id=\"110087\">@Kim Morrison</span> , I have made a PR <a href=\"https://github.com/leanprover/lean4/pull/4504\">lean4#4504</a>, currently very simple. Please let me know if there is something I should do in the way of making it better / making sure everyone is ok with it / making sure it doesn't break mathlib.</p>",
        "id": 445706483,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718832688
    },
    {
        "content": "<p>Following the bot's suggestion: <a href=\"https://github.com/leanprover/lean4/pull/4504#issuecomment-2179478048\">https://github.com/leanprover/lean4/pull/4504#issuecomment-2179478048</a></p>",
        "id": 445706593,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718832741
    },
    {
        "content": "<p>Then you will be able to see the downstream breakage/lack of breakage</p>",
        "id": 445706669,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718832791
    },
    {
        "content": "<p>That does not seem to have worked <span aria-label=\"frown\" class=\"emoji emoji-1f641\" role=\"img\" title=\"frown\">:frown:</span></p>",
        "id": 445708671,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718833825
    },
    {
        "content": "<p>Are you sure that that is a good idea? This tutorial says \"<a href=\"https://www.atlassian.com/git/tutorials/rewriting-history/git-rebase\">you should never rebase commits once they've been pushed to a public repository.</a>\"</p>",
        "id": 445708963,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718833981
    },
    {
        "content": "<p>PRs don't count</p>",
        "id": 445709178,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1718834087
    },
    {
        "content": "<p>Ok I am running the exact command it tells me to run, and nothing is happening</p>",
        "id": 445709360,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718834178
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">rebase</span><span class=\"w\"> </span><span class=\"n\">bc047b8530f76f75c4456192b3ca24ad28c85420</span><span class=\"w\"> </span><span class=\"c1\">--onto 1cf71e54cf268e87cf5c43c830d953f5c88e6c39</span>\n<span class=\"n\">Successfully</span><span class=\"w\"> </span><span class=\"n\">rebased</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">updated</span><span class=\"w\"> </span><span class=\"n\">refs</span><span class=\"bp\">/</span><span class=\"n\">heads</span><span class=\"bp\">/</span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"bp\">.</span><span class=\"w\">                        </span><span class=\"bp\">/</span><span class=\"mf\">0.7</span><span class=\"n\">s</span>\n</code></pre></div>",
        "id": 445709395,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718834202
    },
    {
        "content": "<p>But when I sync it doesn't show up on the PR</p>",
        "id": 445709433,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718834221
    },
    {
        "content": "<p>Leo's suggestion in the comments should work</p>",
        "id": 445716209,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718837564
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"282271\">@Bolton Bailey</span>, let us know if you need more help with the rebase.</p>",
        "id": 445982341,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1718933615
    },
    {
        "content": "<p>Thanks. I have tried your suggestion, and that does indeed seem to get me to a place where I can run </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">~/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">mathlibcontribution</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"w\"> </span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"bp\">........................</span><span class=\"w\"> </span><span class=\"n\">PIPE</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"mi\">07</span><span class=\"o\">:</span><span class=\"mi\">02</span>\n<span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">remote</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">v</span>\n<span class=\"n\">origin</span><span class=\"w\">  </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">BoltonBailey</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">.</span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">fetch</span><span class=\"o\">)</span>\n<span class=\"n\">origin</span><span class=\"w\">  </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">BoltonBailey</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">.</span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">push</span><span class=\"o\">)</span>\n<span class=\"n\">upstream</span><span class=\"w\">        </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">.</span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">fetch</span><span class=\"o\">)</span>\n<span class=\"n\">upstream</span><span class=\"w\">        </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">.</span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">push</span><span class=\"o\">)</span><span class=\"w\">                           </span><span class=\"bp\">/</span><span class=\"mf\">0.0</span><span class=\"n\">s</span>\n\n<span class=\"bp\">~/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">mathlibcontribution</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"w\"> </span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"bp\">.............................</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"mi\">07</span><span class=\"o\">:</span><span class=\"mi\">09</span>\n<span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">reset</span><span class=\"w\"> </span><span class=\"c1\">--hard upstream/nightly-with-mathlib</span>\n\n<span class=\"n\">HEAD</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">now</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"mi\">357</span><span class=\"n\">b52928f</span><span class=\"w\"> </span><span class=\"n\">fix</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">global</span><span class=\"w\"> </span><span class=\"n\">definition</span><span class=\"w\"> </span><span class=\"n\">shadowing</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"kn\">local</span><span class=\"w\"> </span><span class=\"n\">one</span><span class=\"w\"> </span><span class=\"n\">when</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">dot</span><span class=\"bp\">-</span><span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">#</span><span class=\"mi\">4497</span><span class=\"o\">)</span><span class=\"w\">                                                                                 </span><span class=\"bp\">/</span><span class=\"mf\">0.7</span><span class=\"n\">s</span>\n</code></pre></div>\n<p>And this looks like it is working. VSCode now informs me that I have 35 commits to pull. I am not sure if I should pull those or not (I tried both ways, I don't think either worked, there weren't any instructions about that from Leo). If I proceed without pulling</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">~/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">mathlibcontribution</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"w\"> </span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"mi\">35</span><span class=\"w\"> </span><span class=\"bp\">.........................</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"mi\">07</span><span class=\"o\">:</span><span class=\"mi\">23</span>\n<span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">cherry</span><span class=\"bp\">-</span><span class=\"n\">pick</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"n\">c29870c1aa</span>\n\n<span class=\"o\">[</span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">f1e343901</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"n\">changes</span>\n<span class=\"w\"> </span><span class=\"n\">Date</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Wed</span><span class=\"w\"> </span><span class=\"n\">Jun</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"mi\">04</span><span class=\"o\">:</span><span class=\"mi\">00</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">0400</span>\n<span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">changed</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"n\">insertions</span><span class=\"o\">(</span><span class=\"bp\">+</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">deletion</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"o\">)</span><span class=\"w\">                                          </span><span class=\"bp\">/</span><span class=\"mf\">0.2</span><span class=\"n\">s</span>\n\n<span class=\"bp\">~/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">mathlibcontribution</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"w\"> </span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"mi\">35</span><span class=\"bp\">&gt;</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">.......................</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"mi\">09</span><span class=\"o\">:</span><span class=\"mi\">14</span>\n<span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">cherry</span><span class=\"bp\">-</span><span class=\"n\">pick</span><span class=\"w\"> </span><span class=\"mi\">4554124</span><span class=\"n\">b873</span>\n<span class=\"o\">[</span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"n\">eece7c06e</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">remove</span><span class=\"w\"> </span><span class=\"n\">duped</span><span class=\"w\"> </span><span class=\"n\">lemmas</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">preexisting</span><span class=\"w\"> </span><span class=\"n\">ones</span>\n<span class=\"w\"> </span><span class=\"n\">Date</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Wed</span><span class=\"w\"> </span><span class=\"n\">Jun</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"mi\">12</span><span class=\"o\">:</span><span class=\"mi\">24</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">0400</span>\n<span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"n\">files</span><span class=\"w\"> </span><span class=\"n\">changed</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"n\">insertions</span><span class=\"o\">(</span><span class=\"bp\">+</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"n\">deletions</span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"o\">)</span><span class=\"w\">                                        </span><span class=\"bp\">/</span><span class=\"mf\">0.1</span><span class=\"n\">s</span>\n</code></pre></div>\n<p>After these commands the VSCode indicator says there are now 2 commands to push. But</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">~/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">mathlibcontribution</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"w\"> </span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"mi\">35</span><span class=\"bp\">&gt;</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">.......................</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"mi\">09</span><span class=\"o\">:</span><span class=\"mi\">18</span>\n<span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">push</span>\n<span class=\"n\">To</span><span class=\"w\"> </span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">BoltonBailey</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">.</span><span class=\"n\">git</span>\n<span class=\"w\"> </span><span class=\"bp\">!</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">rejected</span><span class=\"o\">]</span><span class=\"w\">              </span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">non</span><span class=\"bp\">-</span><span class=\"n\">fast</span><span class=\"bp\">-</span><span class=\"n\">forward</span><span class=\"o\">)</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">push</span><span class=\"w\"> </span><span class=\"n\">some</span><span class=\"w\"> </span><span class=\"n\">refs</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">github</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">/</span><span class=\"n\">BoltonBailey</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"bp\">.</span><span class=\"n\">git'</span>\n<span class=\"n\">hint</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Updates</span><span class=\"w\"> </span><span class=\"n\">were</span><span class=\"w\"> </span><span class=\"n\">rejected</span><span class=\"w\"> </span><span class=\"n\">because</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">tip</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">your</span><span class=\"w\"> </span><span class=\"n\">current</span><span class=\"w\"> </span><span class=\"n\">branch</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">behind</span>\n<span class=\"n\">hint</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">its</span><span class=\"w\"> </span><span class=\"n\">remote</span><span class=\"w\"> </span><span class=\"n\">counterpart</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">Integrate</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">remote</span><span class=\"w\"> </span><span class=\"n\">changes</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e</span><span class=\"bp\">.</span><span class=\"n\">g</span><span class=\"bp\">.</span>\n<span class=\"n\">hint</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">pull</span><span class=\"w\"> </span><span class=\"bp\">...'</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">before</span><span class=\"w\"> </span><span class=\"n\">pushing</span><span class=\"w\"> </span><span class=\"n\">again</span><span class=\"bp\">.</span>\n<span class=\"n\">hint</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">See</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">Note</span><span class=\"w\"> </span><span class=\"n\">about</span><span class=\"w\"> </span><span class=\"n\">fast</span><span class=\"bp\">-</span><span class=\"n\">forwards'</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">push</span><span class=\"w\"> </span><span class=\"c1\">--help' for details.               /0.6s</span>\n</code></pre></div>\n<p>So it looks like I screwed up not pulling before</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">~/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">mathlibcontribution</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"w\"> </span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"mi\">35</span><span class=\"bp\">&gt;</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">.......................</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"mi\">18</span>\n<span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">pull</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">skipped</span><span class=\"w\"> </span><span class=\"n\">previously</span><span class=\"w\"> </span><span class=\"n\">applied</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">f1e343901</span>\n<span class=\"n\">warning</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">skipped</span><span class=\"w\"> </span><span class=\"n\">previously</span><span class=\"w\"> </span><span class=\"n\">applied</span><span class=\"w\"> </span><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"n\">eece7c06e</span>\n<span class=\"n\">hint</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">use</span><span class=\"w\"> </span><span class=\"c1\">--reapply-cherry-picks to include skipped commits</span>\n<span class=\"n\">hint</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Disable</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">message</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"s2\">\"git config advice.skippedCherryPicks false\"</span>\n<span class=\"n\">Successfully</span><span class=\"w\"> </span><span class=\"n\">rebased</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">updated</span><span class=\"w\"> </span><span class=\"n\">refs</span><span class=\"bp\">/</span><span class=\"n\">heads</span><span class=\"bp\">/</span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"bp\">.</span><span class=\"w\">                          </span><span class=\"bp\">/</span><span class=\"mf\">1.3</span><span class=\"n\">s</span>\n</code></pre></div>\n<p>But now it says I have nothing to push</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">~/</span><span class=\"n\">Desktop</span><span class=\"bp\">/</span><span class=\"n\">mathlibcontribution</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"w\"> </span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"bp\">.............................</span><span class=\"w\"> </span><span class=\"mi\">11</span><span class=\"o\">:</span><span class=\"mi\">13</span><span class=\"o\">:</span><span class=\"mi\">22</span>\n<span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">push</span>\n<span class=\"n\">Everything</span><span class=\"w\"> </span><span class=\"n\">up</span><span class=\"bp\">-</span><span class=\"n\">to</span><span class=\"bp\">-</span><span class=\"n\">date</span><span class=\"w\">                                                                    </span><span class=\"bp\">/</span><span class=\"mf\">0.6</span><span class=\"n\">s</span>\n</code></pre></div>",
        "id": 446103565,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718982880
    },
    {
        "content": "<p>And git log, if I am reading it right, tells me I am still branching off of master (although a later master than the one I started with, I do not understand how that is possible given I explicitly referenced <code>nightly-with-mathlib</code> branch above, I would expect it to either be that branch or that the whole process somehow failed and left me with the same branching off point as before).</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"mi\">023</span><span class=\"n\">d76943c3b66e06918e2beb052445786468e4a</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">HEAD</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">origin</span><span class=\"bp\">/</span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">opt</span>\n<span class=\"n\">ion</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"o\">)</span>\n<span class=\"n\">Author</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bolton</span><span class=\"w\"> </span><span class=\"n\">Bailey</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"n\">bolton</span><span class=\"bp\">.</span><span class=\"n\">bailey</span><span class=\"bp\">@</span><span class=\"n\">gmail</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">&gt;</span>\n<span class=\"n\">Date</span><span class=\"o\">:</span><span class=\"w\">   </span><span class=\"n\">Wed</span><span class=\"w\"> </span><span class=\"n\">Jun</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"mi\">12</span><span class=\"o\">:</span><span class=\"mi\">24</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">0400</span>\n\n<span class=\"w\">    </span><span class=\"n\">remove</span><span class=\"w\"> </span><span class=\"n\">duped</span><span class=\"w\"> </span><span class=\"n\">lemmas</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">preexisting</span><span class=\"w\"> </span><span class=\"n\">ones</span>\n\n<span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"mi\">20</span><span class=\"n\">ba9b0405337b4eb9c60505ea7a12a1b2dc7319</span>\n<span class=\"n\">Author</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bolton</span><span class=\"w\"> </span><span class=\"n\">Bailey</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"n\">bolton</span><span class=\"bp\">.</span><span class=\"n\">bailey</span><span class=\"bp\">@</span><span class=\"n\">gmail</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">&gt;</span>\n<span class=\"n\">Date</span><span class=\"o\">:</span><span class=\"w\">   </span><span class=\"n\">Wed</span><span class=\"w\"> </span><span class=\"n\">Jun</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"mi\">04</span><span class=\"o\">:</span><span class=\"mi\">00</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">0400</span>\n\n<span class=\"w\">    </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"n\">changes</span>\n\n<span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"n\">d1d9c04938676f939a4d5f6233575b47cb6f2d6</span>\n<span class=\"n\">Merge</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"n\">ac79832a0</span><span class=\"w\"> </span><span class=\"mi\">84</span><span class=\"n\">e46162b5</span>\n<span class=\"n\">Author</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bolton</span><span class=\"w\"> </span><span class=\"n\">Bailey</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"n\">bolton</span><span class=\"bp\">.</span><span class=\"n\">bailey</span><span class=\"bp\">@</span><span class=\"n\">gmail</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">&gt;</span>\n<span class=\"n\">Date</span><span class=\"o\">:</span><span class=\"w\">   </span><span class=\"n\">Fri</span><span class=\"w\"> </span><span class=\"n\">Jun</span><span class=\"w\"> </span><span class=\"mi\">21</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"o\">:</span><span class=\"mi\">44</span><span class=\"o\">:</span><span class=\"mi\">15</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">0400</span>\n\n<span class=\"w\">    </span><span class=\"n\">Merge</span><span class=\"w\"> </span><span class=\"n\">branch</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">leanprover</span><span class=\"o\">:</span><span class=\"n\">master'</span><span class=\"w\"> </span><span class=\"n\">into</span><span class=\"w\"> </span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span>\n\n<span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"mi\">84</span><span class=\"n\">e46162b5d25581039cd575c40bc6bd347f0853</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">upstream</span><span class=\"bp\">/</span><span class=\"n\">master</span><span class=\"o\">)</span>\n<span class=\"n\">Author</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">David</span><span class=\"w\"> </span><span class=\"n\">Thrane</span><span class=\"w\"> </span><span class=\"n\">Christiansen</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"n\">david</span><span class=\"bp\">@</span><span class=\"n\">davidchristiansen</span><span class=\"bp\">.</span><span class=\"n\">dk</span><span class=\"bp\">&gt;</span>\n<span class=\"n\">Date</span><span class=\"o\">:</span><span class=\"w\">   </span><span class=\"n\">Fri</span><span class=\"w\"> </span><span class=\"n\">Jun</span><span class=\"w\"> </span><span class=\"mi\">21</span><span class=\"w\"> </span><span class=\"mi\">14</span><span class=\"o\">:</span><span class=\"mi\">49</span><span class=\"o\">:</span><span class=\"mi\">30</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"mi\">0200</span>\n\n<span class=\"w\">    </span><span class=\"n\">feat</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">more</span><span class=\"w\"> </span><span class=\"n\">infrastructure</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">tactic</span><span class=\"w\"> </span><span class=\"n\">documentation</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">#</span><span class=\"mi\">4490</span><span class=\"o\">)</span>\n\n<span class=\"w\">    </span><span class=\"n\">This</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">groundwork</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">tactic</span><span class=\"w\"> </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">generated</span><span class=\"w\"> </span><span class=\"n\">documentation</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">as</span>\n<span class=\"w\">    </span><span class=\"n\">there</span><span class=\"w\"> </span><span class=\"n\">was</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"mf\">3.</span><span class=\"w\"> </span><span class=\"n\">There</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">few</span><span class=\"w\"> </span><span class=\"n\">challenges</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">getting</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">work</span>\n<span class=\"w\">    </span><span class=\"n\">well</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">There's</span><span class=\"w\"> </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">natural</span><span class=\"w\"> </span><span class=\"n\">notion</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"n\">tactic</span><span class=\"w\"> </span><span class=\"n\">identity</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">tactic</span><span class=\"w\"> </span><span class=\"n\">may</span><span class=\"w\"> </span><span class=\"n\">be</span>\n<span class=\"w\">    </span><span class=\"n\">specified</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">multiple</span><span class=\"w\"> </span><span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"n\">rules</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">e</span><span class=\"bp\">.</span><span class=\"n\">g</span><span class=\"bp\">.</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">pattern</span><span class=\"bp\">-</span><span class=\"n\">matching</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"n\">of</span>\n<span class=\"w\">    </span><span class=\"ss\">`intro</span><span class=\"bp\">`</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">specified</span><span class=\"w\"> </span><span class=\"n\">apart</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">default</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">both</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">the</span>\n<span class=\"w\">    </span><span class=\"n\">same</span><span class=\"w\"> </span><span class=\"k\">from</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">user</span><span class=\"w\"> </span><span class=\"n\">perspective</span><span class=\"o\">)</span>\n<span class=\"w\">    </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">There's</span><span class=\"w\"> </span><span class=\"n\">no</span><span class=\"w\"> </span><span class=\"n\">natural</span><span class=\"w\"> </span><span class=\"n\">notion</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"n\">tactic</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">here</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">we</span><span class=\"w\"> </span><span class=\"n\">take</span><span class=\"w\"> </span><span class=\"n\">the</span>\n<span class=\"w\">    </span><span class=\"n\">pragmatic</span><span class=\"w\"> </span><span class=\"n\">choice</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">first</span><span class=\"w\"> </span><span class=\"n\">keyword</span><span class=\"w\"> </span><span class=\"n\">atom</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">tactic's</span><span class=\"w\"> </span><span class=\"kn\">syntax</span>\n<span class=\"w\">    </span><span class=\"n\">specification</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">may</span><span class=\"w\"> </span><span class=\"n\">need</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">overridable</span><span class=\"w\"> </span><span class=\"n\">someday</span><span class=\"bp\">.</span>\n<span class=\"w\">    </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"n\">Tactics</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">extensible</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">we</span><span class=\"w\"> </span><span class=\"n\">don't</span><span class=\"w\"> </span><span class=\"n\">want</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">allow</span><span class=\"w\"> </span><span class=\"n\">arbitrary</span><span class=\"w\"> </span><span class=\"n\">imports</span>\n<span class=\"w\">    </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">clobber</span><span class=\"w\"> </span><span class=\"n\">existing</span><span class=\"w\"> </span><span class=\"n\">tactic</span><span class=\"w\"> </span><span class=\"n\">docstrings</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">which</span><span class=\"w\"> </span><span class=\"n\">could</span><span class=\"w\"> </span><span class=\"n\">become</span><span class=\"w\"> </span><span class=\"n\">unpredictable</span>\n<span class=\"w\">    </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">practice</span><span class=\"bp\">.</span>\n</code></pre></div>",
        "id": 446104476,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718983172
    },
    {
        "content": "<p>You need to force push to the remote after cherry picking</p>",
        "id": 446122475,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718988147
    },
    {
        "content": "<p><span aria-label=\"octopus\" class=\"emoji emoji-1f419\" role=\"img\" title=\"octopus\">:octopus:</span></p>",
        "id": 446123398,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718988413
    },
    {
        "content": "<p>Ok it seems like it worked, but the PR is still not showing a CI for checking mathlib. What has gone wrong now?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"mi\">7</span><span class=\"n\">bc3fd366cca2df130c302584c1fa8fa5adc7ca5</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">HEAD</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">origin</span><span class=\"bp\">/</span><span class=\"n\">desimp</span><span class=\"bp\">-</span><span class=\"n\">option</span><span class=\"bp\">-</span><span class=\"n\">elim</span><span class=\"o\">)</span>\n<span class=\"n\">Author</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bolton</span><span class=\"w\"> </span><span class=\"n\">Bailey</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"n\">bolton</span><span class=\"bp\">.</span><span class=\"n\">bailey</span><span class=\"bp\">@</span><span class=\"n\">gmail</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">&gt;</span>\n<span class=\"n\">Date</span><span class=\"o\">:</span><span class=\"w\">   </span><span class=\"n\">Wed</span><span class=\"w\"> </span><span class=\"n\">Jun</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"mi\">12</span><span class=\"o\">:</span><span class=\"mi\">24</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">0400</span>\n\n<span class=\"w\">    </span><span class=\"n\">remove</span><span class=\"w\"> </span><span class=\"n\">duped</span><span class=\"w\"> </span><span class=\"n\">lemmas</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"n\">preexisting</span><span class=\"w\"> </span><span class=\"n\">ones</span>\n\n<span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"n\">dee7a13643ee971daf52f23b3fd23f64d076df1</span>\n<span class=\"n\">Author</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Bolton</span><span class=\"w\"> </span><span class=\"n\">Bailey</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"n\">bolton</span><span class=\"bp\">.</span><span class=\"n\">bailey</span><span class=\"bp\">@</span><span class=\"n\">gmail</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">&gt;</span>\n<span class=\"n\">Date</span><span class=\"o\">:</span><span class=\"w\">   </span><span class=\"n\">Wed</span><span class=\"w\"> </span><span class=\"n\">Jun</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"mi\">04</span><span class=\"o\">:</span><span class=\"mi\">00</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">0400</span>\n\n<span class=\"w\">    </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"n\">changes</span>\n\n<span class=\"n\">commit</span><span class=\"w\"> </span><span class=\"mi\">357</span><span class=\"n\">b52928f905bfb85a3496e411cf12fa20e730c</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">upstream</span><span class=\"bp\">/</span><span class=\"n\">nightly</span><span class=\"bp\">-</span><span class=\"k\">with</span><span class=\"bp\">-</span><span class=\"n\">mathlib</span><span class=\"o\">)</span>\n<span class=\"n\">Author</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Leonardo</span><span class=\"w\"> </span><span class=\"n\">de</span><span class=\"w\"> </span><span class=\"n\">Moura</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"n\">leomoura</span><span class=\"bp\">@</span><span class=\"n\">amazon</span><span class=\"bp\">.</span><span class=\"n\">com</span><span class=\"bp\">&gt;</span>\n<span class=\"n\">Date</span><span class=\"o\">:</span><span class=\"w\">   </span><span class=\"n\">Wed</span><span class=\"w\"> </span><span class=\"n\">Jun</span><span class=\"w\"> </span><span class=\"mi\">19</span><span class=\"w\"> </span><span class=\"mi\">07</span><span class=\"o\">:</span><span class=\"mi\">52</span><span class=\"o\">:</span><span class=\"mi\">45</span><span class=\"w\"> </span><span class=\"mi\">2024</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"mi\">0200</span>\n\n<span class=\"w\">    </span><span class=\"n\">fix</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">global</span><span class=\"w\"> </span><span class=\"n\">definition</span><span class=\"w\"> </span><span class=\"n\">shadowing</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"kn\">local</span><span class=\"w\"> </span><span class=\"n\">one</span><span class=\"w\"> </span><span class=\"n\">when</span><span class=\"w\"> </span><span class=\"kn\">using</span><span class=\"w\"> </span><span class=\"n\">dot</span><span class=\"bp\">-</span><span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">#</span><span class=\"mi\">4497</span><span class=\"o\">)</span>\n\n<span class=\"w\">    </span><span class=\"n\">closes</span><span class=\"w\"> </span><span class=\"bp\">#</span><span class=\"mi\">3079</span>\n</code></pre></div>",
        "id": 446135036,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718991197
    },
    {
        "content": "<p>The PR CI says \"<strong>PR branched off:</strong> — nightly-2024-06-19\", is that how it's supposed to be?</p>",
        "id": 446136121,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718991446
    },
    {
        "content": "<p>You are good. You broke mathlib :)</p>",
        "id": 446137012,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718991652
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/tree/lean-pr-testing-4504\">branch#lean-pr-testing-4504</a> should be made whole now</p>",
        "id": 446137101,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718991687
    },
    {
        "content": "<p>Oh sweet, I just needed to wait. Thanks again!</p>",
        "id": 446137119,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718991698
    },
    {
        "content": "<p>You got to 4659/4678 so not painful</p>",
        "id": 446137430,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718991791
    },
    {
        "content": "<p>Getting the following error on <a href=\"https://github.com/leanprover-community/mathlib4/tree/lean-pr-testing-4504\">branch#lean-pr-testing-4504</a></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">info</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">downloading</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">lean'</span>\n<span class=\"n\">error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">binary</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">was</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">provided</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">darwin_aarch64'</span>\n</code></pre></div>\n<p>(Might be able to fix it even without lean running though)</p>",
        "id": 446139289,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718992523
    },
    {
        "content": "<p>You need to ask a core maintainer to apply the <code>full-CI</code> tag</p>",
        "id": 446139367,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718992557
    },
    {
        "content": "<p>Unless you want to drop into something running linux</p>",
        "id": 446139499,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718992602
    },
    {
        "content": "<p>Or go blind</p>",
        "id": 446139516,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1718992609
    },
    {
        "content": "<p>I will try going blind for now</p>",
        "id": 446139566,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1718992628
    },
    {
        "content": "<p>Ok, I got mathlib building in <a href=\"https://github.com/leanprover-community/mathlib4/tree/lean-pr-testing-4504\">branch#lean-pr-testing-4504</a>. What's the next step? Do I have to make a mathlib PR (that doesn't seem right, since surely mathlib <em>won't</em> build without this low level change)?</p>",
        "id": 446161691,
        "sender_full_name": "Bolton Bailey",
        "timestamp": 1719000012
    },
    {
        "content": "<p>Now you wait on review.</p>",
        "id": 446167712,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1719001796
    }
]