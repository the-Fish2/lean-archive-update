[
    {
        "content": "<p>What do you think about making <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=forall_swap#doc\">docs#forall_swap</a> a <code>simp</code> in a special case <code>α : Type*</code> <code>β : Prop</code>? Same about <code>iSup</code>, <code>iUnion</code>, <code>iInf</code> etc.</p>",
        "id": 417511962,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1706037176
    },
    {
        "content": "<p>See, e.g., <a href=\"https://github.com/leanprover-community/mathlib4/pull/8964#issuecomment-1850670423\">this comment</a> by <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> for motivation.</p>",
        "id": 417512039,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1706037217
    },
    {
        "content": "<p>So move all the types inward and all the props outward? Interesting...</p>",
        "id": 417512227,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1706037285
    },
    {
        "content": "<p>Currently, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=exists_and_left#doc\">docs#exists_and_left</a> is a <code>@[simp]</code> lemma. IMHO, <code>forall_imp_swap {α : Type*} {p : Prop} {q : α → p → Prop} := @forall_swap α p q</code> is very similar.</p>",
        "id": 417512327,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1706037322
    },
    {
        "content": "<p>This might be a good use for simprocs, where a simproc could do the transformation all at once rather than doing it as a bubble sort. I don't have any intuition though whether the transformation is a good idea or not in general.</p>",
        "id": 417530461,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1706044773
    },
    {
        "content": "<p>I would guess that the number of binders is rarely above 6, so a bubble sort isn't really all that bad</p>",
        "id": 417532078,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1706045389
    },
    {
        "content": "<p>Which is to say: let's try the lemma version and benchmark before expending effort on the simp proc</p>",
        "id": 417532208,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1706045417
    },
    {
        "content": "<p>I would be concerned about performance, I'm not sure how good the indexing is wrt universes</p>",
        "id": 417532333,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1706045476
    }
]