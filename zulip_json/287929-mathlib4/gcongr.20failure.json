[
    {
        "content": "<p>This theorem should be provable by <code>gcongr</code> as there is a proof term using only congruence lemmas in <code>gcongr</code>'s set, but <code>gcongr</code> does not remove anything beyond the ceiling signs:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.Data.Rat.Floor</span>\n\n<span class=\"kn\">open</span> <span class=\"n\">Int</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">pass</span> <span class=\"o\">{</span><span class=\"n\">b</span> <span class=\"n\">v</span> <span class=\"n\">r</span> <span class=\"o\">:</span> <span class=\"n\">ℚ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hb</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">≤</span> <span class=\"n\">b</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hr</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">≤</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"bp\">⌈</span><span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">-</span> <span class=\"n\">v</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"n\">r</span><span class=\"bp\">⌉</span> <span class=\"bp\">≤</span> <span class=\"bp\">⌈</span><span class=\"o\">(</span><span class=\"n\">b</span> <span class=\"bp\">-</span> <span class=\"n\">v</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"n\">r</span><span class=\"bp\">⌉</span> <span class=\"o\">:=</span>\n  <span class=\"n\">ceil_le_ceil</span> <span class=\"n\">_</span> <span class=\"n\">_</span> <span class=\"bp\">&lt;|</span> <span class=\"n\">div_le_div_of_le</span> <span class=\"n\">hr</span> <span class=\"bp\">&lt;|</span> <span class=\"n\">sub_le_sub_right</span> <span class=\"n\">hb</span> <span class=\"n\">v</span>\n\n<span class=\"kd\">lemma</span> <span class=\"n\">fail</span> <span class=\"o\">{</span><span class=\"n\">b</span> <span class=\"n\">v</span> <span class=\"n\">r</span> <span class=\"o\">:</span> <span class=\"n\">ℚ</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hb</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">≤</span> <span class=\"n\">b</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hr</span> <span class=\"o\">:</span> <span class=\"mi\">0</span> <span class=\"bp\">≤</span> <span class=\"n\">r</span><span class=\"o\">)</span> <span class=\"o\">:</span> <span class=\"bp\">⌈</span><span class=\"o\">(</span><span class=\"mi\">0</span> <span class=\"bp\">-</span> <span class=\"n\">v</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"n\">r</span><span class=\"bp\">⌉</span> <span class=\"bp\">≤</span> <span class=\"bp\">⌈</span><span class=\"o\">(</span><span class=\"n\">b</span> <span class=\"bp\">-</span> <span class=\"n\">v</span><span class=\"o\">)</span> <span class=\"bp\">/</span> <span class=\"n\">r</span><span class=\"bp\">⌉</span> <span class=\"o\">:=</span> <span class=\"kd\">by</span>\n  <span class=\"n\">gcongr</span>\n  <span class=\"c1\">-- (0 - v) / r ≤ (b - v) / r</span>\n  <span class=\"n\">gcongr</span> <span class=\"c1\">-- fails</span>\n</code></pre></div>\n<p><span class=\"user-mention\" data-user-id=\"260507\">@Heather Macbeth</span>?</p>",
        "id": 410687628,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1704081519
    },
    {
        "content": "<p>Context is <a href=\"https://github.com/leanprover-community/mathlib4/pull/9348/files#diff-d5d2cf7fb7cd3b433e15c84d5103ebcda0f770037f46f93afa6aab1bd2a62ea0R113-R114\">https://github.com/leanprover-community/mathlib4/pull/9348/files#diff-d5d2cf7fb7cd3b433e15c84d5103ebcda0f770037f46f93afa6aab1bd2a62ea0R113-R114</a></p>",
        "id": 410687784,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1704081648
    },
    {
        "content": "<p><code>attribute [gcongr] div_le_div_of_le_of_nonneg</code> fixes it</p>",
        "id": 410730072,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1704121252
    },
    {
        "content": "<p>It would be nice if you add <code>@[gcongr]</code> to other relevant lemmas in that file too.</p>",
        "id": 410730128,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1704121285
    }
]