[
    {
        "content": "<p>Seeing that <code>style-exceptions.txt</code> wasn't updated in some time (see other thread), I was wondering about <code>nolints.js</code>. Specifically,</p>\n<ul>\n<li>is this file ever automatically updated? The last ~five modifications coincide with renamings; I can imagine the author just renaming these manually. (I know mathlib3 had a bot for this; I don't know if this has been ported.)</li>\n<li>\n<p>how can I manually update the file?<br>\nI tried running<code>lake exe runLinter Mathlib</code>; this ran for a while and then remove all entries (which is clearly not correct).</p>\n</li>\n<li>\n<p>is there a way to only run some lints, e.g. just the <code>docBlame</code> linter? (A pointer to the docs is sufficient.)</p>\n</li>\n</ul>",
        "id": 416463453,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1705534455
    },
    {
        "content": "<p>In mathlib3 we had a bot that ran nightly to auto-update this</p>",
        "id": 416478716,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1705542522
    },
    {
        "content": "<p><code>lake exe runLinter Mathlib --update</code> is supposed to update the file</p>",
        "id": 416487921,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1705548102
    },
    {
        "content": "<p>(It should be <code>lake exe runLinter --update Mathlib</code>.)</p>",
        "id": 416533333,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1705571220
    },
    {
        "content": "<p>Trying that now... update: it worked (and took ages).</p>",
        "id": 416533479,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1705571276
    },
    {
        "content": "<p>Is there a way to run only some lints locally? <code>lake exe runLinter --help</code> is not helpful.</p>",
        "id": 416537387,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1705572439
    },
    {
        "content": "<p>Files <a href=\"https://github.com/leanprover-community/mathlib4/pull/9832\">#9832</a> with the new output. Quite a few changes; I commented on the PR.</p>",
        "id": 416540632,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1705573439
    },
    {
        "content": "<p>I don't understand how the file could have grown; if there are new lint errors, CI should have failed</p>",
        "id": 416548709,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1705576306
    },
    {
        "content": "<p>Opened PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/11894\">#11894</a> resolving nolints by adding docstrings for <code>CommRing</code> and <code>CommSemiring</code>.</p>",
        "id": 431341137,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1712244669
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/11904\">#11904</a> regenerates the file, removing ~20 entries which were fixed in the meantime.</p>",
        "id": 431394910,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1712261885
    },
    {
        "content": "<p>And <a href=\"https://github.com/leanprover-community/mathlib4/pull/11905\">#11905</a> removes about 60<del>a hundred</del> entries by tagging the respective declarations with @[inherit_doc] (and/or reformatting doc comments).</p>",
        "id": 431395496,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1712262122
    },
    {
        "content": "<p>I will try to tackle the remaining <code>docBlame</code>s  in the coming days / weeks.</p>",
        "id": 431406744,
        "sender_full_name": "Pietro Monticone",
        "timestamp": 1712266746
    },
    {
        "content": "<p>For some long-hanging fruit, <code>NumberTheory/Dioph</code> has about 15 scoped notations whose underlying definitions are not yet documented --- this would remove further ~30 lines from nolints.</p>",
        "id": 431675085,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1712411429
    },
    {
        "content": "<p>I think <code>NumberTheory.Dioph</code> should just be fully rewritten. It does a bunch of things in an ad hoc way because it was written before the corresponding more general theory came to mathlib</p>",
        "id": 431677150,
        "sender_full_name": "YaÃ«l Dillies",
        "timestamp": 1712413109
    },
    {
        "content": "<p>Some time ago, I took a look at the remaining entries:<br>\nunfortunately, the assertion \"lots of missing entries were just lost during the port (such as from ad-hoc ported files)\" is <strong>mostly false</strong>. From a fraction I have examined (perhaps a third of all entries),</p>\n<ul>\n<li>about a hundred were either for deprecated items (which will be removed eventually) or referring to material in the Init folder (which is, when not deprecated, mostly cruft that probably will get removed long-term).</li>\n<li>most other entries are also missing in mathlib3: the Lean 4 docBlame linter also requires documentation of data fields (not proofs) of structures</li>\n</ul>",
        "id": 439882224,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1716317819
    },
    {
        "content": "<p>I filed a few PRs documenting perhaps a hundred entries: the first have been merged; still up for review are</p>\n<ul>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/pull/12482\">#12482</a>: in <code>Geometry</code>, sans algebraic geometry</li>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/pull/12480\">#12480</a>: in <code>Computability</code></li>\n<li><a href=\"https://github.com/leanprover-community/mathlib4/pull/9827\">#9827</a> is delegated, with all comments addressed, and (imho) just needs somebody to push the \"merge\" button</li>\n</ul>",
        "id": 439882717,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1716317973
    }
]